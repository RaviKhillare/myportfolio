(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function hy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kh={exports:{}},da={},Ph={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function K0(){if(Nm)return Ae;Nm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function U(L,K,Ie){this.props=L,this.context=K,this.refs=q,this.updater=Ie||D}U.prototype.isReactComponent={},U.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function ee(){}ee.prototype=U.prototype;function re(L,K,Ie){this.props=L,this.context=K,this.refs=q,this.updater=Ie||D}var J=re.prototype=new ee;J.constructor=re,H(J,U.prototype),J.isPureReactComponent=!0;var ge=Array.isArray,xe=Object.prototype.hasOwnProperty,_e={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x(L,K,Ie){var Se,Ce={},Re=null,Fe=null;if(K!=null)for(Se in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(Re=""+K.key),K)xe.call(K,Se)&&!P.hasOwnProperty(Se)&&(Ce[Se]=K[Se]);var be=arguments.length-2;if(be===1)Ce.children=Ie;else if(1<be){for(var ze=Array(be),Ut=0;Ut<be;Ut++)ze[Ut]=arguments[Ut+2];Ce.children=ze}if(L&&L.defaultProps)for(Se in be=L.defaultProps,be)Ce[Se]===void 0&&(Ce[Se]=be[Se]);return{$$typeof:r,type:L,key:Re,ref:Fe,props:Ce,_owner:_e.current}}function R(L,K){return{$$typeof:r,type:L.type,key:K,ref:L.ref,props:L.props,_owner:L._owner}}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function N(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Ie){return K[Ie]})}var M=/\/+/g;function C(L,K){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):K.toString(36)}function $e(L,K,Ie,Se,Ce){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(Re){case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case r:case e:Fe=!0}}if(Fe)return Fe=L,Ce=Ce(Fe),L=Se===""?"."+C(Fe,0):Se,ge(Ce)?(Ie="",L!=null&&(Ie=L.replace(M,"$&/")+"/"),$e(Ce,K,Ie,"",function(Ut){return Ut})):Ce!=null&&(V(Ce)&&(Ce=R(Ce,Ie+(!Ce.key||Fe&&Fe.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+L)),K.push(Ce)),1;if(Fe=0,Se=Se===""?".":Se+":",ge(L))for(var be=0;be<L.length;be++){Re=L[be];var ze=Se+C(Re,be);Fe+=$e(Re,K,Ie,ze,Ce)}else if(ze=I(L),typeof ze=="function")for(L=ze.call(L),be=0;!(Re=L.next()).done;)Re=Re.value,ze=Se+C(Re,be++),Fe+=$e(Re,K,Ie,ze,Ce);else if(Re==="object")throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function _t(L,K,Ie){if(L==null)return L;var Se=[],Ce=0;return $e(L,Se,"","",function(Re){return K.call(Ie,Re,Ce++)}),Se}function Nt(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(Ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=Ie)},function(Ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=Ie)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var Qe={current:null},ne={transition:null},fe={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:_e};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:_t,forEach:function(L,K,Ie){_t(L,function(){K.apply(this,arguments)},Ie)},count:function(L){var K=0;return _t(L,function(){K++}),K},toArray:function(L){return _t(L,function(K){return K})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ae.Component=U,Ae.Fragment=t,Ae.Profiler=a,Ae.PureComponent=re,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ae.act=oe,Ae.cloneElement=function(L,K,Ie){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Se=H({},L.props),Ce=L.key,Re=L.ref,Fe=L._owner;if(K!=null){if(K.ref!==void 0&&(Re=K.ref,Fe=_e.current),K.key!==void 0&&(Ce=""+K.key),L.type&&L.type.defaultProps)var be=L.type.defaultProps;for(ze in K)xe.call(K,ze)&&!P.hasOwnProperty(ze)&&(Se[ze]=K[ze]===void 0&&be!==void 0?be[ze]:K[ze])}var ze=arguments.length-2;if(ze===1)Se.children=Ie;else if(1<ze){be=Array(ze);for(var Ut=0;Ut<ze;Ut++)be[Ut]=arguments[Ut+2];Se.children=be}return{$$typeof:r,type:L.type,key:Ce,ref:Re,props:Se,_owner:Fe}},Ae.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:l,_context:L},L.Consumer=L},Ae.createElement=x,Ae.createFactory=function(L){var K=x.bind(null,L);return K.type=L,K},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:d,render:L}},Ae.isValidElement=V,Ae.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:Nt}},Ae.memo=function(L,K){return{$$typeof:v,type:L,compare:K===void 0?null:K}},Ae.startTransition=function(L){var K=ne.transition;ne.transition={};try{L()}finally{ne.transition=K}},Ae.unstable_act=oe,Ae.useCallback=function(L,K){return Qe.current.useCallback(L,K)},Ae.useContext=function(L){return Qe.current.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L){return Qe.current.useDeferredValue(L)},Ae.useEffect=function(L,K){return Qe.current.useEffect(L,K)},Ae.useId=function(){return Qe.current.useId()},Ae.useImperativeHandle=function(L,K,Ie){return Qe.current.useImperativeHandle(L,K,Ie)},Ae.useInsertionEffect=function(L,K){return Qe.current.useInsertionEffect(L,K)},Ae.useLayoutEffect=function(L,K){return Qe.current.useLayoutEffect(L,K)},Ae.useMemo=function(L,K){return Qe.current.useMemo(L,K)},Ae.useReducer=function(L,K,Ie){return Qe.current.useReducer(L,K,Ie)},Ae.useRef=function(L){return Qe.current.useRef(L)},Ae.useState=function(L){return Qe.current.useState(L)},Ae.useSyncExternalStore=function(L,K,Ie){return Qe.current.useSyncExternalStore(L,K,Ie)},Ae.useTransition=function(){return Qe.current.useTransition()},Ae.version="18.3.1",Ae}var Dm;function Sf(){return Dm||(Dm=1,Ph.exports=K0()),Ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function G0(){if(Vm)return da;Vm=1;var r=Sf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,v){var w,E={},I=null,D=null;v!==void 0&&(I=""+v),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(D=g.ref);for(w in g)s.call(g,w)&&!l.hasOwnProperty(w)&&(E[w]=g[w]);if(d&&d.defaultProps)for(w in g=d.defaultProps,g)E[w]===void 0&&(E[w]=g[w]);return{$$typeof:e,type:d,key:I,ref:D,props:E,_owner:a.current}}return da.Fragment=t,da.jsx=h,da.jsxs=h,da}var bm;function Q0(){return bm||(bm=1,kh.exports=G0()),kh.exports}var A=Q0(),z=Sf();const xf=hy(z);var iu={},Nh={exports:{}},Qt={},Dh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Y0(){return Lm||(Lm=1,(function(r){function e(ne,fe){var oe=ne.length;ne.push(fe);e:for(;0<oe;){var L=oe-1>>>1,K=ne[L];if(0<a(K,fe))ne[L]=fe,ne[oe]=K,oe=L;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var fe=ne[0],oe=ne.pop();if(oe!==fe){ne[0]=oe;e:for(var L=0,K=ne.length,Ie=K>>>1;L<Ie;){var Se=2*(L+1)-1,Ce=ne[Se],Re=Se+1,Fe=ne[Re];if(0>a(Ce,oe))Re<K&&0>a(Fe,Ce)?(ne[L]=Fe,ne[Re]=oe,L=Re):(ne[L]=Ce,ne[Se]=oe,L=Se);else if(Re<K&&0>a(Fe,oe))ne[L]=Fe,ne[Re]=oe,L=Re;else break e}}return fe}function a(ne,fe){var oe=ne.sortIndex-fe.sortIndex;return oe!==0?oe:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],v=[],w=1,E=null,I=3,D=!1,H=!1,q=!1,U=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ne){for(var fe=t(v);fe!==null;){if(fe.callback===null)s(v);else if(fe.startTime<=ne)s(v),fe.sortIndex=fe.expirationTime,e(g,fe);else break;fe=t(v)}}function ge(ne){if(q=!1,J(ne),!H)if(t(g)!==null)H=!0,Nt(xe);else{var fe=t(v);fe!==null&&Qe(ge,fe.startTime-ne)}}function xe(ne,fe){H=!1,q&&(q=!1,ee(x),x=-1),D=!0;var oe=I;try{for(J(fe),E=t(g);E!==null&&(!(E.expirationTime>fe)||ne&&!N());){var L=E.callback;if(typeof L=="function"){E.callback=null,I=E.priorityLevel;var K=L(E.expirationTime<=fe);fe=r.unstable_now(),typeof K=="function"?E.callback=K:E===t(g)&&s(g),J(fe)}else s(g);E=t(g)}if(E!==null)var Ie=!0;else{var Se=t(v);Se!==null&&Qe(ge,Se.startTime-fe),Ie=!1}return Ie}finally{E=null,I=oe,D=!1}}var _e=!1,P=null,x=-1,R=5,V=-1;function N(){return!(r.unstable_now()-V<R)}function M(){if(P!==null){var ne=r.unstable_now();V=ne;var fe=!0;try{fe=P(!0,ne)}finally{fe?C():(_e=!1,P=null)}}else _e=!1}var C;if(typeof re=="function")C=function(){re(M)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,_t=$e.port2;$e.port1.onmessage=M,C=function(){_t.postMessage(null)}}else C=function(){U(M,0)};function Nt(ne){P=ne,_e||(_e=!0,C())}function Qe(ne,fe){x=U(function(){ne(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){H||D||(H=!0,Nt(xe))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var oe=I;I=fe;try{return ne()}finally{I=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=I;I=ne;try{return fe()}finally{I=oe}},r.unstable_scheduleCallback=function(ne,fe,oe){var L=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?L+oe:L):oe=L,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=oe+K,ne={id:w++,callback:fe,priorityLevel:ne,startTime:oe,expirationTime:K,sortIndex:-1},oe>L?(ne.sortIndex=oe,e(v,ne),t(g)===null&&ne===t(v)&&(q?(ee(x),x=-1):q=!0,Qe(ge,oe-L))):(ne.sortIndex=K,e(g,ne),H||D||(H=!0,Nt(xe))),ne},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(ne){var fe=I;return function(){var oe=I;I=fe;try{return ne.apply(this,arguments)}finally{I=oe}}}})(Vh)),Vh}var Mm;function X0(){return Mm||(Mm=1,Dh.exports=Y0()),Dh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function J0(){if(Om)return Qt;Om=1;var r=Sf(),e=X0();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(a[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function I(n){return g.call(E,n)?!0:g.call(w,n)?!1:v.test(n)?E[n]=!0:(w[n]=!0,!1)}function D(n,i,o,c){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function H(n,i,o,c){if(i===null||typeof i>"u"||D(n,i,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function q(n,i,o,c,f,p,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=n,this.type=i,this.sanitizeURL=p,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){U[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];U[i]=new q(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){U[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){U[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){U[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){U[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){U[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){U[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){U[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function re(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(ee,re);U[i]=new q(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(ee,re);U[i]=new q(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(ee,re);U[i]=new q(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){U[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),U.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){U[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function J(n,i,o,c){var f=U.hasOwnProperty(i)?U[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(H(i,o,f,c)&&(o=null),c||f===null?I(i)&&(o===null?n.removeAttribute(i):n.setAttribute(i,""+o)):f.mustUseProperty?n[f.propertyName]=o===null?f.type===3?!1:"":o:(i=f.attributeName,c=f.attributeNamespace,o===null?n.removeAttribute(i):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?n.setAttributeNS(c,i,o):n.setAttribute(i,o))))}var ge=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),_e=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,L;function K(n){if(L===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+n}var Ie=!1;function Se(n,i){if(!n||Ie)return"";Ie=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(B){var c=B}Reflect.construct(n,[],i)}else{try{i.call()}catch(B){c=B}n.call(i.prototype)}else{try{throw Error()}catch(B){c=B}n()}}catch(B){if(B&&c&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),p=c.stack.split(`
`),_=f.length-1,S=p.length-1;1<=_&&0<=S&&f[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(f[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||f[_]!==p[S]){var k=`
`+f[_].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=_&&0<=S);break}}}finally{Ie=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?K(n):""}function Ce(n){switch(n.tag){case 5:return K(n.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return n=Se(n.type,!1),n;case 11:return n=Se(n.type.render,!1),n;case 1:return n=Se(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case _e:return"Portal";case R:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case $e:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _t:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case Nt:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function Fe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ze(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ut(n){var i=ze(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function us(n){n._valueTracker||(n._valueTracker=Ut(n))}function _o(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=ze(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function Nr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function cs(n,i){var o=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function $a(n,i){var o=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;o=be(i.value!=null?i.value:o),n._wrapperState={initialChecked:c,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function hs(n,i){i=i.checked,i!=null&&J(n,"checked",i,!1)}function Ii(n,i){hs(n,i);var o=be(i.value),c=i.type;if(o!=null)c==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?lt(n,i.type,o):i.hasOwnProperty("defaultValue")&&lt(n,i.type,be(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function wo(n,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,o||i===n.value||(n.value=i),n.defaultValue=i}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function lt(n,i,o){(i!=="number"||Nr(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var it=Array.isArray;function En(n,i,o,c){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+be(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Eo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function To(n,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(t(92));if(it(o)){if(1<o.length)throw Error(t(93));o=o[0]}i=o}i==null&&(i=""),o=i}n._wrapperState={initialValue:be(o)}}function Ha(n,i){var o=be(i.value),c=be(i.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),i.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),c!=null&&(n.defaultValue=""+c)}function Dr(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Io(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fs(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Io(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vr,qa=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,o,c,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Vr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Si(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wa=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(n){Wa.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),br[i]=br[n]})});function Lr(n,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||br.hasOwnProperty(n)&&br[n]?(""+i).trim():i+"px"}function ds(n,i){n=n.style;for(var o in i)if(i.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=Lr(o,i[o],c);o==="float"&&(o="cssFloat"),c?n.setProperty(o,f):n[o]=f}}var So=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tn(n,i){if(i){if(So[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ps(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=null;function ms(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ar=null,lr=null,nt=null;function xo(n){if(n=Jo(n)){if(typeof ar!="function")throw Error(t(280));var i=n.stateNode;i&&(i=_l(i),ar(n.stateNode,n.type,i))}}function Or(n){lr?nt?nt.push(n):nt=[n]:lr=n}function Fr(){if(lr){var n=lr,i=nt;if(nt=lr=null,xo(n),i)for(n=0;n<i.length;n++)xo(i[n])}}function Ka(n,i){return n(i)}function Ga(){}var Dn=!1;function Qa(n,i,o){if(Dn)return n(i,o);Dn=!0;try{return Ka(n,i,o)}finally{Dn=!1,(lr!==null||nt!==null)&&(Ga(),Fr())}}function xi(n,i){var o=n.stateNode;if(o===null)return null;var c=_l(o);if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,i,typeof o));return o}var jr=!1;if(d)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{jr=!1}function Ya(n,i,o,c,f,p,_,S,k){var B=Array.prototype.slice.call(arguments,3);try{i.apply(o,B)}catch(Y){this.onError(Y)}}var ur=!1,Vn=null,gs=!1,fn=null,Xa={onError:function(n){ur=!0,Vn=n}};function Ja(n,i,o,c,f,p,_,S,k){ur=!1,Vn=null,Ya.apply(Xa,arguments)}function Ao(n,i,o,c,f,p,_,S,k){if(Ja.apply(this,arguments),ur){if(ur){var B=Vn;ur=!1,Vn=null}else throw Error(t(198));gs||(gs=!0,fn=B)}}function In(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function Co(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Za(n){if(In(n)!==n)throw Error(t(188))}function el(n){var i=n.alternate;if(!i){if(i=In(n),i===null)throw Error(t(188));return i!==n?null:n}for(var o=n,c=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return Za(f),n;if(p===c)return Za(f),i;p=p.sibling}throw Error(t(188))}if(o.return!==c.return)o=f,c=p;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,c=p;break}if(S===c){_=!0,c=f,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,c=f;break}if(S===c){_=!0,c=p,o=f;break}S=S.sibling}if(!_)throw Error(t(189))}}if(o.alternate!==c)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:i}function tl(n){return n=el(n),n!==null?Ai(n):null}function Ai(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Ai(n);if(i!==null)return i;n=n.sibling}return null}var Ro=e.unstable_scheduleCallback,ys=e.unstable_cancelCallback,Ci=e.unstable_shouldYield,cr=e.unstable_requestPaint,qe=e.unstable_now,oc=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,ko=e.unstable_UserBlockingPriority,Ri=e.unstable_NormalPriority,Po=e.unstable_LowPriority,_s=e.unstable_IdlePriority,ki=null,Jt=null;function nl(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ki,n,void 0,(n.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Pi,bn=Math.log,dn=Math.LN2;function Pi(n){return n>>>=0,n===0?32:31-(bn(n)/dn|0)|0}var Ln=64,zr=4194304;function Oe(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function hr(n,i){var o=n.pendingLanes;if(o===0)return 0;var c=0,f=n.suspendedLanes,p=n.pingedLanes,_=o&268435455;if(_!==0){var S=_&~f;S!==0?c=Oe(S):(p&=_,p!==0&&(c=Oe(p)))}else _=o&~f,_!==0?c=Oe(_):p!==0&&(c=Oe(p));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,p=i&-i,f>=p||f===16&&(p&4194240)!==0))return i;if((c&4)!==0&&(c|=o&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)o=31-Zt(i),f=1<<o,c|=n[o],i&=~f;return c}function Ni(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes;0<p;){var _=31-Zt(p),S=1<<_,k=f[_];k===-1?((S&o)===0||(S&c)!==0)&&(f[_]=Ni(S,i)):k<=i&&(n.expiredLanes|=S),p&=~S}}function No(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Do(){var n=Ln;return Ln<<=1,(Ln&4194240)===0&&(Ln=64),n}function Vo(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Vi(n,i,o){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Zt(i),n[i]=o}function ac(n,i){var o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<o;){var f=31-Zt(o),p=1<<f;i[f]=0,c[f]=-1,n[f]=-1,o&=~p}}function bo(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-Zt(o),f=1<<c;f&i|n[c]&i&&(n[c]|=i),o&=~f}}var Ne=0;function Mn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Lo,ws,Mo,Oo,Fo,On=!1,Es=[],Fn=null,jn=null,St=null,bi=new Map,fr=new Map,en=[],rl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Br(n,i){switch(n){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":bi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fr.delete(i.pointerId)}}function Sn(n,i,o,c,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Jo(i),i!==null&&ws(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function il(n,i,o,c,f){switch(i){case"focusin":return Fn=Sn(Fn,n,i,o,c,f),!0;case"dragenter":return jn=Sn(jn,n,i,o,c,f),!0;case"mouseover":return St=Sn(St,n,i,o,c,f),!0;case"pointerover":var p=f.pointerId;return bi.set(p,Sn(bi.get(p)||null,n,i,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,fr.set(p,Sn(fr.get(p)||null,n,i,o,c,f)),!0}return!1}function Ts(n){var i=Fi(n.target);if(i!==null){var o=In(i);if(o!==null){if(i=o.tag,i===13){if(i=Co(o),i!==null){n.blockedOn=i,Fo(n.priority,function(){Mo(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Be(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Is(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Mr=c,o.target.dispatchEvent(c),Mr=null}else return i=Jo(o),i!==null&&ws(i),n.blockedOn=o,!1;i.shift()}return!0}function sl(n,i,o){Be(n)&&o.delete(i)}function lc(){On=!1,Fn!==null&&Be(Fn)&&(Fn=null),jn!==null&&Be(jn)&&(jn=null),St!==null&&Be(St)&&(St=null),bi.forEach(sl),fr.forEach(sl)}function $r(n,i){n.blockedOn===i&&(n.blockedOn=null,On||(On=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lc)))}function Hr(n){function i(f){return $r(f,n)}if(0<Es.length){$r(Es[0],n);for(var o=1;o<Es.length;o++){var c=Es[o];c.blockedOn===n&&(c.blockedOn=null)}}for(Fn!==null&&$r(Fn,n),jn!==null&&$r(jn,n),St!==null&&$r(St,n),bi.forEach(i),fr.forEach(i),o=0;o<en.length;o++)c=en[o],c.blockedOn===n&&(c.blockedOn=null);for(;0<en.length&&(o=en[0],o.blockedOn===null);)Ts(o),o.blockedOn===null&&en.shift()}var dr=ge.ReactCurrentBatchConfig,pr=!0;function Un(n,i,o,c){var f=Ne,p=dr.transition;dr.transition=null;try{Ne=1,jo(n,i,o,c)}finally{Ne=f,dr.transition=p}}function ol(n,i,o,c){var f=Ne,p=dr.transition;dr.transition=null;try{Ne=4,jo(n,i,o,c)}finally{Ne=f,dr.transition=p}}function jo(n,i,o,c){if(pr){var f=Is(n,i,o,c);if(f===null)_c(n,i,c,zn,o),Br(n,c);else if(il(f,n,i,o,c))c.stopPropagation();else if(Br(n,c),i&4&&-1<rl.indexOf(n)){for(;f!==null;){var p=Jo(f);if(p!==null&&Lo(p),p=Is(n,i,o,c),p===null&&_c(n,i,c,zn,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else _c(n,i,c,null,o)}}var zn=null;function Is(n,i,o,c){if(zn=null,n=ms(c),n=Fi(n),n!==null)if(i=In(n),i===null)n=null;else if(o=i.tag,o===13){if(n=Co(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return zn=n,null}function Ss(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oc()){case vs:return 1;case ko:return 4;case Ri:case Po:return 16;case _s:return 536870912;default:return 16}default:return 16}}var tn=null,xs=null,mr=null;function al(){if(mr)return mr;var n,i=xs,o=i.length,c,f="value"in tn?tn.value:tn.textContent,p=f.length;for(n=0;n<o&&i[n]===f[n];n++);var _=o-n;for(c=1;c<=_&&i[o-c]===f[p-c];c++);return mr=f.slice(n,1<c?1-c:void 0)}function Li(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Bn(){return!0}function Uo(){return!1}function Dt(n){function i(o,c,f,p,_){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bn:Uo,this.isPropagationStopped=Uo,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),i}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Dt($n),qr=oe({},$n,{view:0,detail:0}),As=Dt(qr),Cs,Rs,nn,Oi=oe({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ee,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==nn&&(nn&&n.type==="mousemove"?(Cs=n.screenX-nn.screenX,Rs=n.screenY-nn.screenY):Rs=Cs=0,nn=n),Cs)},movementY:function(n){return"movementY"in n?n.movementY:Rs}}),zo=Dt(Oi),ll=oe({},Oi,{dataTransfer:0}),ul=Dt(ll),ks=oe({},qr,{relatedTarget:0}),xt=Dt(ks),cl=oe({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),hl=Dt(cl),Wr=oe({},$n,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Dt(Wr),m=oe({},$n,{data:0}),y=Dt(m),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function te(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$[n])?!!i[n]:!1}function Ee(){return te}var st=oe({},qr,{key:function(n){if(n.key){var i=T[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Li(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?F[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ee,charCode:function(n){return n.type==="keypress"?Li(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Li(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ue=Dt(st),ut=oe({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rn=Dt(ut),gr=oe({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ee}),Hn=Dt(gr),qn=oe({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ps=Dt(qn),Bo=oe({},Oi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),z_=Dt(Bo),B_=[9,13,27,32],uc=d&&"CompositionEvent"in window,$o=null;d&&"documentMode"in document&&($o=document.documentMode);var $_=d&&"TextEvent"in window&&!$o,Id=d&&(!uc||$o&&8<$o&&11>=$o),Sd=" ",xd=!1;function Ad(n,i){switch(n){case"keyup":return B_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ns=!1;function H_(n,i){switch(n){case"compositionend":return Cd(i);case"keypress":return i.which!==32?null:(xd=!0,Sd);case"textInput":return n=i.data,n===Sd&&xd?null:n;default:return null}}function q_(n,i){if(Ns)return n==="compositionend"||!uc&&Ad(n,i)?(n=al(),mr=xs=tn=null,Ns=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Id&&i.locale!=="ko"?null:i.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!W_[n.type]:i==="textarea"}function kd(n,i,o,c){Or(c),i=gl(i,"onChange"),0<i.length&&(o=new Mi("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var Ho=null,qo=null;function K_(n){Kd(n,0)}function fl(n){var i=Ms(n);if(_o(i))return n}function G_(n,i){if(n==="change")return i}var Pd=!1;if(d){var cc;if(d){var hc="oninput"in document;if(!hc){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),hc=typeof Nd.oninput=="function"}cc=hc}else cc=!1;Pd=cc&&(!document.documentMode||9<document.documentMode)}function Dd(){Ho&&(Ho.detachEvent("onpropertychange",Vd),qo=Ho=null)}function Vd(n){if(n.propertyName==="value"&&fl(qo)){var i=[];kd(i,qo,n,ms(n)),Qa(K_,i)}}function Q_(n,i,o){n==="focusin"?(Dd(),Ho=i,qo=o,Ho.attachEvent("onpropertychange",Vd)):n==="focusout"&&Dd()}function Y_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fl(qo)}function X_(n,i){if(n==="click")return fl(i)}function J_(n,i){if(n==="input"||n==="change")return fl(i)}function Z_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var xn=typeof Object.is=="function"?Object.is:Z_;function Wo(n,i){if(xn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(i,f)||!xn(n[f],i[f]))return!1}return!0}function bd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ld(n,i){var o=bd(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bd(o)}}function Md(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Md(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Od(){for(var n=window,i=Nr();i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Nr(n.document)}return i}function fc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function e0(n){var i=Od(),o=n.focusedElem,c=n.selectionRange;if(i!==o&&o&&o.ownerDocument&&Md(o.ownerDocument.documentElement,o)){if(c!==null&&fc(o)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(n,o.value.length);else if(n=(i=o.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=o.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!n.extend&&p>c&&(f=c,c=p,p=f),f=Ld(o,p);var _=Ld(o,c);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),p>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=o;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)n=i[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var t0=d&&"documentMode"in document&&11>=document.documentMode,Ds=null,dc=null,Ko=null,pc=!1;function Fd(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pc||Ds==null||Ds!==Nr(c)||(c=Ds,"selectionStart"in c&&fc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ko&&Wo(Ko,c)||(Ko=c,c=gl(dc,"onSelect"),0<c.length&&(i=new Mi("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Ds)))}function dl(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Vs={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},mc={},jd={};d&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function pl(n){if(mc[n])return mc[n];if(!Vs[n])return n;var i=Vs[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in jd)return mc[n]=i[o];return n}var Ud=pl("animationend"),zd=pl("animationiteration"),Bd=pl("animationstart"),$d=pl("transitionend"),Hd=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(n,i){Hd.set(n,i),l(i,[n])}for(var gc=0;gc<qd.length;gc++){var yc=qd[gc],n0=yc.toLowerCase(),r0=yc[0].toUpperCase()+yc.slice(1);Kr(n0,"on"+r0)}Kr(Ud,"onAnimationEnd"),Kr(zd,"onAnimationIteration"),Kr(Bd,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr($d,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Wd(n,i,o){var c=n.type||"unknown-event";n.currentTarget=o,Ao(c,i,void 0,n),n.currentTarget=null}function Kd(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var _=c.length-1;0<=_;_--){var S=c[_],k=S.instance,B=S.currentTarget;if(S=S.listener,k!==p&&f.isPropagationStopped())break e;Wd(f,S,B),p=k}else for(_=0;_<c.length;_++){if(S=c[_],k=S.instance,B=S.currentTarget,S=S.listener,k!==p&&f.isPropagationStopped())break e;Wd(f,S,B),p=k}}}if(gs)throw n=fn,gs=!1,fn=null,n}function We(n,i){var o=i[xc];o===void 0&&(o=i[xc]=new Set);var c=n+"__bubble";o.has(c)||(Gd(i,n,2,!1),o.add(c))}function vc(n,i,o){var c=0;i&&(c|=4),Gd(o,n,c,i)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Qo(n){if(!n[ml]){n[ml]=!0,s.forEach(function(o){o!=="selectionchange"&&(i0.has(o)||vc(o,!1,n),vc(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ml]||(i[ml]=!0,vc("selectionchange",!1,i))}}function Gd(n,i,o,c){switch(Ss(i)){case 1:var f=Un;break;case 4:f=ol;break;default:f=jo}o=f.bind(null,i,o,n),f=void 0,!jr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function _c(n,i,o,c,f){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var k=_.tag;if((k===3||k===4)&&(k=_.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;_=_.return}for(;S!==null;){if(_=Fi(S),_===null)return;if(k=_.tag,k===5||k===6){c=p=_;continue e}S=S.parentNode}}c=c.return}Qa(function(){var B=p,Y=ms(o),X=[];e:{var G=Hd.get(n);if(G!==void 0){var ie=Mi,le=n;switch(n){case"keypress":if(Li(o)===0)break e;case"keydown":case"keyup":ie=Ue;break;case"focusin":le="focus",ie=xt;break;case"focusout":le="blur",ie=xt;break;case"beforeblur":case"afterblur":ie=xt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Hn;break;case Ud:case zd:case Bd:ie=hl;break;case $d:ie=Ps;break;case"scroll":ie=As;break;case"wheel":ie=z_;break;case"copy":case"cut":case"paste":ie=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=rn}var ue=(i&4)!==0,ot=!ue&&n==="scroll",O=ue?G!==null?G+"Capture":null:G;ue=[];for(var b=B,j;b!==null;){j=b;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,O!==null&&(Z=xi(b,O),Z!=null&&ue.push(Yo(b,Z,j)))),ot)break;b=b.return}0<ue.length&&(G=new ie(G,le,null,o,Y),X.push({event:G,listeners:ue}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",G&&o!==Mr&&(le=o.relatedTarget||o.fromElement)&&(Fi(le)||le[yr]))break e;if((ie||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ie?(le=o.relatedTarget||o.toElement,ie=B,le=le?Fi(le):null,le!==null&&(ot=In(le),le!==ot||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=B),ie!==le)){if(ue=zo,Z="onMouseLeave",O="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(ue=rn,Z="onPointerLeave",O="onPointerEnter",b="pointer"),ot=ie==null?G:Ms(ie),j=le==null?G:Ms(le),G=new ue(Z,b+"leave",ie,o,Y),G.target=ot,G.relatedTarget=j,Z=null,Fi(Y)===B&&(ue=new ue(O,b+"enter",le,o,Y),ue.target=j,ue.relatedTarget=ot,Z=ue),ot=Z,ie&&le)t:{for(ue=ie,O=le,b=0,j=ue;j;j=bs(j))b++;for(j=0,Z=O;Z;Z=bs(Z))j++;for(;0<b-j;)ue=bs(ue),b--;for(;0<j-b;)O=bs(O),j--;for(;b--;){if(ue===O||O!==null&&ue===O.alternate)break t;ue=bs(ue),O=bs(O)}ue=null}else ue=null;ie!==null&&Qd(X,G,ie,ue,!1),le!==null&&ot!==null&&Qd(X,ot,le,ue,!0)}}e:{if(G=B?Ms(B):window,ie=G.nodeName&&G.nodeName.toLowerCase(),ie==="select"||ie==="input"&&G.type==="file")var ce=G_;else if(Rd(G))if(Pd)ce=J_;else{ce=Y_;var de=Q_}else(ie=G.nodeName)&&ie.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ce=X_);if(ce&&(ce=ce(n,B))){kd(X,ce,o,Y);break e}de&&de(n,G,B),n==="focusout"&&(de=G._wrapperState)&&de.controlled&&G.type==="number"&&lt(G,"number",G.value)}switch(de=B?Ms(B):window,n){case"focusin":(Rd(de)||de.contentEditable==="true")&&(Ds=de,dc=B,Ko=null);break;case"focusout":Ko=dc=Ds=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Fd(X,o,Y);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":Fd(X,o,Y)}var pe;if(uc)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ns?Ad(n,o)&&(ve="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(Id&&o.locale!=="ko"&&(Ns||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ns&&(pe=al()):(tn=Y,xs="value"in tn?tn.value:tn.textContent,Ns=!0)),de=gl(B,ve),0<de.length&&(ve=new y(ve,n,null,o,Y),X.push({event:ve,listeners:de}),pe?ve.data=pe:(pe=Cd(o),pe!==null&&(ve.data=pe)))),(pe=$_?H_(n,o):q_(n,o))&&(B=gl(B,"onBeforeInput"),0<B.length&&(Y=new y("onBeforeInput","beforeinput",null,o,Y),X.push({event:Y,listeners:B}),Y.data=pe))}Kd(X,i)})}function Yo(n,i,o){return{instance:n,listener:i,currentTarget:o}}function gl(n,i){for(var o=i+"Capture",c=[];n!==null;){var f=n,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=xi(n,o),p!=null&&c.unshift(Yo(n,p,f)),p=xi(n,i),p!=null&&c.push(Yo(n,p,f))),n=n.return}return c}function bs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Qd(n,i,o,c,f){for(var p=i._reactName,_=[];o!==null&&o!==c;){var S=o,k=S.alternate,B=S.stateNode;if(k!==null&&k===c)break;S.tag===5&&B!==null&&(S=B,f?(k=xi(o,p),k!=null&&_.unshift(Yo(o,k,S))):f||(k=xi(o,p),k!=null&&_.push(Yo(o,k,S)))),o=o.return}_.length!==0&&n.push({event:i,listeners:_})}var s0=/\r\n?/g,o0=/\u0000|\uFFFD/g;function Yd(n){return(typeof n=="string"?n:""+n).replace(s0,`
`).replace(o0,"")}function yl(n,i,o){if(i=Yd(i),Yd(n)!==i&&o)throw Error(t(425))}function vl(){}var wc=null,Ec=null;function Tc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ic=typeof setTimeout=="function"?setTimeout:void 0,a0=typeof clearTimeout=="function"?clearTimeout:void 0,Xd=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof Xd<"u"?function(n){return Xd.resolve(null).then(n).catch(u0)}:Ic;function u0(n){setTimeout(function(){throw n})}function Sc(n,i){var o=i,c=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){n.removeChild(f),Hr(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);Hr(i)}function Gr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Jd(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Ls,Xo="__reactProps$"+Ls,yr="__reactContainer$"+Ls,xc="__reactEvents$"+Ls,c0="__reactListeners$"+Ls,h0="__reactHandles$"+Ls;function Fi(n){var i=n[Wn];if(i)return i;for(var o=n.parentNode;o;){if(i=o[yr]||o[Wn]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Jd(n);n!==null;){if(o=n[Wn])return o;n=Jd(n)}return i}n=o,o=n.parentNode}return null}function Jo(n){return n=n[Wn]||n[yr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ms(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function _l(n){return n[Xo]||null}var Ac=[],Os=-1;function Qr(n){return{current:n}}function Ke(n){0>Os||(n.current=Ac[Os],Ac[Os]=null,Os--)}function He(n,i){Os++,Ac[Os]=n.current,n.current=i}var Yr={},Vt=Qr(Yr),Ht=Qr(!1),ji=Yr;function Fs(n,i){var o=n.type.contextTypes;if(!o)return Yr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=i[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function qt(n){return n=n.childContextTypes,n!=null}function wl(){Ke(Ht),Ke(Vt)}function Zd(n,i,o){if(Vt.current!==Yr)throw Error(t(168));He(Vt,i),He(Ht,o)}function ep(n,i,o){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Fe(n)||"Unknown",f));return oe({},o,c)}function El(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yr,ji=Vt.current,He(Vt,n),He(Ht,Ht.current),!0}function tp(n,i,o){var c=n.stateNode;if(!c)throw Error(t(169));o?(n=ep(n,i,ji),c.__reactInternalMemoizedMergedChildContext=n,Ke(Ht),Ke(Vt),He(Vt,n)):Ke(Ht),He(Ht,o)}var vr=null,Tl=!1,Cc=!1;function np(n){vr===null?vr=[n]:vr.push(n)}function f0(n){Tl=!0,np(n)}function Xr(){if(!Cc&&vr!==null){Cc=!0;var n=0,i=Ne;try{var o=vr;for(Ne=1;n<o.length;n++){var c=o[n];do c=c(!0);while(c!==null)}vr=null,Tl=!1}catch(f){throw vr!==null&&(vr=vr.slice(n+1)),Ro(vs,Xr),f}finally{Ne=i,Cc=!1}}return null}var js=[],Us=0,Il=null,Sl=0,pn=[],mn=0,Ui=null,_r=1,wr="";function zi(n,i){js[Us++]=Sl,js[Us++]=Il,Il=n,Sl=i}function rp(n,i,o){pn[mn++]=_r,pn[mn++]=wr,pn[mn++]=Ui,Ui=n;var c=_r;n=wr;var f=32-Zt(c)-1;c&=~(1<<f),o+=1;var p=32-Zt(i)+f;if(30<p){var _=f-f%5;p=(c&(1<<_)-1).toString(32),c>>=_,f-=_,_r=1<<32-Zt(i)+f|o<<f|c,wr=p+n}else _r=1<<p|o<<f|c,wr=n}function Rc(n){n.return!==null&&(zi(n,1),rp(n,1,0))}function kc(n){for(;n===Il;)Il=js[--Us],js[Us]=null,Sl=js[--Us],js[Us]=null;for(;n===Ui;)Ui=pn[--mn],pn[mn]=null,wr=pn[--mn],pn[mn]=null,_r=pn[--mn],pn[mn]=null}var sn=null,on=null,Ye=!1,An=null;function ip(n,i){var o=_n(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=n,i=n.deletions,i===null?(n.deletions=[o],n.flags|=16):i.push(o)}function sp(n,i){switch(n.tag){case 5:var o=n.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,sn=n,on=Gr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,sn=n,on=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=Ui!==null?{id:_r,overflow:wr}:null,n.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=_n(18,null,null,0),o.stateNode=i,o.return=n,n.child=o,sn=n,on=null,!0):!1;default:return!1}}function Pc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Nc(n){if(Ye){var i=on;if(i){var o=i;if(!sp(n,i)){if(Pc(n))throw Error(t(418));i=Gr(o.nextSibling);var c=sn;i&&sp(n,i)?ip(c,o):(n.flags=n.flags&-4097|2,Ye=!1,sn=n)}}else{if(Pc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ye=!1,sn=n}}}function op(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sn=n}function xl(n){if(n!==sn)return!1;if(!Ye)return op(n),Ye=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Tc(n.type,n.memoizedProps)),i&&(i=on)){if(Pc(n))throw ap(),Error(t(418));for(;i;)ip(n,i),i=Gr(i.nextSibling)}if(op(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(i===0){on=Gr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}n=n.nextSibling}on=null}}else on=sn?Gr(n.stateNode.nextSibling):null;return!0}function ap(){for(var n=on;n;)n=Gr(n.nextSibling)}function zs(){on=sn=null,Ye=!1}function Dc(n){An===null?An=[n]:An.push(n)}var d0=ge.ReactCurrentBatchConfig;function Zo(n,i,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var c=o.stateNode}if(!c)throw Error(t(147,n));var f=c,p=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(_){var S=f.refs;_===null?delete S[p]:S[p]=_},i._stringRef=p,i)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function Al(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function lp(n){var i=n._init;return i(n._payload)}function up(n){function i(O,b){if(n){var j=O.deletions;j===null?(O.deletions=[b],O.flags|=16):j.push(b)}}function o(O,b){if(!n)return null;for(;b!==null;)i(O,b),b=b.sibling;return null}function c(O,b){for(O=new Map;b!==null;)b.key!==null?O.set(b.key,b):O.set(b.index,b),b=b.sibling;return O}function f(O,b){return O=si(O,b),O.index=0,O.sibling=null,O}function p(O,b,j){return O.index=j,n?(j=O.alternate,j!==null?(j=j.index,j<b?(O.flags|=2,b):j):(O.flags|=2,b)):(O.flags|=1048576,b)}function _(O){return n&&O.alternate===null&&(O.flags|=2),O}function S(O,b,j,Z){return b===null||b.tag!==6?(b=Ih(j,O.mode,Z),b.return=O,b):(b=f(b,j),b.return=O,b)}function k(O,b,j,Z){var ce=j.type;return ce===P?Y(O,b,j.props.children,Z,j.key):b!==null&&(b.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Nt&&lp(ce)===b.type)?(Z=f(b,j.props),Z.ref=Zo(O,b,j),Z.return=O,Z):(Z=Yl(j.type,j.key,j.props,null,O.mode,Z),Z.ref=Zo(O,b,j),Z.return=O,Z)}function B(O,b,j,Z){return b===null||b.tag!==4||b.stateNode.containerInfo!==j.containerInfo||b.stateNode.implementation!==j.implementation?(b=Sh(j,O.mode,Z),b.return=O,b):(b=f(b,j.children||[]),b.return=O,b)}function Y(O,b,j,Z,ce){return b===null||b.tag!==7?(b=Qi(j,O.mode,Z,ce),b.return=O,b):(b=f(b,j),b.return=O,b)}function X(O,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ih(""+b,O.mode,j),b.return=O,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xe:return j=Yl(b.type,b.key,b.props,null,O.mode,j),j.ref=Zo(O,null,b),j.return=O,j;case _e:return b=Sh(b,O.mode,j),b.return=O,b;case Nt:var Z=b._init;return X(O,Z(b._payload),j)}if(it(b)||fe(b))return b=Qi(b,O.mode,j,null),b.return=O,b;Al(O,b)}return null}function G(O,b,j,Z){var ce=b!==null?b.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ce!==null?null:S(O,b,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case xe:return j.key===ce?k(O,b,j,Z):null;case _e:return j.key===ce?B(O,b,j,Z):null;case Nt:return ce=j._init,G(O,b,ce(j._payload),Z)}if(it(j)||fe(j))return ce!==null?null:Y(O,b,j,Z,null);Al(O,j)}return null}function ie(O,b,j,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return O=O.get(j)||null,S(b,O,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case xe:return O=O.get(Z.key===null?j:Z.key)||null,k(b,O,Z,ce);case _e:return O=O.get(Z.key===null?j:Z.key)||null,B(b,O,Z,ce);case Nt:var de=Z._init;return ie(O,b,j,de(Z._payload),ce)}if(it(Z)||fe(Z))return O=O.get(j)||null,Y(b,O,Z,ce,null);Al(b,Z)}return null}function le(O,b,j,Z){for(var ce=null,de=null,pe=b,ve=b=0,Tt=null;pe!==null&&ve<j.length;ve++){pe.index>ve?(Tt=pe,pe=null):Tt=pe.sibling;var Me=G(O,pe,j[ve],Z);if(Me===null){pe===null&&(pe=Tt);break}n&&pe&&Me.alternate===null&&i(O,pe),b=p(Me,b,ve),de===null?ce=Me:de.sibling=Me,de=Me,pe=Tt}if(ve===j.length)return o(O,pe),Ye&&zi(O,ve),ce;if(pe===null){for(;ve<j.length;ve++)pe=X(O,j[ve],Z),pe!==null&&(b=p(pe,b,ve),de===null?ce=pe:de.sibling=pe,de=pe);return Ye&&zi(O,ve),ce}for(pe=c(O,pe);ve<j.length;ve++)Tt=ie(pe,O,ve,j[ve],Z),Tt!==null&&(n&&Tt.alternate!==null&&pe.delete(Tt.key===null?ve:Tt.key),b=p(Tt,b,ve),de===null?ce=Tt:de.sibling=Tt,de=Tt);return n&&pe.forEach(function(oi){return i(O,oi)}),Ye&&zi(O,ve),ce}function ue(O,b,j,Z){var ce=fe(j);if(typeof ce!="function")throw Error(t(150));if(j=ce.call(j),j==null)throw Error(t(151));for(var de=ce=null,pe=b,ve=b=0,Tt=null,Me=j.next();pe!==null&&!Me.done;ve++,Me=j.next()){pe.index>ve?(Tt=pe,pe=null):Tt=pe.sibling;var oi=G(O,pe,Me.value,Z);if(oi===null){pe===null&&(pe=Tt);break}n&&pe&&oi.alternate===null&&i(O,pe),b=p(oi,b,ve),de===null?ce=oi:de.sibling=oi,de=oi,pe=Tt}if(Me.done)return o(O,pe),Ye&&zi(O,ve),ce;if(pe===null){for(;!Me.done;ve++,Me=j.next())Me=X(O,Me.value,Z),Me!==null&&(b=p(Me,b,ve),de===null?ce=Me:de.sibling=Me,de=Me);return Ye&&zi(O,ve),ce}for(pe=c(O,pe);!Me.done;ve++,Me=j.next())Me=ie(pe,O,ve,Me.value,Z),Me!==null&&(n&&Me.alternate!==null&&pe.delete(Me.key===null?ve:Me.key),b=p(Me,b,ve),de===null?ce=Me:de.sibling=Me,de=Me);return n&&pe.forEach(function(W0){return i(O,W0)}),Ye&&zi(O,ve),ce}function ot(O,b,j,Z){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case xe:e:{for(var ce=j.key,de=b;de!==null;){if(de.key===ce){if(ce=j.type,ce===P){if(de.tag===7){o(O,de.sibling),b=f(de,j.props.children),b.return=O,O=b;break e}}else if(de.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Nt&&lp(ce)===de.type){o(O,de.sibling),b=f(de,j.props),b.ref=Zo(O,de,j),b.return=O,O=b;break e}o(O,de);break}else i(O,de);de=de.sibling}j.type===P?(b=Qi(j.props.children,O.mode,Z,j.key),b.return=O,O=b):(Z=Yl(j.type,j.key,j.props,null,O.mode,Z),Z.ref=Zo(O,b,j),Z.return=O,O=Z)}return _(O);case _e:e:{for(de=j.key;b!==null;){if(b.key===de)if(b.tag===4&&b.stateNode.containerInfo===j.containerInfo&&b.stateNode.implementation===j.implementation){o(O,b.sibling),b=f(b,j.children||[]),b.return=O,O=b;break e}else{o(O,b);break}else i(O,b);b=b.sibling}b=Sh(j,O.mode,Z),b.return=O,O=b}return _(O);case Nt:return de=j._init,ot(O,b,de(j._payload),Z)}if(it(j))return le(O,b,j,Z);if(fe(j))return ue(O,b,j,Z);Al(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,b!==null&&b.tag===6?(o(O,b.sibling),b=f(b,j),b.return=O,O=b):(o(O,b),b=Ih(j,O.mode,Z),b.return=O,O=b),_(O)):o(O,b)}return ot}var Bs=up(!0),cp=up(!1),Cl=Qr(null),Rl=null,$s=null,Vc=null;function bc(){Vc=$s=Rl=null}function Lc(n){var i=Cl.current;Ke(Cl),n._currentValue=i}function Mc(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function Hs(n,i){Rl=n,Vc=$s=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Wt=!0),n.firstContext=null)}function gn(n){var i=n._currentValue;if(Vc!==n)if(n={context:n,memoizedValue:i,next:null},$s===null){if(Rl===null)throw Error(t(308));$s=n,Rl.dependencies={lanes:0,firstContext:n}}else $s=$s.next=n;return i}var Bi=null;function Oc(n){Bi===null?Bi=[n]:Bi.push(n)}function hp(n,i,o,c){var f=i.interleaved;return f===null?(o.next=o,Oc(i)):(o.next=f.next,f.next=o),i.interleaved=o,Er(n,c)}function Er(n,i){n.lanes|=i;var o=n.alternate;for(o!==null&&(o.lanes|=i),o=n,n=n.return;n!==null;)n.childLanes|=i,o=n.alternate,o!==null&&(o.childLanes|=i),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Jr=!1;function Fc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Tr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Zr(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Le&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Er(n,o)}return f=c.interleaved,f===null?(i.next=i,Oc(c)):(i.next=f.next,f.next=i),c.interleaved=i,Er(n,o)}function kl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,bo(n,o)}}function dp(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}function Pl(n,i,o,c){var f=n.updateQueue;Jr=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var k=S,B=k.next;k.next=null,_===null?p=B:_.next=B,_=k;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=B:S.next=B,Y.lastBaseUpdate=k))}if(p!==null){var X=f.baseState;_=0,Y=B=k=null,S=p;do{var G=S.lane,ie=S.eventTime;if((c&G)===G){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=n,ue=S;switch(G=i,ie=o,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){X=le.call(ie,X,G);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,G=typeof le=="function"?le.call(ie,X,G):le,G==null)break e;X=oe({},X,G);break e;case 2:Jr=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,G=f.effects,G===null?f.effects=[S]:G.push(S))}else ie={eventTime:ie,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(B=Y=ie,k=X):Y=Y.next=ie,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(Y===null&&(k=X),f.baseState=k,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,i=f.shared.interleaved,i!==null){f=i;do _|=f.lane,f=f.next;while(f!==i)}else p===null&&(f.shared.lanes=0);qi|=_,n.lanes=_,n.memoizedState=X}}function pp(n,i,o){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var ea={},Kn=Qr(ea),ta=Qr(ea),na=Qr(ea);function $i(n){if(n===ea)throw Error(t(174));return n}function jc(n,i){switch(He(na,i),He(ta,n),He(Kn,ea),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:fs(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=fs(i,n)}Ke(Kn),He(Kn,i)}function qs(){Ke(Kn),Ke(ta),Ke(na)}function mp(n){$i(na.current);var i=$i(Kn.current),o=fs(i,n.type);i!==o&&(He(ta,n),He(Kn,o))}function Uc(n){ta.current===n&&(Ke(Kn),Ke(ta))}var Je=Qr(0);function Nl(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zc=[];function Bc(){for(var n=0;n<zc.length;n++)zc[n]._workInProgressVersionPrimary=null;zc.length=0}var Dl=ge.ReactCurrentDispatcher,$c=ge.ReactCurrentBatchConfig,Hi=0,Ze=null,pt=null,wt=null,Vl=!1,ra=!1,ia=0,p0=0;function bt(){throw Error(t(321))}function Hc(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!xn(n[o],i[o]))return!1;return!0}function qc(n,i,o,c,f,p){if(Hi=p,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Dl.current=n===null||n.memoizedState===null?v0:_0,n=o(c,f),ra){p=0;do{if(ra=!1,ia=0,25<=p)throw Error(t(301));p+=1,wt=pt=null,i.updateQueue=null,Dl.current=w0,n=o(c,f)}while(ra)}if(Dl.current=Ml,i=pt!==null&&pt.next!==null,Hi=0,wt=pt=Ze=null,Vl=!1,i)throw Error(t(300));return n}function Wc(){var n=ia!==0;return ia=0,n}function Gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=n:wt=wt.next=n,wt}function yn(){if(pt===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var i=wt===null?Ze.memoizedState:wt.next;if(i!==null)wt=i,pt=n;else{if(n===null)throw Error(t(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Ze.memoizedState=wt=n:wt=wt.next=n}return wt}function sa(n,i){return typeof i=="function"?i(n):i}function Kc(n){var i=yn(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=pt,f=c.baseQueue,p=o.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}c.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,c=c.baseState;var S=_=null,k=null,B=p;do{var Y=B.lane;if((Hi&Y)===Y)k!==null&&(k=k.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),c=B.hasEagerState?B.eagerState:n(c,B.action);else{var X={lane:Y,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};k===null?(S=k=X,_=c):k=k.next=X,Ze.lanes|=Y,qi|=Y}B=B.next}while(B!==null&&B!==p);k===null?_=c:k.next=S,xn(c,i.memoizedState)||(Wt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=k,o.lastRenderedState=c}if(n=o.interleaved,n!==null){f=n;do p=f.lane,Ze.lanes|=p,qi|=p,f=f.next;while(f!==n)}else f===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function Gc(n){var i=yn(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=n(p,_.action),_=_.next;while(_!==f);xn(p,i.memoizedState)||(Wt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,c]}function gp(){}function yp(n,i){var o=Ze,c=yn(),f=i(),p=!xn(c.memoizedState,f);if(p&&(c.memoizedState=f,Wt=!0),c=c.queue,Qc(wp.bind(null,o,c,n),[n]),c.getSnapshot!==i||p||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,oa(9,_p.bind(null,o,c,f,i),void 0,null),Et===null)throw Error(t(349));(Hi&30)!==0||vp(o,i,f)}return f}function vp(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function _p(n,i,o,c){i.value=o,i.getSnapshot=c,Ep(i)&&Tp(n)}function wp(n,i,o){return o(function(){Ep(i)&&Tp(n)})}function Ep(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!xn(n,o)}catch{return!0}}function Tp(n){var i=Er(n,1);i!==null&&Pn(i,n,1,-1)}function Ip(n){var i=Gn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:n},i.queue=n,n=n.dispatch=y0.bind(null,Ze,n),[i.memoizedState,n]}function oa(n,i,o,c){return n={tag:n,create:i,destroy:o,deps:c,next:null},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.lastEffect=n.next=n):(o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n)),n}function Sp(){return yn().memoizedState}function bl(n,i,o,c){var f=Gn();Ze.flags|=n,f.memoizedState=oa(1|i,o,void 0,c===void 0?null:c)}function Ll(n,i,o,c){var f=yn();c=c===void 0?null:c;var p=void 0;if(pt!==null){var _=pt.memoizedState;if(p=_.destroy,c!==null&&Hc(c,_.deps)){f.memoizedState=oa(i,o,p,c);return}}Ze.flags|=n,f.memoizedState=oa(1|i,o,p,c)}function xp(n,i){return bl(8390656,8,n,i)}function Qc(n,i){return Ll(2048,8,n,i)}function Ap(n,i){return Ll(4,2,n,i)}function Cp(n,i){return Ll(4,4,n,i)}function Rp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function kp(n,i,o){return o=o!=null?o.concat([n]):null,Ll(4,4,Rp.bind(null,i,n),o)}function Yc(){}function Pp(n,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Hc(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function Np(n,i){var o=yn();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Hc(i,c[1])?c[0]:(n=n(),o.memoizedState=[n,i],n)}function Dp(n,i,o){return(Hi&21)===0?(n.baseState&&(n.baseState=!1,Wt=!0),n.memoizedState=o):(xn(o,i)||(o=Do(),Ze.lanes|=o,qi|=o,n.baseState=!0),i)}function m0(n,i){var o=Ne;Ne=o!==0&&4>o?o:4,n(!0);var c=$c.transition;$c.transition={};try{n(!1),i()}finally{Ne=o,$c.transition=c}}function Vp(){return yn().memoizedState}function g0(n,i,o){var c=ri(n);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},bp(n))Lp(i,o);else if(o=hp(n,i,o,c),o!==null){var f=Bt();Pn(o,n,c,f),Mp(o,i,c)}}function y0(n,i,o){var c=ri(n),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(bp(n))Lp(i,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,S=p(_,o);if(f.hasEagerState=!0,f.eagerState=S,xn(S,_)){var k=i.interleaved;k===null?(f.next=f,Oc(i)):(f.next=k.next,k.next=f),i.interleaved=f;return}}catch{}finally{}o=hp(n,i,f,c),o!==null&&(f=Bt(),Pn(o,n,c,f),Mp(o,i,c))}}function bp(n){var i=n.alternate;return n===Ze||i!==null&&i===Ze}function Lp(n,i){ra=Vl=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Mp(n,i,o){if((o&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,bo(n,o)}}var Ml={readContext:gn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},v0={readContext:gn,useCallback:function(n,i){return Gn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:xp,useImperativeHandle:function(n,i,o){return o=o!=null?o.concat([n]):null,bl(4194308,4,Rp.bind(null,i,n),o)},useLayoutEffect:function(n,i){return bl(4194308,4,n,i)},useInsertionEffect:function(n,i){return bl(4,2,n,i)},useMemo:function(n,i){var o=Gn();return i=i===void 0?null:i,n=n(),o.memoizedState=[n,i],n},useReducer:function(n,i,o){var c=Gn();return i=o!==void 0?o(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=g0.bind(null,Ze,n),[c.memoizedState,n]},useRef:function(n){var i=Gn();return n={current:n},i.memoizedState=n},useState:Ip,useDebugValue:Yc,useDeferredValue:function(n){return Gn().memoizedState=n},useTransition:function(){var n=Ip(!1),i=n[0];return n=m0.bind(null,n[1]),Gn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,o){var c=Ze,f=Gn();if(Ye){if(o===void 0)throw Error(t(407));o=o()}else{if(o=i(),Et===null)throw Error(t(349));(Hi&30)!==0||vp(c,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,xp(wp.bind(null,c,p,n),[n]),c.flags|=2048,oa(9,_p.bind(null,c,p,o,i),void 0,null),o},useId:function(){var n=Gn(),i=Et.identifierPrefix;if(Ye){var o=wr,c=_r;o=(c&~(1<<32-Zt(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=ia++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=p0++,i=":"+i+"r"+o.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},_0={readContext:gn,useCallback:Pp,useContext:gn,useEffect:Qc,useImperativeHandle:kp,useInsertionEffect:Ap,useLayoutEffect:Cp,useMemo:Np,useReducer:Kc,useRef:Sp,useState:function(){return Kc(sa)},useDebugValue:Yc,useDeferredValue:function(n){var i=yn();return Dp(i,pt.memoizedState,n)},useTransition:function(){var n=Kc(sa)[0],i=yn().memoizedState;return[n,i]},useMutableSource:gp,useSyncExternalStore:yp,useId:Vp,unstable_isNewReconciler:!1},w0={readContext:gn,useCallback:Pp,useContext:gn,useEffect:Qc,useImperativeHandle:kp,useInsertionEffect:Ap,useLayoutEffect:Cp,useMemo:Np,useReducer:Gc,useRef:Sp,useState:function(){return Gc(sa)},useDebugValue:Yc,useDeferredValue:function(n){var i=yn();return pt===null?i.memoizedState=n:Dp(i,pt.memoizedState,n)},useTransition:function(){var n=Gc(sa)[0],i=yn().memoizedState;return[n,i]},useMutableSource:gp,useSyncExternalStore:yp,useId:Vp,unstable_isNewReconciler:!1};function Cn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var o in n)i[o]===void 0&&(i[o]=n[o]);return i}return i}function Xc(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:oe({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ol={isMounted:function(n){return(n=n._reactInternals)?In(n)===n:!1},enqueueSetState:function(n,i,o){n=n._reactInternals;var c=Bt(),f=ri(n),p=Tr(c,f);p.payload=i,o!=null&&(p.callback=o),i=Zr(n,p,f),i!==null&&(Pn(i,n,f,c),kl(i,n,f))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=Bt(),f=ri(n),p=Tr(c,f);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Zr(n,p,f),i!==null&&(Pn(i,n,f,c),kl(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Bt(),c=ri(n),f=Tr(o,c);f.tag=2,i!=null&&(f.callback=i),i=Zr(n,f,c),i!==null&&(Pn(i,n,c,o),kl(i,n,c))}};function Op(n,i,o,c,f,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(o,c)||!Wo(f,p):!0}function Fp(n,i,o){var c=!1,f=Yr,p=i.contextType;return typeof p=="object"&&p!==null?p=gn(p):(f=qt(i)?ji:Vt.current,c=i.contextTypes,p=(c=c!=null)?Fs(n,f):Yr),i=new i(o,p),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ol,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=p),i}function jp(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&Ol.enqueueReplaceState(i,i.state,null)}function Jc(n,i,o,c){var f=n.stateNode;f.props=o,f.state=n.memoizedState,f.refs={},Fc(n);var p=i.contextType;typeof p=="object"&&p!==null?f.context=gn(p):(p=qt(i)?ji:Vt.current,f.context=Fs(n,p)),f.state=n.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Xc(n,i,p,o),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Ol.enqueueReplaceState(f,f.state,null),Pl(n,o,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Ws(n,i){try{var o="",c=i;do o+=Ce(c),c=c.return;while(c);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:i,stack:f,digest:null}}function Zc(n,i,o){return{value:n,source:null,stack:o??null,digest:i??null}}function eh(n,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var E0=typeof WeakMap=="function"?WeakMap:Map;function Up(n,i,o){o=Tr(-1,o),o.tag=3,o.payload={element:null};var c=i.value;return o.callback=function(){Hl||(Hl=!0,mh=c),eh(n,i)},o}function zp(n,i,o){o=Tr(-1,o),o.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;o.payload=function(){return c(f)},o.callback=function(){eh(n,i)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){eh(n,i),typeof c!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),o}function Bp(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new E0;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(f.add(o),n=L0.bind(null,n,i,o),i.then(n,n))}function $p(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Hp(n,i,o,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=Tr(-1,1),i.tag=2,Zr(o,i,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var T0=ge.ReactCurrentOwner,Wt=!1;function zt(n,i,o,c){i.child=n===null?cp(i,null,o,c):Bs(i,n.child,o,c)}function qp(n,i,o,c,f){o=o.render;var p=i.ref;return Hs(i,f),c=qc(n,i,o,c,p,f),o=Wc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ir(n,i,f)):(Ye&&o&&Rc(i),i.flags|=1,zt(n,i,c,f),i.child)}function Wp(n,i,o,c,f){if(n===null){var p=o.type;return typeof p=="function"&&!Th(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=p,Kp(n,i,p,c,f)):(n=Yl(o.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,(n.lanes&f)===0){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Wo,o(_,c)&&n.ref===i.ref)return Ir(n,i,f)}return i.flags|=1,n=si(p,c),n.ref=i.ref,n.return=i,i.child=n}function Kp(n,i,o,c,f){if(n!==null){var p=n.memoizedProps;if(Wo(p,c)&&n.ref===i.ref)if(Wt=!1,i.pendingProps=c=p,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Wt=!0);else return i.lanes=n.lanes,Ir(n,i,f)}return th(n,i,o,c,f)}function Gp(n,i,o){var c=i.pendingProps,f=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Gs,an),an|=o;else{if((o&1073741824)===0)return n=p!==null?p.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,He(Gs,an),an|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,He(Gs,an),an|=c}else p!==null?(c=p.baseLanes|o,i.memoizedState=null):c=o,He(Gs,an),an|=c;return zt(n,i,f,o),i.child}function Qp(n,i){var o=i.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function th(n,i,o,c,f){var p=qt(o)?ji:Vt.current;return p=Fs(i,p),Hs(i,f),o=qc(n,i,o,c,p,f),c=Wc(),n!==null&&!Wt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Ir(n,i,f)):(Ye&&c&&Rc(i),i.flags|=1,zt(n,i,o,f),i.child)}function Yp(n,i,o,c,f){if(qt(o)){var p=!0;El(i)}else p=!1;if(Hs(i,f),i.stateNode===null)jl(n,i),Fp(i,o,c),Jc(i,o,c,f),c=!0;else if(n===null){var _=i.stateNode,S=i.memoizedProps;_.props=S;var k=_.context,B=o.contextType;typeof B=="object"&&B!==null?B=gn(B):(B=qt(o)?ji:Vt.current,B=Fs(i,B));var Y=o.getDerivedStateFromProps,X=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==c||k!==B)&&jp(i,_,c,B),Jr=!1;var G=i.memoizedState;_.state=G,Pl(i,c,_,f),k=i.memoizedState,S!==c||G!==k||Ht.current||Jr?(typeof Y=="function"&&(Xc(i,o,Y,c),k=i.memoizedState),(S=Jr||Op(i,o,S,c,G,k,B))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=k),_.props=c,_.state=k,_.context=B,c=S):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,fp(n,i),S=i.memoizedProps,B=i.type===i.elementType?S:Cn(i.type,S),_.props=B,X=i.pendingProps,G=_.context,k=o.contextType,typeof k=="object"&&k!==null?k=gn(k):(k=qt(o)?ji:Vt.current,k=Fs(i,k));var ie=o.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==X||G!==k)&&jp(i,_,c,k),Jr=!1,G=i.memoizedState,_.state=G,Pl(i,c,_,f);var le=i.memoizedState;S!==X||G!==le||Ht.current||Jr?(typeof ie=="function"&&(Xc(i,o,ie,c),le=i.memoizedState),(B=Jr||Op(i,o,B,c,G,le,k)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,le,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,le,k)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=le),_.props=c,_.state=le,_.context=k,c=B):(typeof _.componentDidUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),c=!1)}return nh(n,i,o,c,p,f)}function nh(n,i,o,c,f,p){Qp(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return f&&tp(i,o,!1),Ir(n,i,p);c=i.stateNode,T0.current=i;var S=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Bs(i,n.child,null,p),i.child=Bs(i,null,S,p)):zt(n,i,S,p),i.memoizedState=c.state,f&&tp(i,o,!0),i.child}function Xp(n){var i=n.stateNode;i.pendingContext?Zd(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Zd(n,i.context,!1),jc(n,i.containerInfo)}function Jp(n,i,o,c,f){return zs(),Dc(f),i.flags|=256,zt(n,i,o,c),i.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function ih(n){return{baseLanes:n,cachePool:null,transitions:null}}function Zp(n,i,o){var c=i.pendingProps,f=Je.current,p=!1,_=(i.flags&128)!==0,S;if((S=_)||(S=n!==null&&n.memoizedState===null?!1:(f&2)!==0),S?(p=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),He(Je,f&1),n===null)return Nc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=c.children,n=c.fallback,p?(c=i.mode,p=i.child,_={mode:"hidden",children:_},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Xl(_,c,0,null),n=Qi(n,c,o,null),p.return=i,n.return=i,p.sibling=n,i.child=p,i.child.memoizedState=ih(o),i.memoizedState=rh,n):sh(i,_));if(f=n.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return I0(n,i,_,c,S,f,o);if(p){p=c.fallback,_=i.mode,f=n.child,S=f.sibling;var k={mode:"hidden",children:c.children};return(_&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=k,i.deletions=null):(c=si(f,k),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=si(S,p):(p=Qi(p,_,o,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,_=n.child.memoizedState,_=_===null?ih(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=n.childLanes&~o,i.memoizedState=rh,c}return p=n.child,n=p.sibling,c=si(p,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=o),c.return=i,c.sibling=null,n!==null&&(o=i.deletions,o===null?(i.deletions=[n],i.flags|=16):o.push(n)),i.child=c,i.memoizedState=null,c}function sh(n,i){return i=Xl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Fl(n,i,o,c){return c!==null&&Dc(c),Bs(i,n.child,null,o),n=sh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function I0(n,i,o,c,f,p,_){if(o)return i.flags&256?(i.flags&=-257,c=Zc(Error(t(422))),Fl(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(p=c.fallback,f=i.mode,c=Xl({mode:"visible",children:c.children},f,0,null),p=Qi(p,f,_,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,(i.mode&1)!==0&&Bs(i,n.child,null,_),i.child.memoizedState=ih(_),i.memoizedState=rh,p);if((i.mode&1)===0)return Fl(n,i,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,p=Error(t(419)),c=Zc(p,c,void 0),Fl(n,i,_,c)}if(S=(_&n.childLanes)!==0,Wt||S){if(c=Et,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,Er(n,f),Pn(c,n,f,-1))}return Eh(),c=Zc(Error(t(421))),Fl(n,i,_,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=M0.bind(null,n),f._reactRetry=i,null):(n=p.treeContext,on=Gr(f.nextSibling),sn=i,Ye=!0,An=null,n!==null&&(pn[mn++]=_r,pn[mn++]=wr,pn[mn++]=Ui,_r=n.id,wr=n.overflow,Ui=i),i=sh(i,c.children),i.flags|=4096,i)}function em(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Mc(n.return,i,o)}function oh(n,i,o,c,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function tm(n,i,o){var c=i.pendingProps,f=c.revealOrder,p=c.tail;if(zt(n,i,c.children,o),c=Je.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&em(n,o,i);else if(n.tag===19)em(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(He(Je,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Nl(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),oh(i,!1,f,o,p);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Nl(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}oh(i,!0,o,null,p);break;case"together":oh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ir(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),qi|=i.lanes,(o&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,o=si(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=si(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function S0(n,i,o){switch(i.tag){case 3:Xp(i),zs();break;case 5:mp(i);break;case 1:qt(i.type)&&El(i);break;case 4:jc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;He(Cl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(Je,Je.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?Zp(n,i,o):(He(Je,Je.current&1),n=Ir(n,i,o),n!==null?n.sibling:null);He(Je,Je.current&1);break;case 19:if(c=(o&i.childLanes)!==0,(n.flags&128)!==0){if(c)return tm(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Je,Je.current),c)break;return null;case 22:case 23:return i.lanes=0,Gp(n,i,o)}return Ir(n,i,o)}var nm,ah,rm,im;nm=function(n,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},ah=function(){},rm=function(n,i,o,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,$i(Kn.current);var p=null;switch(o){case"input":f=cs(n,f),c=cs(n,c),p=[];break;case"select":f=oe({},f,{value:void 0}),c=oe({},c,{value:void 0}),p=[];break;case"textarea":f=Eo(n,f),c=Eo(n,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=vl)}Tn(o,c);var _;o=null;for(B in f)if(!c.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var S=f[B];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in c){var k=c[B];if(S=f!=null?f[B]:void 0,c.hasOwnProperty(B)&&k!==S&&(k!=null||S!=null))if(B==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||k&&k.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in k)k.hasOwnProperty(_)&&S[_]!==k[_]&&(o||(o={}),o[_]=k[_])}else o||(p||(p=[]),p.push(B,o)),o=k;else B==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,S=S?S.__html:void 0,k!=null&&S!==k&&(p=p||[]).push(B,k)):B==="children"?typeof k!="string"&&typeof k!="number"||(p=p||[]).push(B,""+k):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(k!=null&&B==="onScroll"&&We("scroll",n),p||S===k||(p=[])):(p=p||[]).push(B,k))}o&&(p=p||[]).push("style",o);var B=p;(i.updateQueue=B)&&(i.flags|=4)}},im=function(n,i,o,c){o!==c&&(i.flags|=4)};function aa(n,i){if(!Ye)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function x0(n,i,o){var c=i.pendingProps;switch(kc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return qt(i.type)&&wl(),Lt(i),null;case 3:return c=i.stateNode,qs(),Ke(Ht),Ke(Vt),Bc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(xl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,An!==null&&(vh(An),An=null))),ah(n,i),Lt(i),null;case 5:Uc(i);var f=$i(na.current);if(o=i.type,n!==null&&i.stateNode!=null)rm(n,i,o,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Lt(i),null}if(n=$i(Kn.current),xl(i)){c=i.stateNode,o=i.type;var p=i.memoizedProps;switch(c[Wn]=i,c[Xo]=p,n=(i.mode&1)!==0,o){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(f=0;f<Go.length;f++)We(Go[f],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":$a(c,p),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},We("invalid",c);break;case"textarea":To(c,p),We("invalid",c)}Tn(o,p),f=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?c.textContent!==S&&(p.suppressHydrationWarning!==!0&&yl(c.textContent,S,n),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&yl(c.textContent,S,n),f=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&We("scroll",c)}switch(o){case"input":us(c),wo(c,p,!0);break;case"textarea":us(c),Dr(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=vl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Io(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(o,{is:c.is}):(n=_.createElement(o),o==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,o),n[Wn]=i,n[Xo]=c,nm(n,i,!1,!1),i.stateNode=n;e:{switch(_=ps(o,c),o){case"dialog":We("cancel",n),We("close",n),f=c;break;case"iframe":case"object":case"embed":We("load",n),f=c;break;case"video":case"audio":for(f=0;f<Go.length;f++)We(Go[f],n);f=c;break;case"source":We("error",n),f=c;break;case"img":case"image":case"link":We("error",n),We("load",n),f=c;break;case"details":We("toggle",n),f=c;break;case"input":$a(n,c),f=cs(n,c),We("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=oe({},c,{value:void 0}),We("invalid",n);break;case"textarea":To(n,c),f=Eo(n,c),We("invalid",n);break;default:f=c}Tn(o,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var k=S[p];p==="style"?ds(n,k):p==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&qa(n,k)):p==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Si(n,k):typeof k=="number"&&Si(n,""+k):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?k!=null&&p==="onScroll"&&We("scroll",n):k!=null&&J(n,p,k,_))}switch(o){case"input":us(n),wo(n,c,!1);break;case"textarea":us(n),Dr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+be(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?En(n,!!c.multiple,p,!1):c.defaultValue!=null&&En(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=vl)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(n&&i.stateNode!=null)im(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(o=$i(na.current),$i(Kn.current),xl(i)){if(c=i.stateNode,o=i.memoizedProps,c[Wn]=i,(p=c.nodeValue!==o)&&(n=sn,n!==null))switch(n.tag){case 3:yl(c.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&yl(c.nodeValue,o,(n.mode&1)!==0)}p&&(i.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Wn]=i,i.stateNode=c}return Lt(i),null;case 13:if(Ke(Je),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ye&&on!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ap(),zs(),i.flags|=98560,p=!1;else if(p=xl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[Wn]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),p=!1}else An!==null&&(vh(An),An=null),p=!0;if(!p)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Je.current&1)!==0?mt===0&&(mt=3):Eh())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return qs(),ah(n,i),n===null&&Qo(i.stateNode.containerInfo),Lt(i),null;case 10:return Lc(i.type._context),Lt(i),null;case 17:return qt(i.type)&&wl(),Lt(i),null;case 19:if(Ke(Je),p=i.memoizedState,p===null)return Lt(i),null;if(c=(i.flags&128)!==0,_=p.rendering,_===null)if(c)aa(p,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=Nl(n),_!==null){for(i.flags|=128,aa(p,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=o,o=i.child;o!==null;)p=o,n=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,n=_.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return He(Je,Je.current&1|2),i.child}n=n.sibling}p.tail!==null&&qe()>Qs&&(i.flags|=128,c=!0,aa(p,!1),i.lanes=4194304)}else{if(!c)if(n=Nl(_),n!==null){if(i.flags|=128,c=!0,o=n.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),aa(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ye)return Lt(i),null}else 2*qe()-p.renderingStartTime>Qs&&o!==1073741824&&(i.flags|=128,c=!0,aa(p,!1),i.lanes=4194304);p.isBackwards?(_.sibling=i.child,i.child=_):(o=p.last,o!==null?o.sibling=_:i.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=qe(),i.sibling=null,o=Je.current,He(Je,c?o&1|2:o&1),i):(Lt(i),null);case 22:case 23:return wh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(an&1073741824)!==0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function A0(n,i){switch(kc(i),i.tag){case 1:return qt(i.type)&&wl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qs(),Ke(Ht),Ke(Vt),Bc(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Uc(i),null;case 13:if(Ke(Je),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));zs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ke(Je),null;case 4:return qs(),null;case 10:return Lc(i.type._context),null;case 22:case 23:return wh(),null;case 24:return null;default:return null}}var Ul=!1,Mt=!1,C0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ks(n,i){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){rt(n,i,c)}else o.current=null}function lh(n,i,o){try{o()}catch(c){rt(n,i,c)}}var sm=!1;function R0(n,i){if(wc=pr,n=Od(),fc(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,k=-1,B=0,Y=0,X=n,G=null;t:for(;;){for(var ie;X!==o||f!==0&&X.nodeType!==3||(S=_+f),X!==p||c!==0&&X.nodeType!==3||(k=_+c),X.nodeType===3&&(_+=X.nodeValue.length),(ie=X.firstChild)!==null;)G=X,X=ie;for(;;){if(X===n)break t;if(G===o&&++B===f&&(S=_),G===p&&++Y===c&&(k=_),(ie=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=ie}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ec={focusedElem:n,selectionRange:o},pr=!1,ae=i;ae!==null;)if(i=ae,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ae=n;else for(;ae!==null;){i=ae;try{var le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,ot=le.memoizedState,O=i.stateNode,b=O.getSnapshotBeforeUpdate(i.elementType===i.type?ue:Cn(i.type,ue),ot);O.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=i.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Z){rt(i,i.return,Z)}if(n=i.sibling,n!==null){n.return=i.return,ae=n;break}ae=i.return}return le=sm,sm=!1,le}function la(n,i,o){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var p=f.destroy;f.destroy=void 0,p!==void 0&&lh(i,o,p)}f=f.next}while(f!==c)}}function zl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var c=o.create;o.destroy=c()}o=o.next}while(o!==i)}}function uh(n){var i=n.ref;if(i!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof i=="function"?i(n):i.current=n}}function om(n){var i=n.alternate;i!==null&&(n.alternate=null,om(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Wn],delete i[Xo],delete i[xc],delete i[c0],delete i[h0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function am(n){return n.tag===5||n.tag===3||n.tag===4}function lm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||am(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ch(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(n,i):o.insertBefore(n,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(n,o)):(i=o,i.appendChild(n)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=vl));else if(c!==4&&(n=n.child,n!==null))for(ch(n,i,o),n=n.sibling;n!==null;)ch(n,i,o),n=n.sibling}function hh(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(hh(n,i,o),n=n.sibling;n!==null;)hh(n,i,o),n=n.sibling}var At=null,Rn=!1;function ei(n,i,o){for(o=o.child;o!==null;)um(n,i,o),o=o.sibling}function um(n,i,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ki,o)}catch{}switch(o.tag){case 5:Mt||Ks(o,i);case 6:var c=At,f=Rn;At=null,ei(n,i,o),At=c,Rn=f,At!==null&&(Rn?(n=At,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):At.removeChild(o.stateNode));break;case 18:At!==null&&(Rn?(n=At,o=o.stateNode,n.nodeType===8?Sc(n.parentNode,o):n.nodeType===1&&Sc(n,o),Hr(n)):Sc(At,o.stateNode));break;case 4:c=At,f=Rn,At=o.stateNode.containerInfo,Rn=!0,ei(n,i,o),At=c,Rn=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&lh(o,i,_),f=f.next}while(f!==c)}ei(n,i,o);break;case 1:if(!Mt&&(Ks(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(S){rt(o,i,S)}ei(n,i,o);break;case 21:ei(n,i,o);break;case 22:o.mode&1?(Mt=(c=Mt)||o.memoizedState!==null,ei(n,i,o),Mt=c):ei(n,i,o);break;default:ei(n,i,o)}}function cm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new C0),i.forEach(function(c){var f=O0.bind(null,n,c);o.has(c)||(o.add(c),c.then(f,f))})}}function kn(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var p=n,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 5:At=S.stateNode,Rn=!1;break e;case 3:At=S.stateNode.containerInfo,Rn=!0;break e;case 4:At=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(At===null)throw Error(t(160));um(p,_,f),At=null,Rn=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch(B){rt(f,i,B)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)hm(i,n),i=i.sibling}function hm(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kn(i,n),Qn(n),c&4){try{la(3,n,n.return),zl(3,n)}catch(ue){rt(n,n.return,ue)}try{la(5,n,n.return)}catch(ue){rt(n,n.return,ue)}}break;case 1:kn(i,n),Qn(n),c&512&&o!==null&&Ks(o,o.return);break;case 5:if(kn(i,n),Qn(n),c&512&&o!==null&&Ks(o,o.return),n.flags&32){var f=n.stateNode;try{Si(f,"")}catch(ue){rt(n,n.return,ue)}}if(c&4&&(f=n.stateNode,f!=null)){var p=n.memoizedProps,_=o!==null?o.memoizedProps:p,S=n.type,k=n.updateQueue;if(n.updateQueue=null,k!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&hs(f,p),ps(S,_);var B=ps(S,p);for(_=0;_<k.length;_+=2){var Y=k[_],X=k[_+1];Y==="style"?ds(f,X):Y==="dangerouslySetInnerHTML"?qa(f,X):Y==="children"?Si(f,X):J(f,Y,X,B)}switch(S){case"input":Ii(f,p);break;case"textarea":Ha(f,p);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?En(f,!!p.multiple,ie,!1):G!==!!p.multiple&&(p.defaultValue!=null?En(f,!!p.multiple,p.defaultValue,!0):En(f,!!p.multiple,p.multiple?[]:"",!1))}f[Xo]=p}catch(ue){rt(n,n.return,ue)}}break;case 6:if(kn(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,p=n.memoizedProps;try{f.nodeValue=p}catch(ue){rt(n,n.return,ue)}}break;case 3:if(kn(i,n),Qn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Hr(i.containerInfo)}catch(ue){rt(n,n.return,ue)}break;case 4:kn(i,n),Qn(n);break;case 13:kn(i,n),Qn(n),f=n.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(ph=qe())),c&4&&cm(n);break;case 22:if(Y=o!==null&&o.memoizedState!==null,n.mode&1?(Mt=(B=Mt)||Y,kn(i,n),Mt=B):kn(i,n),Qn(n),c&8192){if(B=n.memoizedState!==null,(n.stateNode.isHidden=B)&&!Y&&(n.mode&1)!==0)for(ae=n,Y=n.child;Y!==null;){for(X=ae=Y;ae!==null;){switch(G=ae,ie=G.child,G.tag){case 0:case 11:case 14:case 15:la(4,G,G.return);break;case 1:Ks(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){c=G,o=G.return;try{i=c,le.props=i.memoizedProps,le.state=i.memoizedState,le.componentWillUnmount()}catch(ue){rt(c,o,ue)}}break;case 5:Ks(G,G.return);break;case 22:if(G.memoizedState!==null){pm(X);continue}}ie!==null?(ie.return=G,ae=ie):pm(X)}Y=Y.sibling}e:for(Y=null,X=n;;){if(X.tag===5){if(Y===null){Y=X;try{f=X.stateNode,B?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=X.stateNode,k=X.memoizedProps.style,_=k!=null&&k.hasOwnProperty("display")?k.display:null,S.style.display=Lr("display",_))}catch(ue){rt(n,n.return,ue)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=B?"":X.memoizedProps}catch(ue){rt(n,n.return,ue)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:kn(i,n),Qn(n),c&4&&cm(n);break;case 21:break;default:kn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{e:{for(var o=n.return;o!==null;){if(am(o)){var c=o;break e}o=o.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Si(f,""),c.flags&=-33);var p=lm(n);hh(n,p,f);break;case 3:case 4:var _=c.stateNode.containerInfo,S=lm(n);ch(n,S,_);break;default:throw Error(t(161))}}catch(k){rt(n,n.return,k)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function k0(n,i,o){ae=n,fm(n)}function fm(n,i,o){for(var c=(n.mode&1)!==0;ae!==null;){var f=ae,p=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||Ul;if(!_){var S=f.alternate,k=S!==null&&S.memoizedState!==null||Mt;S=Ul;var B=Mt;if(Ul=_,(Mt=k)&&!B)for(ae=f;ae!==null;)_=ae,k=_.child,_.tag===22&&_.memoizedState!==null?mm(f):k!==null?(k.return=_,ae=k):mm(f);for(;p!==null;)ae=p,fm(p),p=p.sibling;ae=f,Ul=S,Mt=B}dm(n)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,ae=p):dm(n)}}function dm(n){for(;ae!==null;){var i=ae;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||zl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(o===null)c.componentDidMount();else{var f=i.elementType===i.type?o.memoizedProps:Cn(i.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&pp(i,p,c);break;case 3:var _=i.updateQueue;if(_!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}pp(i,_,o)}break;case 5:var S=i.stateNode;if(o===null&&i.flags&4){o=S;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var B=i.alternate;if(B!==null){var Y=B.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&Hr(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&uh(i)}catch(G){rt(i,i.return,G)}}if(i===n){ae=null;break}if(o=i.sibling,o!==null){o.return=i.return,ae=o;break}ae=i.return}}function pm(n){for(;ae!==null;){var i=ae;if(i===n){ae=null;break}var o=i.sibling;if(o!==null){o.return=i.return,ae=o;break}ae=i.return}}function mm(n){for(;ae!==null;){var i=ae;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{zl(4,i)}catch(k){rt(i,o,k)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(k){rt(i,f,k)}}var p=i.return;try{uh(i)}catch(k){rt(i,p,k)}break;case 5:var _=i.return;try{uh(i)}catch(k){rt(i,_,k)}}}catch(k){rt(i,i.return,k)}if(i===n){ae=null;break}var S=i.sibling;if(S!==null){S.return=i.return,ae=S;break}ae=i.return}}var P0=Math.ceil,Bl=ge.ReactCurrentDispatcher,fh=ge.ReactCurrentOwner,vn=ge.ReactCurrentBatchConfig,Le=0,Et=null,ct=null,Ct=0,an=0,Gs=Qr(0),mt=0,ua=null,qi=0,$l=0,dh=0,ca=null,Kt=null,ph=0,Qs=1/0,Sr=null,Hl=!1,mh=null,ti=null,ql=!1,ni=null,Wl=0,ha=0,gh=null,Kl=-1,Gl=0;function Bt(){return(Le&6)!==0?qe():Kl!==-1?Kl:Kl=qe()}function ri(n){return(n.mode&1)===0?1:(Le&2)!==0&&Ct!==0?Ct&-Ct:d0.transition!==null?(Gl===0&&(Gl=Do()),Gl):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:Ss(n.type)),n)}function Pn(n,i,o,c){if(50<ha)throw ha=0,gh=null,Error(t(185));Vi(n,o,c),((Le&2)===0||n!==Et)&&(n===Et&&((Le&2)===0&&($l|=o),mt===4&&ii(n,Ct)),Gt(n,c),o===1&&Le===0&&(i.mode&1)===0&&(Qs=qe()+500,Tl&&Xr()))}function Gt(n,i){var o=n.callbackNode;Di(n,i);var c=hr(n,n===Et?Ct:0);if(c===0)o!==null&&ys(o),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(o!=null&&ys(o),i===1)n.tag===0?f0(ym.bind(null,n)):np(ym.bind(null,n)),l0(function(){(Le&6)===0&&Xr()}),o=null;else{switch(Mn(c)){case 1:o=vs;break;case 4:o=ko;break;case 16:o=Ri;break;case 536870912:o=_s;break;default:o=Ri}o=xm(o,gm.bind(null,n))}n.callbackPriority=i,n.callbackNode=o}}function gm(n,i){if(Kl=-1,Gl=0,(Le&6)!==0)throw Error(t(327));var o=n.callbackNode;if(Ys()&&n.callbackNode!==o)return null;var c=hr(n,n===Et?Ct:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=Ql(n,c);else{i=c;var f=Le;Le|=2;var p=_m();(Et!==n||Ct!==i)&&(Sr=null,Qs=qe()+500,Ki(n,i));do try{V0();break}catch(S){vm(n,S)}while(!0);bc(),Bl.current=p,Le=f,ct!==null?i=0:(Et=null,Ct=0,i=mt)}if(i!==0){if(i===2&&(f=No(n),f!==0&&(c=f,i=yh(n,f))),i===1)throw o=ua,Ki(n,0),ii(n,c),Gt(n,qe()),o;if(i===6)ii(n,c);else{if(f=n.current.alternate,(c&30)===0&&!N0(f)&&(i=Ql(n,c),i===2&&(p=No(n),p!==0&&(c=p,i=yh(n,p))),i===1))throw o=ua,Ki(n,0),ii(n,c),Gt(n,qe()),o;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Gi(n,Kt,Sr);break;case 3:if(ii(n,c),(c&130023424)===c&&(i=ph+500-qe(),10<i)){if(hr(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Bt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Ic(Gi.bind(null,n,Kt,Sr),i);break}Gi(n,Kt,Sr);break;case 4:if(ii(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var _=31-Zt(c);p=1<<_,_=i[_],_>f&&(f=_),c&=~p}if(c=f,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*P0(c/1960))-c,10<c){n.timeoutHandle=Ic(Gi.bind(null,n,Kt,Sr),c);break}Gi(n,Kt,Sr);break;case 5:Gi(n,Kt,Sr);break;default:throw Error(t(329))}}}return Gt(n,qe()),n.callbackNode===o?gm.bind(null,n):null}function yh(n,i){var o=ca;return n.current.memoizedState.isDehydrated&&(Ki(n,i).flags|=256),n=Ql(n,i),n!==2&&(i=Kt,Kt=o,i!==null&&vh(i)),n}function vh(n){Kt===null?Kt=n:Kt.push.apply(Kt,n)}function N0(n){for(var i=n;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!xn(p(),f))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ii(n,i){for(i&=~dh,i&=~$l,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var o=31-Zt(i),c=1<<o;n[o]=-1,i&=~c}}function ym(n){if((Le&6)!==0)throw Error(t(327));Ys();var i=hr(n,0);if((i&1)===0)return Gt(n,qe()),null;var o=Ql(n,i);if(n.tag!==0&&o===2){var c=No(n);c!==0&&(i=c,o=yh(n,c))}if(o===1)throw o=ua,Ki(n,0),ii(n,i),Gt(n,qe()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Gi(n,Kt,Sr),Gt(n,qe()),null}function _h(n,i){var o=Le;Le|=1;try{return n(i)}finally{Le=o,Le===0&&(Qs=qe()+500,Tl&&Xr())}}function Wi(n){ni!==null&&ni.tag===0&&(Le&6)===0&&Ys();var i=Le;Le|=1;var o=vn.transition,c=Ne;try{if(vn.transition=null,Ne=1,n)return n()}finally{Ne=c,vn.transition=o,Le=i,(Le&6)===0&&Xr()}}function wh(){an=Gs.current,Ke(Gs)}function Ki(n,i){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,a0(o)),ct!==null)for(o=ct.return;o!==null;){var c=o;switch(kc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&wl();break;case 3:qs(),Ke(Ht),Ke(Vt),Bc();break;case 5:Uc(c);break;case 4:qs();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:Lc(c.type._context);break;case 22:case 23:wh()}o=o.return}if(Et=n,ct=n=si(n.current,null),Ct=an=i,mt=0,ua=null,dh=$l=qi=0,Kt=ca=null,Bi!==null){for(i=0;i<Bi.length;i++)if(o=Bi[i],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,p=o.pending;if(p!==null){var _=p.next;p.next=f,c.next=_}o.pending=c}Bi=null}return n}function vm(n,i){do{var o=ct;try{if(bc(),Dl.current=Ml,Vl){for(var c=Ze.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Vl=!1}if(Hi=0,wt=pt=Ze=null,ra=!1,ia=0,fh.current=null,o===null||o.return===null){mt=1,ua=i,ct=null;break}e:{var p=n,_=o.return,S=o,k=i;if(i=Ct,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var B=k,Y=S,X=Y.tag;if((Y.mode&1)===0&&(X===0||X===11||X===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=$p(_);if(ie!==null){ie.flags&=-257,Hp(ie,_,S,p,i),ie.mode&1&&Bp(p,B,i),i=ie,k=B;var le=i.updateQueue;if(le===null){var ue=new Set;ue.add(k),i.updateQueue=ue}else le.add(k);break e}else{if((i&1)===0){Bp(p,B,i),Eh();break e}k=Error(t(426))}}else if(Ye&&S.mode&1){var ot=$p(_);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Hp(ot,_,S,p,i),Dc(Ws(k,S));break e}}p=k=Ws(k,S),mt!==4&&(mt=2),ca===null?ca=[p]:ca.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var O=Up(p,k,i);dp(p,O);break e;case 1:S=k;var b=p.type,j=p.stateNode;if((p.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ti===null||!ti.has(j)))){p.flags|=65536,i&=-i,p.lanes|=i;var Z=zp(p,S,i);dp(p,Z);break e}}p=p.return}while(p!==null)}Em(o)}catch(ce){i=ce,ct===o&&o!==null&&(ct=o=o.return);continue}break}while(!0)}function _m(){var n=Bl.current;return Bl.current=Ml,n===null?Ml:n}function Eh(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||(qi&268435455)===0&&($l&268435455)===0||ii(Et,Ct)}function Ql(n,i){var o=Le;Le|=2;var c=_m();(Et!==n||Ct!==i)&&(Sr=null,Ki(n,i));do try{D0();break}catch(f){vm(n,f)}while(!0);if(bc(),Le=o,Bl.current=c,ct!==null)throw Error(t(261));return Et=null,Ct=0,mt}function D0(){for(;ct!==null;)wm(ct)}function V0(){for(;ct!==null&&!Ci();)wm(ct)}function wm(n){var i=Sm(n.alternate,n,an);n.memoizedProps=n.pendingProps,i===null?Em(n):ct=i,fh.current=null}function Em(n){var i=n;do{var o=i.alternate;if(n=i.return,(i.flags&32768)===0){if(o=x0(o,i,an),o!==null){ct=o;return}}else{if(o=A0(o,i),o!==null){o.flags&=32767,ct=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mt=6,ct=null;return}}if(i=i.sibling,i!==null){ct=i;return}ct=i=n}while(i!==null);mt===0&&(mt=5)}function Gi(n,i,o){var c=Ne,f=vn.transition;try{vn.transition=null,Ne=1,b0(n,i,o,c)}finally{vn.transition=f,Ne=c}return null}function b0(n,i,o,c){do Ys();while(ni!==null);if((Le&6)!==0)throw Error(t(327));o=n.finishedWork;var f=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=o.lanes|o.childLanes;if(ac(n,p),n===Et&&(ct=Et=null,Ct=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ql||(ql=!0,xm(Ri,function(){return Ys(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=vn.transition,vn.transition=null;var _=Ne;Ne=1;var S=Le;Le|=4,fh.current=null,R0(n,o),hm(o,n),e0(Ec),pr=!!wc,Ec=wc=null,n.current=o,k0(o),cr(),Le=S,Ne=_,vn.transition=p}else n.current=o;if(ql&&(ql=!1,ni=n,Wl=f),p=n.pendingLanes,p===0&&(ti=null),nl(o.stateNode),Gt(n,qe()),i!==null)for(c=n.onRecoverableError,o=0;o<i.length;o++)f=i[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(Hl)throw Hl=!1,n=mh,mh=null,n;return(Wl&1)!==0&&n.tag!==0&&Ys(),p=n.pendingLanes,(p&1)!==0?n===gh?ha++:(ha=0,gh=n):ha=0,Xr(),null}function Ys(){if(ni!==null){var n=Mn(Wl),i=vn.transition,o=Ne;try{if(vn.transition=null,Ne=16>n?16:n,ni===null)var c=!1;else{if(n=ni,ni=null,Wl=0,(Le&6)!==0)throw Error(t(331));var f=Le;for(Le|=4,ae=n.current;ae!==null;){var p=ae,_=p.child;if((ae.flags&16)!==0){var S=p.deletions;if(S!==null){for(var k=0;k<S.length;k++){var B=S[k];for(ae=B;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:la(8,Y,p)}var X=Y.child;if(X!==null)X.return=Y,ae=X;else for(;ae!==null;){Y=ae;var G=Y.sibling,ie=Y.return;if(om(Y),Y===B){ae=null;break}if(G!==null){G.return=ie,ae=G;break}ae=ie}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var ot=ue.sibling;ue.sibling=null,ue=ot}while(ue!==null)}}ae=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,ae=_;else e:for(;ae!==null;){if(p=ae,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:la(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,ae=O;break e}ae=p.return}}var b=n.current;for(ae=b;ae!==null;){_=ae;var j=_.child;if((_.subtreeFlags&2064)!==0&&j!==null)j.return=_,ae=j;else e:for(_=b;ae!==null;){if(S=ae,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:zl(9,S)}}catch(ce){rt(S,S.return,ce)}if(S===_){ae=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,ae=Z;break e}ae=S.return}}if(Le=f,Xr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ki,n)}catch{}c=!0}return c}finally{Ne=o,vn.transition=i}}return!1}function Tm(n,i,o){i=Ws(o,i),i=Up(n,i,1),n=Zr(n,i,1),i=Bt(),n!==null&&(Vi(n,1,i),Gt(n,i))}function rt(n,i,o){if(n.tag===3)Tm(n,n,o);else for(;i!==null;){if(i.tag===3){Tm(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))){n=Ws(o,n),n=zp(i,n,1),i=Zr(i,n,1),n=Bt(),i!==null&&(Vi(i,1,n),Gt(i,n));break}}i=i.return}}function L0(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),i=Bt(),n.pingedLanes|=n.suspendedLanes&o,Et===n&&(Ct&o)===o&&(mt===4||mt===3&&(Ct&130023424)===Ct&&500>qe()-ph?Ki(n,0):dh|=o),Gt(n,i)}function Im(n,i){i===0&&((n.mode&1)===0?i=1:(i=zr,zr<<=1,(zr&130023424)===0&&(zr=4194304)));var o=Bt();n=Er(n,i),n!==null&&(Vi(n,i,o),Gt(n,o))}function M0(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Im(n,o)}function O0(n,i){var o=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Im(n,o)}var Sm;Sm=function(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps||Ht.current)Wt=!0;else{if((n.lanes&o)===0&&(i.flags&128)===0)return Wt=!1,S0(n,i,o);Wt=(n.flags&131072)!==0}else Wt=!1,Ye&&(i.flags&1048576)!==0&&rp(i,Sl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;jl(n,i),n=i.pendingProps;var f=Fs(i,Vt.current);Hs(i,o),f=qc(null,i,c,n,f,o);var p=Wc();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,qt(c)?(p=!0,El(i)):p=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Fc(i),f.updater=Ol,i.stateNode=f,f._reactInternals=i,Jc(i,c,n,o),i=nh(null,i,c,!0,p,o)):(i.tag=0,Ye&&p&&Rc(i),zt(null,i,f,o),i=i.child),i;case 16:c=i.elementType;e:{switch(jl(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=j0(c),n=Cn(c,n),f){case 0:i=th(null,i,c,n,o);break e;case 1:i=Yp(null,i,c,n,o);break e;case 11:i=qp(null,i,c,n,o);break e;case 14:i=Wp(null,i,c,Cn(c.type,n),o);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Cn(c,f),th(n,i,c,f,o);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Cn(c,f),Yp(n,i,c,f,o);case 3:e:{if(Xp(i),n===null)throw Error(t(387));c=i.pendingProps,p=i.memoizedState,f=p.element,fp(n,i),Pl(i,c,null,o);var _=i.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){f=Ws(Error(t(423)),i),i=Jp(n,i,c,o,f);break e}else if(c!==f){f=Ws(Error(t(424)),i),i=Jp(n,i,c,o,f);break e}else for(on=Gr(i.stateNode.containerInfo.firstChild),sn=i,Ye=!0,An=null,o=cp(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(zs(),c===f){i=Ir(n,i,o);break e}zt(n,i,c,o)}i=i.child}return i;case 5:return mp(i),n===null&&Nc(i),c=i.type,f=i.pendingProps,p=n!==null?n.memoizedProps:null,_=f.children,Tc(c,f)?_=null:p!==null&&Tc(c,p)&&(i.flags|=32),Qp(n,i),zt(n,i,_,o),i.child;case 6:return n===null&&Nc(i),null;case 13:return Zp(n,i,o);case 4:return jc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Bs(i,null,c,o):zt(n,i,c,o),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Cn(c,f),qp(n,i,c,f,o);case 7:return zt(n,i,i.pendingProps,o),i.child;case 8:return zt(n,i,i.pendingProps.children,o),i.child;case 12:return zt(n,i,i.pendingProps.children,o),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,p=i.memoizedProps,_=f.value,He(Cl,c._currentValue),c._currentValue=_,p!==null)if(xn(p.value,_)){if(p.children===f.children&&!Ht.current){i=Ir(n,i,o);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var k=S.firstContext;k!==null;){if(k.context===c){if(p.tag===1){k=Tr(-1,o&-o),k.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var Y=B.pending;Y===null?k.next=k:(k.next=Y.next,Y.next=k),B.pending=k}}p.lanes|=o,k=p.alternate,k!==null&&(k.lanes|=o),Mc(p.return,o,i),S.lanes|=o;break}k=k.next}}else if(p.tag===10)_=p.type===i.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(t(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),Mc(_,o,i),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}zt(n,i,f.children,o),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Hs(i,o),f=gn(f),c=c(f),i.flags|=1,zt(n,i,c,o),i.child;case 14:return c=i.type,f=Cn(c,i.pendingProps),f=Cn(c.type,f),Wp(n,i,c,f,o);case 15:return Kp(n,i,i.type,i.pendingProps,o);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Cn(c,f),jl(n,i),i.tag=1,qt(c)?(n=!0,El(i)):n=!1,Hs(i,o),Fp(i,c,f),Jc(i,c,f,o),nh(null,i,c,!0,n,o);case 19:return tm(n,i,o);case 22:return Gp(n,i,o)}throw Error(t(156,i.tag))};function xm(n,i){return Ro(n,i)}function F0(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,o,c){return new F0(n,i,o,c)}function Th(n){return n=n.prototype,!(!n||!n.isReactComponent)}function j0(n){if(typeof n=="function")return Th(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===_t)return 14}return 2}function si(n,i){var o=n.alternate;return o===null?(o=_n(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Yl(n,i,o,c,f,p){var _=2;if(c=n,typeof n=="function")Th(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case P:return Qi(o.children,f,p,i);case x:_=8,f|=8;break;case R:return n=_n(12,o,i,f|2),n.elementType=R,n.lanes=p,n;case C:return n=_n(13,o,i,f),n.elementType=C,n.lanes=p,n;case $e:return n=_n(19,o,i,f),n.elementType=$e,n.lanes=p,n;case Qe:return Xl(o,f,p,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:_=10;break e;case N:_=9;break e;case M:_=11;break e;case _t:_=14;break e;case Nt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=_n(_,o,i,f),i.elementType=n,i.type=c,i.lanes=p,i}function Qi(n,i,o,c){return n=_n(7,n,c,i),n.lanes=o,n}function Xl(n,i,o,c){return n=_n(22,n,c,i),n.elementType=Qe,n.lanes=o,n.stateNode={isHidden:!1},n}function Ih(n,i,o){return n=_n(6,n,null,i),n.lanes=o,n}function Sh(n,i,o){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function U0(n,i,o,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function xh(n,i,o,c,f,p,_,S,k){return n=new U0(n,i,o,S,k),i===1?(i=1,p===!0&&(i|=8)):i=0,p=_n(3,null,null,i),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fc(p),n}function z0(n,i,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:c==null?null:""+c,children:n,containerInfo:i,implementation:o}}function Am(n){if(!n)return Yr;n=n._reactInternals;e:{if(In(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if(qt(o))return ep(n,o,i)}return i}function Cm(n,i,o,c,f,p,_,S,k){return n=xh(o,c,!0,n,f,p,_,S,k),n.context=Am(null),o=n.current,c=Bt(),f=ri(o),p=Tr(c,f),p.callback=i??null,Zr(o,p,f),n.current.lanes=f,Vi(n,f,c),Gt(n,c),n}function Jl(n,i,o,c){var f=i.current,p=Bt(),_=ri(f);return o=Am(o),i.context===null?i.context=o:i.pendingContext=o,i=Tr(p,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Zr(f,i,_),n!==null&&(Pn(n,f,_,p),kl(n,f,_)),_}function Zl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Rm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Ah(n,i){Rm(n,i),(n=n.alternate)&&Rm(n,i)}function B0(){return null}var km=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ch(n){this._internalRoot=n}eu.prototype.render=Ch.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Jl(n,i,null,null)},eu.prototype.unmount=Ch.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Wi(function(){Jl(null,n,null,null)}),i[yr]=null}};function eu(n){this._internalRoot=n}eu.prototype.unstable_scheduleHydration=function(n){if(n){var i=Oo();n={blockedOn:null,target:n,priority:i};for(var o=0;o<en.length&&i!==0&&i<en[o].priority;o++);en.splice(o,0,n),o===0&&Ts(n)}};function Rh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function tu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function $0(n,i,o,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var B=Zl(_);p.call(B)}}var _=Cm(i,c,n,0,null,!1,!1,"",Pm);return n._reactRootContainer=_,n[yr]=_.current,Qo(n.nodeType===8?n.parentNode:n),Wi(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var B=Zl(k);S.call(B)}}var k=xh(n,0,!1,null,null,!1,!1,"",Pm);return n._reactRootContainer=k,n[yr]=k.current,Qo(n.nodeType===8?n.parentNode:n),Wi(function(){Jl(i,k,o,c)}),k}function nu(n,i,o,c,f){var p=o._reactRootContainer;if(p){var _=p;if(typeof f=="function"){var S=f;f=function(){var k=Zl(_);S.call(k)}}Jl(i,_,n,f)}else _=$0(o,i,n,f,c);return Zl(_)}Lo=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var o=Oe(i.pendingLanes);o!==0&&(bo(i,o|1),Gt(i,qe()),(Le&6)===0&&(Qs=qe()+500,Xr()))}break;case 13:Wi(function(){var c=Er(n,1);if(c!==null){var f=Bt();Pn(c,n,1,f)}}),Ah(n,1)}},ws=function(n){if(n.tag===13){var i=Er(n,134217728);if(i!==null){var o=Bt();Pn(i,n,134217728,o)}Ah(n,134217728)}},Mo=function(n){if(n.tag===13){var i=ri(n),o=Er(n,i);if(o!==null){var c=Bt();Pn(o,n,i,c)}Ah(n,i)}},Oo=function(){return Ne},Fo=function(n,i){var o=Ne;try{return Ne=n,i()}finally{Ne=o}},ar=function(n,i,o){switch(i){case"input":if(Ii(n,o),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var f=_l(c);if(!f)throw Error(t(90));_o(c),Ii(c,f)}}}break;case"textarea":Ha(n,o);break;case"select":i=o.value,i!=null&&En(n,!!o.multiple,i,!1)}},Ka=_h,Ga=Wi;var H0={usingClientEntryPoint:!1,Events:[Jo,Ms,_l,Or,Fr,_h]},fa={findFiberByHostInstance:Fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q0={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ge.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=tl(n),n===null?null:n.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||B0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ki=ru.inject(q0),Jt=ru}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H0,Qt.createPortal=function(n,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(i))throw Error(t(200));return z0(n,i,null,o)},Qt.createRoot=function(n,i){if(!Rh(n))throw Error(t(299));var o=!1,c="",f=km;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=xh(n,1,!1,null,null,o,!1,c,f),n[yr]=i.current,Qo(n.nodeType===8?n.parentNode:n),new Ch(i)},Qt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=tl(i),n=n===null?null:n.stateNode,n},Qt.flushSync=function(n){return Wi(n)},Qt.hydrate=function(n,i,o){if(!tu(i))throw Error(t(200));return nu(null,n,i,!0,o)},Qt.hydrateRoot=function(n,i,o){if(!Rh(n))throw Error(t(405));var c=o!=null&&o.hydratedSources||null,f=!1,p="",_=km;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),i=Cm(i,null,n,1,o??null,f,!1,p,_),n[yr]=i.current,Qo(n),c)for(n=0;n<c.length;n++)o=c[n],f=o._getVersion,f=f(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,f]:i.mutableSourceEagerHydrationData.push(o,f);return new eu(i)},Qt.render=function(n,i,o){if(!tu(i))throw Error(t(200));return nu(null,n,i,!1,o)},Qt.unmountComponentAtNode=function(n){if(!tu(n))throw Error(t(40));return n._reactRootContainer?(Wi(function(){nu(null,null,n,!1,function(){n._reactRootContainer=null,n[yr]=null})}),!0):!1},Qt.unstable_batchedUpdates=_h,Qt.unstable_renderSubtreeIntoContainer=function(n,i,o,c){if(!tu(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return nu(n,i,o,!1,c)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Fm;function Z0(){if(Fm)return Nh.exports;Fm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nh.exports=J0(),Nh.exports}var jm;function ew(){if(jm)return iu;jm=1;var r=Z0();return iu.createRoot=r.createRoot,iu.hydrateRoot=r.hydrateRoot,iu}var tw=ew();const nw=hy(tw);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Um="popstate";function rw(r={}){function e(a,l){let{pathname:h="/",search:d="",hash:g=""}=os(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Xh("",{pathname:h,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let h=a.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let g=a.location.href,v=g.indexOf("#");d=v===-1?g:g.slice(0,v)}return d+"#"+(typeof l=="string"?l:Aa(l))}function s(a,l){cn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return sw(e,t,s,r)}function Xe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iw(){return Math.random().toString(36).substring(2,10)}function zm(r,e){return{usr:r.state,key:r.key,idx:e}}function Xh(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?os(e):e,state:t,key:e&&e.key||s||iw()}}function Aa({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function os(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function sw(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,h=a.history,d="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function E(){d="POP";let U=w(),ee=U==null?null:U-v;v=U,g&&g({action:d,location:q.location,delta:ee})}function I(U,ee){d="PUSH";let re=Xh(q.location,U,ee);t&&t(re,U),v=w()+1;let J=zm(re,v),ge=q.createHref(re);try{h.pushState(J,"",ge)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;a.location.assign(ge)}l&&g&&g({action:d,location:q.location,delta:1})}function D(U,ee){d="REPLACE";let re=Xh(q.location,U,ee);t&&t(re,U),v=w();let J=zm(re,v),ge=q.createHref(re);h.replaceState(J,"",ge),l&&g&&g({action:d,location:q.location,delta:0})}function H(U){return ow(U)}let q={get action(){return d},get location(){return r(a,h)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Um,E),g=U,()=>{a.removeEventListener(Um,E),g=null}},createHref(U){return e(a,U)},createURL:H,encodeLocation(U){let ee=H(U);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:I,replace:D,go(U){return h.go(U)}};return q}function ow(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Aa(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function fy(r,e,t="/"){return aw(r,e,t,!1)}function aw(r,e,t,s){let a=typeof e=="string"?os(e):e,l=Ar(a.pathname||"/",t);if(l==null)return null;let h=dy(r);lw(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let v=_w(l);d=yw(h[g],v,s)}return d}function dy(r,e=[],t=[],s="",a=!1){let l=(h,d,g=a,v)=>{let w={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&g)return;Xe(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=xr([s,w.relativePath]),I=t.concat(w);h.children&&h.children.length>0&&(Xe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),dy(h.children,e,I,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:mw(E,h.index),routesMeta:I})};return r.forEach((h,d)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))l(h,d);else for(let v of py(h.path))l(h,d,!0,v)}),e}function py(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let h=py(s.join("/")),d=[];return d.push(...h.map(g=>g===""?l:[l,g].join("/"))),a&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function lw(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:gw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var uw=/^:[\w-]+$/,cw=3,hw=2,fw=1,dw=10,pw=-2,Bm=r=>r==="*";function mw(r,e){let t=r.split("/"),s=t.length;return t.some(Bm)&&(s+=pw),e&&(s+=hw),t.filter(a=>!Bm(a)).reduce((a,l)=>a+(uw.test(l)?cw:l===""?fw:dw),s)}function gw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function yw(r,e,t=!1){let{routesMeta:s}=r,a={},l="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],v=d===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",E=wu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),I=g.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=wu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!E)return null;Object.assign(a,E.params),h.push({params:a,pathname:xr([l,E.pathname]),pathnameBase:Iw(xr([l,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(l=xr([l,E.pathnameBase]))}return h}function wu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=vw(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],h=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},I)=>{if(w==="*"){let H=d[I]||"";h=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const D=d[I];return E&&!D?v[w]=void 0:v[w]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:r}}function vw(r,e=!1,t=!0){cn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function _w(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ar(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}var my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ww=r=>my.test(r);function Ew(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?os(r):r,l;if(t)if(ww(t))l=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${t}`)}t.startsWith("/")?l=$m(t.substring(1),"/"):l=$m(t,e)}else l=e;return{pathname:l,search:Sw(s),hash:xw(a)}}function $m(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function bh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Af(r){let e=Tw(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Cf(r,e,t,s=!1){let a;typeof r=="string"?a=os(r):(a={...r},Xe(!a.pathname||!a.pathname.includes("?"),bh("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),bh("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),bh("#","search","hash",a)));let l=r===""||a.pathname==="",h=l?"/":a.pathname,d;if(h==null)d=t;else{let E=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),E-=1;a.pathname=I.join("/")}d=E>=0?e[E]:"/"}let g=Ew(a,d),v=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var xr=r=>r.join("/").replace(/\/\/+/g,"/"),Iw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Sw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,xw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Aw=class{constructor(r,e,t,s=!1){this.status=r,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Cw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Rw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yy(r,e){let t=r;if(typeof t!="string"||!my.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,a=!1;if(gy)try{let l=new URL(window.location.href),h=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Ar(h.pathname,e);h.origin===l.origin&&d!=null?t=d+h.search+h.hash:a=!0}catch{cn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vy=["POST","PUT","PATCH","DELETE"];new Set(vy);var kw=["GET",...vy];new Set(kw);var fo=z.createContext(null);fo.displayName="DataRouter";var Fu=z.createContext(null);Fu.displayName="DataRouterState";var Pw=z.createContext(!1),_y=z.createContext({isTransitioning:!1});_y.displayName="ViewTransition";var Nw=z.createContext(new Map);Nw.displayName="Fetchers";var Dw=z.createContext(null);Dw.displayName="Await";var hn=z.createContext(null);hn.displayName="Navigation";var ba=z.createContext(null);ba.displayName="Location";var Nn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Nn.displayName="Route";var Rf=z.createContext(null);Rf.displayName="RouteError";var wy="REACT_ROUTER_ERROR",Vw="REDIRECT",bw="ROUTE_ERROR_RESPONSE";function Lw(r){if(r.startsWith(`${wy}:${Vw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Mw(r){if(r.startsWith(`${wy}:${bw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Aw(e.status,e.statusText,e.data)}catch{}}function Ow(r,{relative:e}={}){Xe(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(hn),{hash:a,pathname:l,search:h}=La(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:xr([t,l])),s.createHref({pathname:d,search:h,hash:a})}function po(){return z.useContext(ba)!=null}function _i(){return Xe(po(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(ba).location}var Ey="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ty(r){z.useContext(hn).static||z.useLayoutEffect(r)}function kf(){let{isDataRoute:r}=z.useContext(Nn);return r?Jw():Fw()}function Fw(){Xe(po(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(fo),{basename:e,navigator:t}=z.useContext(hn),{matches:s}=z.useContext(Nn),{pathname:a}=_i(),l=JSON.stringify(Af(s)),h=z.useRef(!1);return Ty(()=>{h.current=!0}),z.useCallback((g,v={})=>{if(cn(h.current,Ey),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=Cf(g,JSON.parse(l),a,v.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:xr([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,a,r])}var jw=z.createContext(null);function Uw(r){let e=z.useContext(Nn).outlet;return z.useMemo(()=>e&&z.createElement(jw.Provider,{value:r},e),[e,r])}function La(r,{relative:e}={}){let{matches:t}=z.useContext(Nn),{pathname:s}=_i(),a=JSON.stringify(Af(t));return z.useMemo(()=>Cf(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function zw(r,e){return Iy(r,e)}function Iy(r,e,t,s,a){var re;Xe(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(hn),{matches:h}=z.useContext(Nn),d=h[h.length-1],g=d?d.params:{},v=d?d.pathname:"/",w=d?d.pathnameBase:"/",E=d&&d.route;{let J=E&&E.path||"";xy(v,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let I=_i(),D;if(e){let J=typeof e=="string"?os(e):e;Xe(w==="/"||((re=J.pathname)==null?void 0:re.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),D=J}else D=I;let H=D.pathname||"/",q=H;if(w!=="/"){let J=w.replace(/^\//,"").split("/");q="/"+H.replace(/^\//,"").split("/").slice(J.length).join("/")}let U=fy(r,{pathname:q});cn(E||U!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),cn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=Ww(U&&U.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:xr([w,l.encodeLocation?l.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:xr([w,l.encodeLocation?l.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),h,t,s,a);return e&&ee?z.createElement(ba.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ee):ee}function Bw(){let r=Xw(),e=Cw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:a},t):null,h)}var $w=z.createElement(Bw,null),Sy=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=Mw(r.digest);t&&(r=t)}let e=r!==void 0?z.createElement(Nn.Provider,{value:this.props.routeContext},z.createElement(Rf.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?z.createElement(Hw,{error:r},e):e}};Sy.contextType=Pw;var Lh=new WeakMap;function Hw({children:r,error:e}){let{basename:t}=z.useContext(hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Lw(e.digest);if(s){let a=Lh.get(e);if(a)throw a;let l=yy(s.location,t);if(gy&&!Lh.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Lh.set(e,h),h}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function qw({routeContext:r,match:e,children:t}){let s=z.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Nn.Provider,{value:r},t)}function Ww(r,e=[],t=null,s=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t==null?void 0:t.errors;if(h!=null){let w=l.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);Xe(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,w+1))}let d=!1,g=-1;if(t)for(let w=0;w<l.length;w++){let E=l[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=w),E.route.id){let{loaderData:I,errors:D}=t,H=E.route.loader&&!I.hasOwnProperty(E.route.id)&&(!D||D[E.route.id]===void 0);if(E.route.lazy||H){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let v=t&&s?(w,E)=>{var I,D;s(w,{location:t.location,params:((D=(I=t.matches)==null?void 0:I[0])==null?void 0:D.params)??{},unstable_pattern:Rw(t.matches),errorInfo:E})}:void 0;return l.reduceRight((w,E,I)=>{let D,H=!1,q=null,U=null;t&&(D=h&&E.route.id?h[E.route.id]:void 0,q=E.route.errorElement||$w,d&&(g<0&&I===0?(xy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,U=null):g===I&&(H=!0,U=E.route.hydrateFallbackElement||null)));let ee=e.concat(l.slice(0,I+1)),re=()=>{let J;return D?J=q:H?J=U:E.route.Component?J=z.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=w,z.createElement(qw,{match:E,routeContext:{outlet:w,matches:ee,isDataRoute:t!=null},children:J})};return t&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?z.createElement(Sy,{location:t.location,revalidation:t.revalidation,component:q,error:D,children:re(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:v}):re()},null)}function Pf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(r){let e=z.useContext(fo);return Xe(e,Pf(r)),e}function Gw(r){let e=z.useContext(Fu);return Xe(e,Pf(r)),e}function Qw(r){let e=z.useContext(Nn);return Xe(e,Pf(r)),e}function Nf(r){let e=Qw(r),t=e.matches[e.matches.length-1];return Xe(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Yw(){return Nf("useRouteId")}function Xw(){var s;let r=z.useContext(Rf),e=Gw("useRouteError"),t=Nf("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Jw(){let{router:r}=Kw("useNavigate"),e=Nf("useNavigate"),t=z.useRef(!1);return Ty(()=>{t.current=!0}),z.useCallback(async(a,l={})=>{cn(t.current,Ey),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var Hm={};function xy(r,e,t){!e&&!Hm[r]&&(Hm[r]=!0,cn(!1,t))}z.memo(Zw);function Zw({routes:r,future:e,state:t,onError:s}){return Iy(r,void 0,t,s,e)}function eE({to:r,replace:e,state:t,relative:s}){Xe(po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=z.useContext(hn);cn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(Nn),{pathname:h}=_i(),d=kf(),g=Cf(r,Af(l),h,s==="path"),v=JSON.stringify(g);return z.useEffect(()=>{d(JSON.parse(v),{replace:e,state:t,relative:s})},[d,v,s,e,t]),null}function tE(r){return Uw(r.context)}function ma(r){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nE({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:h}){Xe(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:h,future:{}}),[d,a,l,h]);typeof t=="string"&&(t=os(t));let{pathname:v="/",search:w="",hash:E="",state:I=null,key:D="default"}=t,H=z.useMemo(()=>{let q=Ar(v,d);return q==null?null:{location:{pathname:q,search:w,hash:E,state:I,key:D},navigationType:s}},[d,v,w,E,I,D,s]);return cn(H!=null,`<Router basename="${d}"> is not able to match the URL "${v}${w}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:z.createElement(hn.Provider,{value:g},z.createElement(ba.Provider,{children:e,value:H}))}function rE({children:r,location:e}){return zw(Jh(r),e)}function Jh(r,e=[]){let t=[];return z.Children.forEach(r,(s,a)=>{if(!z.isValidElement(s))return;let l=[...e,a];if(s.type===z.Fragment){t.push.apply(t,Jh(s.props.children,l));return}Xe(s.type===ma,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Jh(s.props.children,l)),t.push(h)}),t}var fu="get",du="application/x-www-form-urlencoded";function ju(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function iE(r){return ju(r)&&r.tagName.toLowerCase()==="button"}function sE(r){return ju(r)&&r.tagName.toLowerCase()==="form"}function oE(r){return ju(r)&&r.tagName.toLowerCase()==="input"}function aE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lE(r,e){return r.button===0&&(!e||e==="_self")&&!aE(r)}var su=null;function uE(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var cE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(r){return r!=null&&!cE.has(r)?(cn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${du}"`),null):r}function hE(r,e){let t,s,a,l,h;if(sE(r)){let d=r.getAttribute("action");s=d?Ar(d,e):null,t=r.getAttribute("method")||fu,a=Mh(r.getAttribute("enctype"))||du,l=new FormData(r)}else if(iE(r)||oE(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(s=g?Ar(g,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||fu,a=Mh(r.getAttribute("formenctype"))||Mh(d.getAttribute("enctype"))||du,l=new FormData(d,r),!uE()){let{name:v,type:w,value:E}=r;if(w==="image"){let I=v?`${v}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else v&&l.append(v,E)}}else{if(ju(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fu,s=null,a=du,h=r}return l&&a==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Df(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fE(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function dE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mE(r,e,t){let s=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let h=await dE(l,t);return h.links?h.links():[]}return[]}));return _E(s.flat(1).filter(pE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function qm(r,e,t,s,a,l){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,d=(g,v)=>{var w;return t[v].pathname!==g.pathname||((w=t[v].route.path)==null?void 0:w.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,v)=>h(g,v)||d(g,v)):l==="data"?e.filter((g,v)=>{var E;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||d(g,v))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function gE(r,e,{includeHydrateFallback:t}={}){return yE(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function yE(r){return[...new Set(r)]}function vE(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function _E(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let l=JSON.stringify(vE(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function Ay(){let r=z.useContext(fo);return Df(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function wE(){let r=z.useContext(Fu);return Df(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Vf=z.createContext(void 0);Vf.displayName="FrameworkContext";function Cy(){let r=z.useContext(Vf);return Df(r,"You must render this element inside a <HydratedRouter> element"),r}function EE(r,e){let t=z.useContext(Vf),[s,a]=z.useState(!1),[l,h]=z.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,I=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=ee=>{ee.forEach(re=>{h(re.isIntersecting)})},U=new IntersectionObserver(q,{threshold:.5});return I.current&&U.observe(I.current),()=>{U.disconnect()}}},[r]),z.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let D=()=>{a(!0)},H=()=>{a(!1),h(!1)};return t?r!=="intent"?[l,I,{}]:[l,I,{onFocus:pa(d,D),onBlur:pa(g,H),onMouseEnter:pa(v,D),onMouseLeave:pa(w,H),onTouchStart:pa(E,D)}]:[!1,I,{}]}function pa(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function TE({page:r,...e}){let{router:t}=Ay(),s=z.useMemo(()=>fy(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?z.createElement(SE,{page:r,matches:s,...e}):null}function IE(r){let{manifest:e,routeModules:t}=Cy(),[s,a]=z.useState([]);return z.useEffect(()=>{let l=!1;return mE(r,e,t).then(h=>{l||a(h)}),()=>{l=!0}},[r,e,t]),s}function SE({page:r,matches:e,...t}){let s=_i(),{manifest:a,routeModules:l}=Cy(),{basename:h}=Ay(),{loaderData:d,matches:g}=wE(),v=z.useMemo(()=>qm(r,e,g,a,s,"data"),[r,e,g,a,s]),w=z.useMemo(()=>qm(r,e,g,a,s,"assets"),[r,e,g,a,s]),E=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,q=!1;if(e.forEach(ee=>{var J;let re=a.routes[ee.route.id];!re||!re.hasLoader||(!v.some(ge=>ge.route.id===ee.route.id)&&ee.route.id in d&&((J=l[ee.route.id])!=null&&J.shouldRevalidate)||re.hasClientLoader?q=!0:H.add(ee.route.id))}),H.size===0)return[];let U=fE(r,h,"data");return q&&H.size>0&&U.searchParams.set("_routes",e.filter(ee=>H.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[U.pathname+U.search]},[h,d,s,a,v,e,r,l]),I=z.useMemo(()=>gE(w,a),[w,a]),D=IE(w);return z.createElement(z.Fragment,null,E.map(H=>z.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...t})),I.map(H=>z.createElement("link",{key:H,rel:"modulepreload",href:H,...t})),D.map(({key:H,link:q})=>z.createElement("link",{key:H,nonce:t.nonce,...q})))}function xE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AE&&(window.__reactRouterVersion="7.11.0")}catch{}function CE({basename:r,children:e,unstable_useTransitions:t,window:s}){let a=z.useRef();a.current==null&&(a.current=rw({window:s,v5Compat:!0}));let l=a.current,[h,d]=z.useState({action:l.action,location:l.location}),g=z.useCallback(v=>{t===!1?d(v):z.startTransition(()=>d(v))},[t]);return z.useLayoutEffect(()=>l.listen(g),[l,g]),z.createElement(nE,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:l,unstable_useTransitions:t})}var Ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yn=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:h,state:d,target:g,to:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:I,...D},H){let{basename:q,unstable_useTransitions:U}=z.useContext(hn),ee=typeof v=="string"&&Ry.test(v),re=yy(v,q);v=re.to;let J=Ow(v,{relative:a}),[ge,xe,_e]=EE(s,D),P=NE(v,{replace:h,state:d,target:g,preventScrollReset:w,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:I,unstable_useTransitions:U});function x(V){e&&e(V),V.defaultPrevented||P(V)}let R=z.createElement("a",{...D,..._e,href:re.absoluteURL||J,onClick:re.isExternal||l?e:x,ref:xE(H,xe),target:g,"data-discover":!ee&&t==="render"?"true":void 0});return ge&&!ee?z.createElement(z.Fragment,null,R,z.createElement(TE,{page:J})):R});Yn.displayName="Link";var RE=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:h,viewTransition:d,children:g,...v},w){let E=La(h,{relative:v.relative}),I=_i(),D=z.useContext(Fu),{navigator:H,basename:q}=z.useContext(hn),U=D!=null&&ME(E)&&d===!0,ee=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,re=I.pathname,J=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(re=re.toLowerCase(),J=J?J.toLowerCase():null,ee=ee.toLowerCase()),J&&q&&(J=Ar(J,q)||J);const ge=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let xe=re===ee||!a&&re.startsWith(ee)&&re.charAt(ge)==="/",_e=J!=null&&(J===ee||!a&&J.startsWith(ee)&&J.charAt(ee.length)==="/"),P={isActive:xe,isPending:_e,isTransitioning:U},x=xe?e:void 0,R;typeof s=="function"?R=s(P):R=[s,xe?"active":null,_e?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(P):l;return z.createElement(Yn,{...v,"aria-current":x,className:R,ref:w,style:V,to:h,viewTransition:d},typeof g=="function"?g(P):g)});RE.displayName="NavLink";var kE=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:h=fu,action:d,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:I,...D},H)=>{let{unstable_useTransitions:q}=z.useContext(hn),U=bE(),ee=LE(d,{relative:v}),re=h.toLowerCase()==="get"?"get":"post",J=typeof d=="string"&&Ry.test(d),ge=xe=>{if(g&&g(xe),xe.defaultPrevented)return;xe.preventDefault();let _e=xe.nativeEvent.submitter,P=(_e==null?void 0:_e.getAttribute("formmethod"))||h,x=()=>U(_e||xe.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:a,state:l,relative:v,preventScrollReset:w,viewTransition:E,unstable_defaultShouldRevalidate:I});q&&t!==!1?z.startTransition(()=>x()):x()};return z.createElement("form",{ref:H,method:re,action:ee,onSubmit:s?g:ge,...D,"data-discover":!J&&r==="render"?"true":void 0})});kE.displayName="Form";function PE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ky(r){let e=z.useContext(fo);return Xe(e,PE(r)),e}function NE(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:g}={}){let v=kf(),w=_i(),E=La(r,{relative:l});return z.useCallback(I=>{if(lE(I,e)){I.preventDefault();let D=t!==void 0?t:Aa(w)===Aa(E),H=()=>v(r,{replace:D,state:s,preventScrollReset:a,relative:l,viewTransition:h,unstable_defaultShouldRevalidate:d});g?z.startTransition(()=>H()):H()}},[w,v,E,t,s,e,r,a,l,h,d,g])}var DE=0,VE=()=>`__${String(++DE)}__`;function bE(){let{router:r}=ky("useSubmit"),{basename:e}=z.useContext(hn),t=Yw(),s=r.fetch,a=r.navigate;return z.useCallback(async(l,h={})=>{let{action:d,method:g,encType:v,formData:w,body:E}=hE(l,e);if(h.navigate===!1){let I=h.fetcherKey||VE();await s(I,t,h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:E,formMethod:h.method||g,formEncType:h.encType||v,flushSync:h.flushSync})}else await a(h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:w,body:E,formMethod:h.method||g,formEncType:h.encType||v,replace:h.replace,state:h.state,fromRouteId:t,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,a,e,t])}function LE(r,{relative:e}={}){let{basename:t}=z.useContext(hn),s=z.useContext(Nn);Xe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...La(r||".",{relative:e})},h=_i();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(w=>w==="")){d.delete("index"),g.filter(E=>E).forEach(E=>d.append("index",E));let w=d.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:xr([t,l.pathname])),Aa(l)}function ME(r,{relative:e}={}){let t=z.useContext(_y);Xe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ky("useViewTransitionState"),a=La(r,{relative:e});if(!t.isTransitioning)return!1;let l=Ar(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ar(t.nextLocation.pathname,s)||t.nextLocation.pathname;return wu(a.pathname,h)!=null||wu(a.pathname,l)!=null}const OE=()=>{};var Wm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},FE=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],h=r[t++],d=r[t++],g=((a&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ny={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],h=a+1<r.length,d=h?r[a+1]:0,g=a+2<r.length,v=g?r[a+2]:0,w=l>>2,E=(l&3)<<4|d>>4;let I=(d&15)<<2|v>>6,D=v&63;g||(D=64,h||(I=64)),s.push(t[w],t[E],t[I],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Py(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const v=a<r.length?t[r.charAt(a)]:64;++a;const E=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||v==null||E==null)throw new jE;const I=l<<2|d>>4;if(s.push(I),v!==64){const D=d<<4&240|v>>2;if(s.push(D),E!==64){const H=v<<6&192|E;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UE=function(r){const e=Py(r);return Ny.encodeByteArray(e,!0)},Eu=function(r){return UE(r).replace(/\./g,"")},zE=function(r){try{return Ny.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=()=>BE().__FIREBASE_DEFAULTS__,HE=()=>{if(typeof process>"u"||typeof Wm>"u")return;const r=Wm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zE(r[1]);return e&&JSON.parse(e)},bf=()=>{try{return OE()||$E()||HE()||qE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WE=r=>{var e,t;return(t=(e=bf())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},KE=r=>{const e=WE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Dy=()=>{var r;return(r=bf())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function QE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eu(JSON.stringify(t)),Eu(JSON.stringify(h)),""].join(".")}const wa={};function XE(){const r={prod:[],emulator:[]};for(const e of Object.keys(wa))wa[e]?r.emulator.push(e):r.prod.push(e);return r}function JE(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Km=!1;function ZE(r,e){if(typeof window>"u"||typeof document>"u"||!Lf(window.location.host)||wa[r]===e||wa[r]||Km)return;wa[r]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=XE().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,D){I.setAttribute("width","24"),I.setAttribute("id",D),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Km=!0,h()},I}function w(I,D){I.setAttribute("id",D),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=JE(s),D=t("text"),H=document.getElementById(D)||document.createElement("span"),q=t("learnmore"),U=document.getElementById(q)||document.createElement("a"),ee=t("preprendIcon"),re=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const J=I.element;d(J),w(U,q);const ge=v();g(re,ee),J.append(re,H,U,ge),document.body.appendChild(J)}l?(H.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t1(){var e;const r=(e=bf())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function r1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vy(){try{return typeof indexedDB=="object"}catch{return!1}}function by(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}function i1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="FirebaseError";class wi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=s1,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?o1(l,s):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new wi(a,d,s)}}function o1(r,e){return r.replace(a1,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const a1=/\{\$([^}]+)}/g;function io(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],h=e[a];if(Gm(l)&&Gm(h)){if(!io(l,h))return!1}else if(l!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Gm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=1e3,u1=2,c1=14400*1e3,h1=.5;function Qm(r,e=l1,t=u1){const s=e*Math.pow(t,r),a=Math.round(h1*s*(Math.random()-.5)*2);return Math.min(c1,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(r){return r&&r._delegate?r._delegate:r}class Cr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new GE;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p1(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:d1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d1(r){return r===Yi?void 0:r}function p1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const g1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},y1=Ve.INFO,v1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},_1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=v1[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mf{constructor(e){this.name=e,this._logLevel=y1,this._logHandler=_1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const w1=(r,e)=>e.some(t=>r instanceof t);let Ym,Xm;function E1(){return Ym||(Ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T1(){return Xm||(Xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ly=new WeakMap,Zh=new WeakMap,My=new WeakMap,Oh=new WeakMap,Of=new WeakMap;function I1(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(li(r.result)),a()},h=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Ly.set(t,r)}).catch(()=>{}),Of.set(e,r),e}function S1(r){if(Zh.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Zh.set(r,e)}let ef={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Zh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||My.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return li(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function x1(r){ef=r(ef)}function A1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Fh(this),e,...t);return My.set(s,e.sort?e.sort():[e]),li(s)}:T1().includes(r)?function(...e){return r.apply(Fh(this),e),li(Ly.get(this))}:function(...e){return li(r.apply(Fh(this),e))}}function C1(r){return typeof r=="function"?A1(r):(r instanceof IDBTransaction&&S1(r),w1(r,E1())?new Proxy(r,ef):r)}function li(r){if(r instanceof IDBRequest)return I1(r);if(Oh.has(r))return Oh.get(r);const e=C1(r);return e!==r&&(Oh.set(r,e),Of.set(e,r)),e}const Fh=r=>Of.get(r);function Oy(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const h=indexedDB.open(r,e),d=li(h);return s&&h.addEventListener("upgradeneeded",g=>{s(li(h.result),g.oldVersion,g.newVersion,li(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const R1=["get","getKey","getAll","getAllKeys","count"],k1=["put","add","delete","clear"],jh=new Map;function Jm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jh.get(e))return jh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=k1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||R1.includes(t)))return;const l=async function(h,...d){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(d.shift())),(await Promise.all([v[t](...d),a&&g.done]))[0]};return jh.set(e,l),l}x1(r=>({...r,get:(e,t,s)=>Jm(e,t)||r.get(e,t,s),has:(e,t)=>!!Jm(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(N1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function N1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tf="@firebase/app",Zm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Mf("@firebase/app"),D1="@firebase/app-compat",V1="@firebase/analytics-compat",b1="@firebase/analytics",L1="@firebase/app-check-compat",M1="@firebase/app-check",O1="@firebase/auth",F1="@firebase/auth-compat",j1="@firebase/database",U1="@firebase/data-connect",z1="@firebase/database-compat",B1="@firebase/functions",$1="@firebase/functions-compat",H1="@firebase/installations",q1="@firebase/installations-compat",W1="@firebase/messaging",K1="@firebase/messaging-compat",G1="@firebase/performance",Q1="@firebase/performance-compat",Y1="@firebase/remote-config",X1="@firebase/remote-config-compat",J1="@firebase/storage",Z1="@firebase/storage-compat",eT="@firebase/firestore",tT="@firebase/ai",nT="@firebase/firestore-compat",rT="firebase",iT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="[DEFAULT]",sT={[tf]:"fire-core",[D1]:"fire-core-compat",[b1]:"fire-analytics",[V1]:"fire-analytics-compat",[M1]:"fire-app-check",[L1]:"fire-app-check-compat",[O1]:"fire-auth",[F1]:"fire-auth-compat",[j1]:"fire-rtdb",[U1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[B1]:"fire-fn",[$1]:"fire-fn-compat",[H1]:"fire-iid",[q1]:"fire-iid-compat",[W1]:"fire-fcm",[K1]:"fire-fcm-compat",[G1]:"fire-perf",[Q1]:"fire-perf-compat",[Y1]:"fire-rc",[X1]:"fire-rc-compat",[J1]:"fire-gcs",[Z1]:"fire-gcs-compat",[eT]:"fire-fst",[nT]:"fire-fst-compat",[tT]:"fire-vertex","fire-js":"fire-js",[rT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Map,oT=new Map,rf=new Map;function eg(r,e){try{r.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function fi(r){const e=r.name;if(rf.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;rf.set(e,r);for(const t of Tu.values())eg(t,r);for(const t of oT.values())eg(t,r);return!0}function Ma(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function aT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Uu("app","Firebase",lT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=iT;function Fy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:nf,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ui.create("bad-app-name",{appName:String(a)});if(t||(t=Dy()),!t)throw ui.create("no-options");const l=Tu.get(a);if(l){if(io(t,l.options)&&io(s,l.config))return l;throw ui.create("duplicate-app",{appName:a})}const h=new m1(a);for(const g of rf.values())h.addComponent(g);const d=new uT(t,s,h);return Tu.set(a,d),d}function jy(r=nf){const e=Tu.get(r);if(!e&&r===nf&&Dy())return Fy();if(!e)throw ui.create("no-app",{appName:r});return e}function Jn(r,e,t){let s=sT[r]??r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(h.join(" "));return}fi(new Cr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="firebase-heartbeat-database",fT=1,Ca="firebase-heartbeat-store";let Uh=null;function Uy(){return Uh||(Uh=Oy(hT,fT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ca)}catch(t){console.warn(t)}}}}).catch(r=>{throw ui.create("idb-open",{originalErrorMessage:r.message})})),Uh}async function dT(r){try{const t=(await Uy()).transaction(Ca),s=await t.objectStore(Ca).get(zy(r));return await t.done,s}catch(e){if(e instanceof wi)Rr.warn(e.message);else{const t=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(t.message)}}}async function tg(r,e){try{const s=(await Uy()).transaction(Ca,"readwrite");await s.objectStore(Ca).put(e,zy(r)),await s.done}catch(t){if(t instanceof wi)Rr.warn(t.message);else{const s=ui.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Rr.warn(s.message)}}}function zy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=1024,mT=30;class gT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ng();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>mT){const h=_T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ng(),{heartbeatsToSend:s,unsentEntries:a}=yT(this._heartbeatsCache.heartbeats),l=Eu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Rr.warn(t),""}}}function ng(){return new Date().toISOString().substring(0,10)}function yT(r,e=pT){const t=[];let s=r.slice();for(const a of r){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),rg(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),rg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class vT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vy()?by().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rg(r){return Eu(JSON.stringify({version:2,heartbeats:r})).length}function _T(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(r){fi(new Cr("platform-logger",e=>new P1(e),"PRIVATE")),fi(new Cr("heartbeat",e=>new gT(e),"PRIVATE")),Jn(tf,Zm,r),Jn(tf,Zm,"esm2020"),Jn("fire-js","")}wT("");var ET="firebase",TT="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(ET,TT,"app");const By="@firebase/installations",Ff="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=1e4,Hy=`w:${Ff}`,qy="FIS_v2",IT="https://firebaseinstallations.googleapis.com/v1",ST=3600*1e3,xT="installations",AT="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},es=new Uu(xT,AT,CT);function Wy(r){return r instanceof wi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky({projectId:r}){return`${IT}/projects/${r}/installations`}function Gy(r){return{token:r.token,requestStatus:2,expiresIn:kT(r.expiresIn),creationTime:Date.now()}}async function Qy(r,e){const s=(await e.json()).error;return es.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Yy({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function RT(r,{refreshToken:e}){const t=Yy(r);return t.append("Authorization",PT(e)),t}async function Xy(r){const e=await r();return e.status>=500&&e.status<600?r():e}function kT(r){return Number(r.replace("s","000"))}function PT(r){return`${qy} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=Ky(r),a=Yy(r),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const h={fid:t,authVersion:qy,appId:r.appId,sdkVersion:Hy},d={method:"POST",headers:a,body:JSON.stringify(h)},g=await Xy(()=>fetch(s,d));if(g.ok){const v=await g.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Gy(v.authToken)}}else throw await Qy("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=/^[cdef][\w-]{21}$/,sf="";function bT(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=LT(r);return VT.test(t)?t:sf}catch{return sf}}function LT(r){return DT(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;function ev(r,e){const t=zu(r);tv(t,e),MT(t,e)}function tv(r,e){const t=Zy.get(r);if(t)for(const s of t)s(e)}function MT(r,e){const t=OT();t&&t.postMessage({key:r,fid:e}),FT()}let Xi=null;function OT(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=r=>{tv(r.data.key,r.data.fid)}),Xi}function FT(){Zy.size===0&&Xi&&(Xi.close(),Xi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebase-installations-database",UT=1,ts="firebase-installations-store";let zh=null;function jf(){return zh||(zh=Oy(jT,UT,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ts)}}})),zh}async function Iu(r,e){const t=zu(r),a=(await jf()).transaction(ts,"readwrite"),l=a.objectStore(ts),h=await l.get(t);return await l.put(e,t),await a.done,(!h||h.fid!==e.fid)&&ev(r,e.fid),e}async function nv(r){const e=zu(r),s=(await jf()).transaction(ts,"readwrite");await s.objectStore(ts).delete(e),await s.done}async function Bu(r,e){const t=zu(r),a=(await jf()).transaction(ts,"readwrite"),l=a.objectStore(ts),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!h||h.fid!==d.fid)&&ev(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(r){let e;const t=await Bu(r.appConfig,s=>{const a=zT(s),l=BT(r,a);return e=l.registrationPromise,l.installationEntry});return t.fid===sf?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function zT(r){const e=r||{fid:bT(),registrationStatus:0};return rv(e)}function BT(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(es.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=$T(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HT(r)}:{installationEntry:e}}async function $T(r,e){try{const t=await NT(r,e);return Iu(r.appConfig,t)}catch(t){throw Wy(t)&&t.customData.serverCode===409?await nv(r.appConfig):await Iu(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function HT(r){let e=await ig(r.appConfig);for(;e.registrationStatus===1;)await Jy(100),e=await ig(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Uf(r);return s||t}return e}function ig(r){return Bu(r,e=>{if(!e)throw es.create("installation-not-found");return rv(e)})}function rv(r){return qT(r)?{fid:r.fid,registrationStatus:0}:r}function qT(r){return r.registrationStatus===1&&r.registrationTime+$y<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT({appConfig:r,heartbeatServiceProvider:e},t){const s=KT(r,t),a=RT(r,t),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const h={installation:{sdkVersion:Hy,appId:r.appId}},d={method:"POST",headers:a,body:JSON.stringify(h)},g=await Xy(()=>fetch(s,d));if(g.ok){const v=await g.json();return Gy(v)}else throw await Qy("Generate Auth Token",g)}function KT(r,{fid:e}){return`${Ky(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(r,e=!1){let t;const s=await Bu(r.appConfig,l=>{if(!iv(l))throw es.create("not-registered");const h=l.authToken;if(!e&&YT(h))return l;if(h.requestStatus===1)return t=GT(r,e),l;{if(!navigator.onLine)throw es.create("app-offline");const d=JT(l);return t=QT(r,d),d}});return t?await t:s.authToken}async function GT(r,e){let t=await sg(r.appConfig);for(;t.authToken.requestStatus===1;)await Jy(100),t=await sg(r.appConfig);const s=t.authToken;return s.requestStatus===0?zf(r,e):s}function sg(r){return Bu(r,e=>{if(!iv(e))throw es.create("not-registered");const t=e.authToken;return ZT(t)?{...e,authToken:{requestStatus:0}}:e})}async function QT(r,e){try{const t=await WT(r,e),s={...e,authToken:t};return await Iu(r.appConfig,s),t}catch(t){if(Wy(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await nv(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Iu(r.appConfig,s)}throw t}}function iv(r){return r!==void 0&&r.registrationStatus===2}function YT(r){return r.requestStatus===2&&!XT(r)}function XT(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+ST}function JT(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function ZT(r){return r.requestStatus===1&&r.requestTime+$y<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r){const e=r,{installationEntry:t,registrationPromise:s}=await Uf(e);return s?s.catch(console.error):zf(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(r,e=!1){const t=r;return await nI(t),(await zf(t,e)).token}async function nI(r){const{registrationPromise:e}=await Uf(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r){if(!r||!r.options)throw Bh("App Configuration");if(!r.name)throw Bh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Bh(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Bh(r){return es.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="installations",iI="installations-internal",sI=r=>{const e=r.getProvider("app").getImmediate(),t=rI(e),s=Ma(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},oI=r=>{const e=r.getProvider("app").getImmediate(),t=Ma(e,sv).getImmediate();return{getId:()=>eI(t),getToken:a=>tI(t,a)}};function aI(){fi(new Cr(sv,sI,"PUBLIC")),fi(new Cr(iI,oI,"PRIVATE"))}aI();Jn(By,Ff);Jn(By,Ff,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="analytics",lI="firebase_id",uI="origin",cI=60*1e3,hI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t=new Mf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},un=new Uu("analytics","Analytics",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){if(!r.startsWith(Bf)){const e=un.create("invalid-gtag-resource",{gtagURL:r});return $t.warn(e.message),""}return r}function ov(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function pI(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function mI(r,e){const t=pI("firebase-js-sdk-policy",{createScriptURL:dI}),s=document.createElement("script"),a=`${Bf}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function gI(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function yI(r,e,t,s,a,l){const h=s[a];try{if(h)await e[h];else{const g=(await ov(t)).find(v=>v.measurementId===a);g&&await e[g.appId]}}catch(d){$t.error(d)}r("config",a,l)}async function vI(r,e,t,s,a){try{let l=[];if(a&&a.send_to){let h=a.send_to;Array.isArray(h)||(h=[h]);const d=await ov(t);for(const g of h){const v=d.find(E=>E.measurementId===g),w=v&&e[v.appId];if(w)l.push(w);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,a||{})}catch(l){$t.error(l)}}function _I(r,e,t,s){async function a(l,...h){try{if(l==="event"){const[d,g]=h;await vI(r,e,t,d,g)}else if(l==="config"){const[d,g]=h;await yI(r,e,t,s,d,g)}else if(l==="consent"){const[d,g]=h;r("consent",d,g)}else if(l==="get"){const[d,g,v]=h;r("get",d,g,v)}else if(l==="set"){const[d]=h;r("set",d)}else r(l,...h)}catch(d){$t.error(d)}}return a}function wI(r,e,t,s,a){let l=function(...h){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=_I(l,r,e,t),{gtagCore:l,wrappedGtag:window[a]}}function EI(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Bf)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=30,II=1e3;class SI{constructor(e={},t=II){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const av=new SI;function xI(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function AI(r){var h;const{appId:e,apiKey:t}=r,s={method:"GET",headers:xI(t)},a=hI.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let d="";try{const g=await l.json();(h=g.error)!=null&&h.message&&(d=g.error.message)}catch{}throw un.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function CI(r,e=av,t){const{appId:s,apiKey:a,measurementId:l}=r.options;if(!s)throw un.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw un.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new PI;return setTimeout(async()=>{d.abort()},cI),lv({appId:s,apiKey:a,measurementId:l},h,d,e)}async function lv(r,{throttleEndTimeMillis:e,backoffCount:t},s,a=av){var d;const{appId:l,measurementId:h}=r;try{await RI(s,e)}catch(g){if(h)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:h};throw g}try{const g=await AI(r);return a.deleteThrottleMetadata(l),g}catch(g){const v=g;if(!kI(v)){if(a.deleteThrottleMetadata(l),h)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:l,measurementId:h};throw g}const w=Number((d=v==null?void 0:v.customData)==null?void 0:d.httpStatus)===503?Qm(t,a.intervalMillis,TI):Qm(t,a.intervalMillis),E={throttleEndTimeMillis:Date.now()+w,backoffCount:t+1};return a.setThrottleMetadata(l,E),$t.debug(`Calling attemptFetch again in ${w} millis`),lv(r,E,s,a)}}function RI(r,e){return new Promise((t,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);r.addEventListener(()=>{clearTimeout(l),s(un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kI(r){if(!(r instanceof wi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class PI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NI(r,e,t,s,a){if(a&&a.global){r("event",t,s);return}else{const l=await e,h={...s,send_to:l};r("event",t,h)}}async function DI(r,e,t,s){if(s&&s.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return r("set",a),Promise.resolve()}else{const a=await e;r("config",a,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(){if(Vy())try{await by()}catch(r){return $t.warn(un.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return $t.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bI(r,e,t,s,a,l,h){const d=CI(r);d.then(I=>{t[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>$t.error(I)),e.push(d);const g=VI().then(I=>{if(I)return s.getId()}),[v,w]=await Promise.all([d,g]);EI(l)||mI(l,v.measurementId),a("js",new Date);const E=(h==null?void 0:h.config)??{};return E[uI]="firebase",E.update=!0,w!=null&&(E[lI]=w),a("config",v.measurementId,E),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.app=e}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},og=[];const ag={};let $h="dataLayer",MI="gtag",lg,$f,ug=!1;function OI(){const r=[];if(n1()&&r.push("This is a browser extension environment."),i1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,a)=>`(${a+1}) ${s}`).join(" "),t=un.create("invalid-analytics-context",{errorInfo:e});$t.warn(t.message)}}function FI(r,e,t){OI();const s=r.options.appId;if(!s)throw un.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw un.create("no-api-key");if(no[s]!=null)throw un.create("already-exists",{id:s});if(!ug){gI($h);const{wrappedGtag:l,gtagCore:h}=wI(no,og,ag,$h,MI);$f=l,lg=h,ug=!0}return no[s]=bI(r,og,ag,e,lg,$h,t),new LI(r)}function jI(r=jy()){r=ir(r);const e=Ma(r,Su);return e.isInitialized()?e.getImmediate():UI(r)}function UI(r,e={}){const t=Ma(r,Su);if(t.isInitialized()){const a=t.getImmediate();if(io(e,t.getOptions()))return a;throw un.create("already-initialized")}return t.initialize({options:e})}function zI(r,e,t){r=ir(r),DI($f,no[r.app.options.appId],e,t).catch(s=>$t.error(s))}function BI(r,e,t,s){r=ir(r),NI($f,no[r.app.options.appId],e,t,s).catch(a=>$t.error(a))}const cg="@firebase/analytics",hg="0.10.19";function $I(){fi(new Cr(Su,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return FI(s,a,t)},"PUBLIC")),fi(new Cr("analytics-internal",r,"PRIVATE")),Jn(cg,hg),Jn(cg,hg,"esm2020");function r(e){try{const t=e.getProvider(Su).getImmediate();return{logEvent:(s,a,l)=>BI(t,s,a,l),setUserProperties:(s,a)=>zI(t,s,a)}}catch(t){throw un.create("interop-component-reg-failed",{reason:t})}}}$I();var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,uv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function R(){}R.prototype=x.prototype,P.F=x.prototype,P.prototype=new R,P.prototype.constructor=P,P.D=function(V,N,M){for(var C=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)C[$e-2]=arguments[$e];return x.prototype[N].apply(V,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,x,R){R||(R=0);const V=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)V[N]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=P.g[0],R=P.g[1],N=P.g[2];let M=P.g[3],C;C=x+(M^R&(N^M))+V[0]+3614090360&4294967295,x=R+(C<<7&4294967295|C>>>25),C=M+(N^x&(R^N))+V[1]+3905402710&4294967295,M=x+(C<<12&4294967295|C>>>20),C=N+(R^M&(x^R))+V[2]+606105819&4294967295,N=M+(C<<17&4294967295|C>>>15),C=R+(x^N&(M^x))+V[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(M^R&(N^M))+V[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=M+(N^x&(R^N))+V[5]+1200080426&4294967295,M=x+(C<<12&4294967295|C>>>20),C=N+(R^M&(x^R))+V[6]+2821735955&4294967295,N=M+(C<<17&4294967295|C>>>15),C=R+(x^N&(M^x))+V[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(M^R&(N^M))+V[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=M+(N^x&(R^N))+V[9]+2336552879&4294967295,M=x+(C<<12&4294967295|C>>>20),C=N+(R^M&(x^R))+V[10]+4294925233&4294967295,N=M+(C<<17&4294967295|C>>>15),C=R+(x^N&(M^x))+V[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(M^R&(N^M))+V[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=M+(N^x&(R^N))+V[13]+4254626195&4294967295,M=x+(C<<12&4294967295|C>>>20),C=N+(R^M&(x^R))+V[14]+2792965006&4294967295,N=M+(C<<17&4294967295|C>>>15),C=R+(x^N&(M^x))+V[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=x+(N^M&(R^N))+V[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=M+(R^N&(x^R))+V[6]+3225465664&4294967295,M=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(M^x))+V[11]+643717713&4294967295,N=M+(C<<14&4294967295|C>>>18),C=R+(M^x&(N^M))+V[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(N^M&(R^N))+V[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=M+(R^N&(x^R))+V[10]+38016083&4294967295,M=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(M^x))+V[15]+3634488961&4294967295,N=M+(C<<14&4294967295|C>>>18),C=R+(M^x&(N^M))+V[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(N^M&(R^N))+V[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=M+(R^N&(x^R))+V[14]+3275163606&4294967295,M=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(M^x))+V[3]+4107603335&4294967295,N=M+(C<<14&4294967295|C>>>18),C=R+(M^x&(N^M))+V[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(N^M&(R^N))+V[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=M+(R^N&(x^R))+V[2]+4243563512&4294967295,M=x+(C<<9&4294967295|C>>>23),C=N+(x^R&(M^x))+V[7]+1735328473&4294967295,N=M+(C<<14&4294967295|C>>>18),C=R+(M^x&(N^M))+V[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=x+(R^N^M)+V[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=M+(x^R^N)+V[8]+2272392833&4294967295,M=x+(C<<11&4294967295|C>>>21),C=N+(M^x^R)+V[11]+1839030562&4294967295,N=M+(C<<16&4294967295|C>>>16),C=R+(N^M^x)+V[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(R^N^M)+V[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=M+(x^R^N)+V[4]+1272893353&4294967295,M=x+(C<<11&4294967295|C>>>21),C=N+(M^x^R)+V[7]+4139469664&4294967295,N=M+(C<<16&4294967295|C>>>16),C=R+(N^M^x)+V[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(R^N^M)+V[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=M+(x^R^N)+V[0]+3936430074&4294967295,M=x+(C<<11&4294967295|C>>>21),C=N+(M^x^R)+V[3]+3572445317&4294967295,N=M+(C<<16&4294967295|C>>>16),C=R+(N^M^x)+V[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(R^N^M)+V[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=M+(x^R^N)+V[12]+3873151461&4294967295,M=x+(C<<11&4294967295|C>>>21),C=N+(M^x^R)+V[15]+530742520&4294967295,N=M+(C<<16&4294967295|C>>>16),C=R+(N^M^x)+V[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=x+(N^(R|~M))+V[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=M+(R^(x|~N))+V[7]+1126891415&4294967295,M=x+(C<<10&4294967295|C>>>22),C=N+(x^(M|~R))+V[14]+2878612391&4294967295,N=M+(C<<15&4294967295|C>>>17),C=R+(M^(N|~x))+V[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=x+(N^(R|~M))+V[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=M+(R^(x|~N))+V[3]+2399980690&4294967295,M=x+(C<<10&4294967295|C>>>22),C=N+(x^(M|~R))+V[10]+4293915773&4294967295,N=M+(C<<15&4294967295|C>>>17),C=R+(M^(N|~x))+V[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=x+(N^(R|~M))+V[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=M+(R^(x|~N))+V[15]+4264355552&4294967295,M=x+(C<<10&4294967295|C>>>22),C=N+(x^(M|~R))+V[6]+2734768916&4294967295,N=M+(C<<15&4294967295|C>>>17),C=R+(M^(N|~x))+V[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=x+(N^(R|~M))+V[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=M+(R^(x|~N))+V[11]+3174756917&4294967295,M=x+(C<<10&4294967295|C>>>22),C=N+(x^(M|~R))+V[2]+718787259&4294967295,N=M+(C<<15&4294967295|C>>>17),C=R+(M^(N|~x))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+M&4294967295}s.prototype.v=function(P,x){x===void 0&&(x=P.length);const R=x-this.blockSize,V=this.C;let N=this.h,M=0;for(;M<x;){if(N==0)for(;M<=R;)a(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<x;)if(V[N++]=P.charCodeAt(M++),N==this.blockSize){a(this,V),N=0;break}}else for(;M<x;)if(V[N++]=P[M++],N==this.blockSize){a(this,V),N=0;break}}this.h=N,this.o+=x},s.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;x=this.o*8;for(var R=P.length-8;R<P.length;++R)P[R]=x&255,x/=256;for(this.v(P),P=Array(16),x=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)P[x++]=this.g[R]>>>V&255;return P};function l(P,x){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=x(P)}function h(P,x){this.h=x;const R=[];let V=!0;for(let N=P.length-1;N>=0;N--){const M=P[N]|0;V&&M==x||(R[N]=M,V=!1)}this.g=R}var d={};function g(P){return-128<=P&&P<128?l(P,function(x){return new h([x|0],x<0?-1:0)}):new h([P|0],P<0?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return E;if(P<0)return U(v(-P));const x=[];let R=1;for(let V=0;P>=R;V++)x[V]=P/R|0,R*=4294967296;return new h(x,0)}function w(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return U(w(P.substring(1),x));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(x,8));let V=E;for(let M=0;M<P.length;M+=8){var N=Math.min(8,P.length-M);const C=parseInt(P.substring(M,M+N),x);N<8?(N=v(Math.pow(x,N)),V=V.j(N).add(v(C))):(V=V.j(R),V=V.add(v(C)))}return V}var E=g(0),I=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-U(this).m();let P=0,x=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);P+=(V>=0?V:4294967296+V)*x,x*=4294967296}return P},r.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(H(this))return"0";if(q(this))return"-"+U(this).toString(P);const x=v(Math.pow(P,6));var R=this;let V="";for(;;){const N=ge(R,x).g;R=ee(R,N.j(x));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(P);if(R=N,H(R))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},r.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function H(P){if(P.h!=0)return!1;for(let x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function q(P){return P.h==-1}r.l=function(P){return P=ee(this,P),q(P)?-1:H(P)?0:1};function U(P){const x=P.g.length,R=[];for(let V=0;V<x;V++)R[V]=~P.g[V];return new h(R,~P.h).add(I)}r.abs=function(){return q(this)?U(this):this},r.add=function(P){const x=Math.max(this.g.length,P.g.length),R=[];let V=0;for(let N=0;N<=x;N++){let M=V+(this.i(N)&65535)+(P.i(N)&65535),C=(M>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);V=C>>>16,M&=65535,C&=65535,R[N]=C<<16|M}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ee(P,x){return P.add(U(x))}r.j=function(P){if(H(this)||H(P))return E;if(q(this))return q(P)?U(this).j(U(P)):U(U(this).j(P));if(q(P))return U(this.j(U(P)));if(this.l(D)<0&&P.l(D)<0)return v(this.m()*P.m());const x=this.g.length+P.g.length,R=[];for(var V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<P.g.length;N++){const M=this.i(V)>>>16,C=this.i(V)&65535,$e=P.i(N)>>>16,_t=P.i(N)&65535;R[2*V+2*N]+=C*_t,re(R,2*V+2*N),R[2*V+2*N+1]+=M*_t,re(R,2*V+2*N+1),R[2*V+2*N+1]+=C*$e,re(R,2*V+2*N+1),R[2*V+2*N+2]+=M*$e,re(R,2*V+2*N+2)}for(P=0;P<x;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=x;P<2*x;P++)R[P]=0;return new h(R,0)};function re(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function J(P,x){this.g=P,this.h=x}function ge(P,x){if(H(x))throw Error("division by zero");if(H(P))return new J(E,E);if(q(P))return x=ge(U(P),x),new J(U(x.g),U(x.h));if(q(x))return x=ge(P,U(x)),new J(U(x.g),x.h);if(P.g.length>30){if(q(P)||q(x))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=x;V.l(P)<=0;)R=xe(R),V=xe(V);var N=_e(R,1),M=_e(V,1);for(V=_e(V,2),R=_e(R,2);!H(V);){var C=M.add(V);C.l(P)<=0&&(N=N.add(R),M=C),V=_e(V,1),R=_e(R,1)}return x=ee(P,N.j(x)),new J(N,x)}for(N=E;P.l(x)>=0;){for(R=Math.max(1,Math.floor(P.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=v(R),C=M.j(x);q(C)||C.l(P)>0;)R-=V,M=v(R),C=M.j(x);H(M)&&(M=I),N=N.add(M),P=ee(P,C)}return new J(N,P)}r.B=function(P){return ge(this,P).h},r.and=function(P){const x=Math.max(this.g.length,P.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)&P.i(V);return new h(R,this.h&P.h)},r.or=function(P){const x=Math.max(this.g.length,P.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)|P.i(V);return new h(R,this.h|P.h)},r.xor=function(P){const x=Math.max(this.g.length,P.g.length),R=[];for(let V=0;V<x;V++)R[V]=this.i(V)^P.i(V);return new h(R,this.h^P.h)};function xe(P){const x=P.g.length+1,R=[];for(let V=0;V<x;V++)R[V]=P.i(V)<<1|P.i(V-1)>>>31;return new h(R,P.h)}function _e(P,x){const R=x>>5;x%=32;const V=P.g.length-R,N=[];for(let M=0;M<V;M++)N[M]=x>0?P.i(M+R)>>>x|P.i(M+R+1)<<32-x:P.i(M+R);return new h(N,P.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uv=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,ci=h}).apply(typeof fg<"u"?fg:typeof self<"u"?self:typeof window<"u"?window:{});var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cv,ga,hv,pu,of,fv,dv,pv;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ou=="object"&&ou];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function a(u,m){if(m)e:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in y))break e;y=y[F]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}a("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=g,v.apply(null,arguments)}function w(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,F,$){for(var te=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)te[Ee-2]=arguments[Ee];return m.prototype[F].apply(T,te)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function D(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function H(u,m){for(let T=1;T<arguments.length;T++){const F=arguments[T];var y=typeof F;if(y=y!="object"?y:F?Array.isArray(F)?"array":y:"null",y=="array"||y=="object"&&typeof F.length=="number"){y=u.length||0;const $=F.length||0;u.length=y+$;for(let te=0;te<$;te++)u[y+te]=F[te]}else u.push(F)}}class q{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function U(u){h.setTimeout(()=>{throw u},0)}function ee(){var u=P;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class re{constructor(){this.h=this.g=null}add(m,y){const T=J.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var J=new q(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,_e=!1,P=new re,x=()=>{const u=Promise.resolve(void 0);xe=()=>{u.then(R)}};function R(){for(var u;u=ee();){try{u.h.call(u.g)}catch(y){U(y)}var m=J;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,m),h.removeEventListener("test",y,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function $e(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}E($e,N),$e.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),Nt=0;function Qe(u,m,y,T,F){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=F,this.key=++Nt,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function oe(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function L(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(u,m){let y,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(y in T)u[y]=T[y];for(let $=0;$<K.length;$++)y=K[$],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function Se(u){this.src=u,this.g={},this.h=0}Se.prototype.add=function(u,m,y,T,F){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const te=Re(u,m,T,F);return te>-1?(m=u[te],y||(m.fa=!1)):(m=new Qe(m,this.src,$,!!T,F),m.fa=y,u.push(m)),m};function Ce(u,m){const y=m.type;if(y in u.g){var T=u.g[y],F=Array.prototype.indexOf.call(T,m,void 0),$;($=F>=0)&&Array.prototype.splice.call(T,F,1),$&&(ne(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Re(u,m,y,T){for(let F=0;F<u.length;++F){const $=u[F];if(!$.da&&$.listener==m&&$.capture==!!y&&$.ha==T)return F}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),be={};function ze(u,m,y,T,F){if(Array.isArray(m)){for(let $=0;$<m.length;$++)ze(u,m[$],y,T,F);return null}return y=wo(y),u&&u[_t]?u.J(m,y,d(T)?!!T.capture:!1,F):Ut(u,m,y,!1,T,F)}function Ut(u,m,y,T,F,$){if(!m)throw Error("Invalid event type");const te=d(F)?!!F.capture:!!F;let Ee=hs(u);if(Ee||(u[Fe]=Ee=new Se(u)),y=Ee.add(m,y,T,te,$),y.proxy)return y;if(T=us(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)M||(F=te),F===void 0&&(F=!1),u.addEventListener(m.toString(),T,F);else if(u.attachEvent)u.attachEvent(cs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function us(){function u(y){return m.call(u.src,u.listener,y)}const m=$a;return u}function _o(u,m,y,T,F){if(Array.isArray(m))for(var $=0;$<m.length;$++)_o(u,m[$],y,T,F);else T=d(T)?!!T.capture:!!T,y=wo(y),u&&u[_t]?(u=u.i,$=String(m).toString(),$ in u.g&&(m=u.g[$],y=Re(m,y,T,F),y>-1&&(ne(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[$],u.h--)))):u&&(u=hs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,y,T,F)),(y=u>-1?m[u]:null)&&Nr(y))}function Nr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_t])Ce(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(cs(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=hs(m))?(Ce(y,u),y.h==0&&(y.src=null,m[Fe]=null)):ne(u)}}}function cs(u){return u in be?be[u]:be[u]="on"+u}function $a(u,m){if(u.da)u=!0;else{m=new $e(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Nr(u),u=y.call(T,m)}return u}function hs(u){return u=u[Fe],u instanceof Se?u:null}var Ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(u){return typeof u=="function"?u:(u[Ii]||(u[Ii]=function(m){return u.handleEvent(m)}),u[Ii])}function lt(){V.call(this),this.i=new Se(this),this.M=this,this.G=null}E(lt,V),lt.prototype[_t]=!0,lt.prototype.removeEventListener=function(u,m,y,T){_o(this,u,m,y,T)};function it(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var F=m;m=new N(T,u),Ie(m,F)}F=!0;let $,te;if(y)for(te=y.length-1;te>=0;te--)$=m.g=y[te],F=En($,T,!0,m)&&F;if($=m.g=u,F=En($,T,!0,m)&&F,F=En($,T,!1,m)&&F,y)for(te=0;te<y.length;te++)$=m.g=y[te],F=En($,T,!1,m)&&F}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ne(y[T]);delete u.g[m],u.h--}}this.G=null},lt.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},lt.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function En(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let F=!0;for(let $=0;$<m.length;++$){const te=m[$];if(te&&!te.da&&te.capture==y){const Ee=te.listener,st=te.ha||te.src;te.fa&&Ce(u.i,te),F=Ee.call(st,T)!==!1&&F}}return F&&!T.defaultPrevented}function Eo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:h.setTimeout(u,m||0)}function To(u){u.g=Eo(()=>{u.g=null,u.i&&(u.i=!1,To(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ha extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:To(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){V.call(this),this.h=u,this.g={}}E(Dr,V);var Io=[];function fs(u){fe(u.g,function(m,y){this.g.hasOwnProperty(y)&&Nr(m)},u),u.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),fs(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=h.JSON.stringify,qa=h.JSON.parse,Si=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function br(){}function Wa(){}var Lr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ds(){N.call(this,"d")}E(ds,N);function So(){N.call(this,"c")}E(So,N);var Tn={},ps=null;function Mr(){return ps=ps||new lt}Tn.Ia="serverreachability";function ms(u){N.call(this,Tn.Ia,u)}E(ms,N);function ar(u){const m=Mr();it(m,new ms(m))}Tn.STAT_EVENT="statevent";function lr(u,m){N.call(this,Tn.STAT_EVENT,u),this.stat=m}E(lr,N);function nt(u){const m=Mr();it(m,new lr(m,u))}Tn.Ja="timingevent";function xo(u,m){N.call(this,Tn.Ja,u),this.size=m}E(xo,N);function Or(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function Fr(){this.g=!0}Fr.prototype.ua=function(){this.g=!1};function Ka(u,m,y,T,F,$){u.info(function(){if(u.g)if($){var te="",Ee=$.split("&");for(let Ue=0;Ue<Ee.length;Ue++){var st=Ee[Ue].split("=");if(st.length>1){const ut=st[0];st=st[1];const rn=ut.split("_");te=rn.length>=2&&rn[1]=="type"?te+(ut+"="+st+"&"):te+(ut+"=redacted&")}}}else te=null;else te=$;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+m+`
`+y+`
`+te})}function Ga(u,m,y,T,F,$,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+m+`
`+y+`
`+$+" "+te})}function Dn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xi(u,y)+(T?" "+T:"")})}function Qa(u,m){u.info(function(){return"TIMEOUT: "+m})}Fr.prototype.info=function(){};function xi(u,m){if(!u.g)return m;if(!m)return null;try{const $=JSON.parse(m);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var y=$[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var F=T[0];if(F!="noop"&&F!="stop"&&F!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return Vr($)}catch{return m}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ur={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ya;function ur(){}E(ur,br),ur.prototype.g=function(){return new XMLHttpRequest},Ya=new ur;function Vn(u){return encodeURIComponent(String(u))}function gs(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function fn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xa}function Xa(){this.i=null,this.g="",this.h=!1}var Ja={},Ao={};function In(u,m,y){u.M=1,u.A=hr(dn(m)),u.u=y,u.R=!0,Co(u,null)}function Co(u,m){u.F=Date.now(),Ai(u),u.B=dn(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Oo(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Xa,u.g=ll(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ha(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(Io[0]=F.toString()),F=Io);for(let $=0;$<F.length;$++){const te=ze(y,F[$],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ar(),Ka(u.i,u.v,u.B,u.l,u.S,u.u)}fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Un(u)==3?m.j():this.Y(u)},fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ee=Un(this.g),st=this.g.ya(),Ue=this.g.ca();if(!(Ee<3)&&(Ee!=3||this.g&&(this.h.h||this.g.la()||ol(this.g)))){this.K||Ee!=4||st==7||(st==8||Ue<=0?ar(3):ar(2)),ys(this);var m=this.g.ca();this.X=m;var y=Za(this);if(this.o=m==200,Ga(this.i,this.v,this.B,this.l,this.S,Ee,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,F=this.g;if((T=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var $=T;break t}}$=null}if(u=$)Dn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,u);else{this.o=!1,this.m=3,nt(12),cr(this),Ci(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<y.length;)if(ut=tl(this,y),ut==Ao){Ee==4&&(this.m=4,nt(14),u=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Ja){this.m=4,nt(15),Dn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Dn(this.i,this.l,ut,null),qe(this,ut);if(el(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||y.length!=0||this.h.h||(this.m=1,nt(16),u=!1),this.o=this.o&&u,!u)Dn(this.i,this.l,y,"[Invalid Chunked Response]"),cr(this),Ci(this);else if(y.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Mi(te),te.P=!0,nt(11))}}else Dn(this.i,this.l,y,null),qe(this,y);Ee==4&&cr(this),this.o&&!this.K&&(Ee==4?Cs(this.j,this):(this.o=!1,Ai(this)))}else jo(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),cr(this),Ci(this)}}}catch{}finally{}};function Za(u){if(!el(u))return u.g.la();const m=ol(u.g);if(m==="")return"";let y="";const T=m.length,F=Un(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cr(u),Ci(u),"";u.h.i=new h.TextDecoder}for(let $=0;$<T;$++)u.h.h=!0,y+=u.h.i.decode(m[$],{stream:!(F&&$==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function el(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ao:(y=Number(m.substring(y,T)),isNaN(y)?Ja:(T+=1,T+y>m.length?Ao:(m=m.slice(T,T+y),u.C=T+y,m)))}fn.prototype.cancel=function(){this.K=!0,cr(this)};function Ai(u){u.T=Date.now()+u.H,Ro(u,u.H)}function Ro(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Or(v(u.aa,u),m)}function ys(u){u.D&&(h.clearTimeout(u.D),u.D=null)}fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qa(this.i,this.B),this.M!=2&&(ar(),nt(17)),cr(this),this.m=2,Ci(this)):Ro(this,this.T-u)};function Ci(u){u.j.I==0||u.K||Cs(u.j,u)}function cr(u){ys(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function qe(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Po(y.h,u))){if(!u.L&&Po(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)As(y),tn(y);else break e;$n(y),nt(18)}}else y.xa=F[1],0<y.xa-y.K&&F[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Or(v(y.Va,y),6e3));Ri(y.h)<=1&&y.ta&&(y.ta=void 0)}else nn(y,11)}else if((u.L||y.g==u)&&As(y),!C(m))for(F=y.Ba.g.parse(m),m=0;m<F.length;m++){let Ue=F[m];const ut=Ue[0];if(!(ut<=y.K))if(y.K=ut,Ue=Ue[1],y.I==2)if(Ue[0]=="c"){y.M=Ue[1],y.ba=Ue[2];const rn=Ue[3];rn!=null&&(y.ka=rn,y.j.info("VER="+y.ka));const gr=Ue[4];gr!=null&&(y.za=gr,y.j.info("SVER="+y.za));const Hn=Ue[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const qn=u.g;if(qn){const Ps=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var $=T.h;$.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(_s($,$.h),$.h=null))}if(T.G){const Bo=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(T.wa=Bo,Oe(T.J,T.G,Bo))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var te=u;if(T.na=zo(T,T.L?T.ba:null,T.W),te.L){ki(T.h,te);var Ee=te,st=T.O;st&&(Ee.H=st),Ee.D&&(ys(Ee),Ai(Ee)),T.g=te}else Dt(T);y.i.length>0&&mr(y)}else Ue[0]!="stop"&&Ue[0]!="close"||nn(y,7);else y.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?nn(y,7):Ss(y):Ue[0]!="noop"&&y.l&&y.l.qa(Ue),y.A=0)}}ar(4)}catch{}}var oc=class{constructor(u,m){this.g=u,this.map=m}};function vs(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Po(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _s(u,m){u.g?u.g.add(m):u.h=m}function ki(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vs.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jt(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return D(u.i)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zt(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let F,$=null;T>=0?(F=u[y].substring(0,T),$=u[y].substring(T+1)):F=u[y],m(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Pi(this,u.j),this.o=u.o,this.g=u.g,Ln(this,u.u),this.h=u.h,zr(this,Fo(u.i)),this.m=u.m):u&&(m=String(u).match(nl))?(this.l=!1,Pi(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Ln(this,m[4]),this.h=Ni(m[5]||"",!0),zr(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Ne(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Di(m,Do,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Di(m,Do,!0),"@"),u.push(Vn(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Di(y,y.charAt(0)=="/"?Vi:Vo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Di(y,bo)),u.join("")},bn.prototype.resolve=function(u){const m=dn(this);let y=!!u.j;y?Pi(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)Ln(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var F=m.h.lastIndexOf("/");F!=-1&&(T=m.h.slice(0,F+1)+T)}if(F=T,F==".."||F==".")T="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){T=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let te=0;te<F.length;){const Ee=F[te++];Ee=="."?T&&te==F.length&&$.push(""):Ee==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),T&&te==F.length&&$.push("")):($.push(Ee),T=!0)}T=$.join("/")}else T=F}return y?m.h=T:y=u.i.toString()!=="",y?zr(m,Fo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function dn(u){return new bn(u)}function Pi(u,m,y){u.j=y?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ln(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zr(u,m,y){m instanceof Ne?(u.i=m,Es(u.i,u.l)):(y||(m=Di(m,ac)),u.i=new Ne(m,u.l))}function Oe(u,m,y){u.i.set(m,y)}function hr(u){return Oe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Di(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,No),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function No(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Do=/[#\/\?@]/g,Vo=/[#\?:]/g,Vi=/[#\?]/g,ac=/[#\?@]/g,bo=/#/g;function Ne(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zt(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Ne.prototype,r.add=function(u,m){Mn(this),this.i=null,u=On(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Lo(u,m){Mn(u),m=On(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ws(u,m){return Mn(u),m=On(u,m),u.g.has(m)}r.forEach=function(u,m){Mn(this),this.g.forEach(function(y,T){y.forEach(function(F){u.call(m,F,T,this)},this)},this)};function Mo(u,m){Mn(u);let y=[];if(typeof m=="string")ws(u,m)&&(y=y.concat(u.g.get(On(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return Mn(this),this.i=null,u=On(this,u),ws(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function Oo(u,m,y){Lo(u,m),y.length>0&&(u.i=null,u.g.set(On(u,m),D(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const F=Vn(y);y=Mo(this,y);for(let $=0;$<y.length;$++){let te=F;y[$]!==""&&(te+="="+Vn(y[$])),u.push(te)}}return this.i=u.join("&")};function Fo(u){const m=new Ne;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function On(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Es(u,m){m&&!u.j&&(Mn(u),u.i=null,u.g.forEach(function(y,T){const F=T.toLowerCase();T!=F&&(Lo(this,T),Oo(this,F,y))},u)),u.j=m}function Fn(u,m){const y=new Fr;if(h.Image){const T=new Image;T.onload=w(St,y,"TestLoadImage: loaded",!0,m,T),T.onerror=w(St,y,"TestLoadImage: error",!1,m,T),T.onabort=w(St,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=w(St,y,"TestLoadImage: timeout",!1,m,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function jn(u,m){const y=new Fr,T=new AbortController,F=setTimeout(()=>{T.abort(),St(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then($=>{clearTimeout(F),$.ok?St(y,"TestPingServer: ok",!0,m):St(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),St(y,"TestPingServer: error",!1,m)})}function St(u,m,y,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(y)}catch{}}function bi(){this.g=new Si}function fr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(fr,br),fr.prototype.g=function(){return new en(this.i,this.h)};function en(u,m){lt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(en,lt),r=en.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Sn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||h).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function rl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Br(this):Sn(this),this.readyState==3&&rl(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Br(this))},r.Na=function(u){this.g&&(this.response=u,Br(this))},r.ga=function(){this.g&&Br(this)};function Br(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Sn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Sn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(en.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let m="";return fe(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ts(u,m,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=il(y),typeof u=="string"?y!=null&&Vn(y):Oe(u,m,y))}function Be(u){lt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Be,lt);var sl=/^https?$/i,lc=["POST","PUT"];r=Be.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ya.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch($){$r(this,$);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)y.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())y.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),F=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(lc,m,void 0)>=0)||T||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of y)this.g.setRequestHeader($,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){$r(this,$)}};function $r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hr(u),pr(u)}function Hr(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,it(this,"complete"),it(this,"abort"),pr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),Be.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?dr(this):this.Xa())},r.Xa=function(){dr(this)};function dr(u){if(u.h&&typeof l<"u"){if(u.v&&Un(u)==4)setTimeout(u.Ca.bind(u),0);else if(it(u,"readystatechange"),Un(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var T;if(T=$===0){let te=String(u.D).match(nl)[1]||null;!te&&h.self&&h.self.location&&(te=h.self.location.protocol.slice(0,-1)),T=!sl.test(te?te.toLowerCase():"")}y=T}if(y)it(u,"complete"),it(u,"success");else{u.o=6;try{var F=Un(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",Hr(u)}}finally{pr(u)}}}}function pr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||it(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Un(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qa(m)}};function ol(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jo(u){const m={};u=(u.g&&Un(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var y=gs(u[T]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=m[F]||[];m[F]=$,$.push(y)}oe(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zn("baseRetryDelayMs",5e3,u),this.Za=zn("retryDelaySeedMs",1e4,u),this.Ta=zn("forwardChannelMaxRetries",2,u),this.va=zn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vs(u&&u.concurrentRequestLimit),this.Ba=new bi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Is.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){nt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=zo(this,null,this.W),mr(this)};function Ss(u){if(xs(u),u.I==3){var m=u.V++,y=dn(u.J);if(Oe(y,"SID",u.M),Oe(y,"RID",m),Oe(y,"TYPE","terminate"),Bn(u,y),m=new fn(u,u.j,m),m.M=2,m.A=hr(dn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&h.Image&&(new Image().src=m.A,y=!0),y||(m.g=ll(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Oi(u)}function tn(u){u.g&&(Mi(u),u.g.cancel(),u.g=null)}function xs(u){tn(u),u.v&&(h.clearTimeout(u.v),u.v=null),As(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function mr(u){if(!ko(u.h)&&!u.m){u.m=!0;var m=u.Ea;xe||x(),_e||(xe(),_e=!0),P.add(m,u),u.D=0}}function al(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Or(v(u.Ea,u,m),Rs(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new fn(this,this.j,u);let $=this.o;if(this.U&&($?($=L($),Ie($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Uo(this,F,m),y=dn(this.J),Oe(y,"RID",u),Oe(y,"CVER",22),this.G&&Oe(y,"X-HTTP-Session-Id",this.G),Bn(this,y),$&&(this.R?m="headers="+Vn(il($))+"&"+m:this.u&&Ts(y,this.u,$)),_s(this.h,F),this.Ra&&Oe(y,"TYPE","init"),this.S?(Oe(y,"$req",m),Oe(y,"SID","null"),F.U=!0,In(F,y,null)):In(F,y,m),this.I=2}}else this.I==3&&(u?Li(this,u):this.i.length==0||ko(this.h)||Li(this))};function Li(u,m){var y;m?y=m.l:y=u.V++;const T=dn(u.J);Oe(T,"SID",u.M),Oe(T,"RID",y),Oe(T,"AID",u.K),Bn(u,T),u.u&&u.o&&Ts(T,u.u,u.o),y=new fn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Uo(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_s(u.h,y),In(y,T,m)}function Bn(u,m){u.H&&fe(u.H,function(y,T){Oe(m,T,y)}),u.l&&fe({},function(y,T){Oe(m,T,y)})}function Uo(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var F=u.i;let Ee=-1;for(;;){const st=["count="+y];Ee==-1?y>0?(Ee=F[0].g,st.push("ofs="+Ee)):Ee=0:st.push("ofs="+Ee);let Ue=!0;for(let ut=0;ut<y;ut++){var $=F[ut].g;const rn=F[ut].map;if($-=Ee,$<0)Ee=Math.max(0,F[ut].g-100),Ue=!1;else try{$="req"+$+"_"||"";try{var te=rn instanceof Map?rn:Object.entries(rn);for(const[gr,Hn]of te){let qn=Hn;d(Hn)&&(qn=Vr(Hn)),st.push($+gr+"="+encodeURIComponent(qn))}}catch(gr){throw st.push($+"type="+encodeURIComponent("_badmap")),gr}}catch{T&&T(rn)}}if(Ue){te=st.join("&");break e}}te=void 0}return u=u.i.splice(0,y),m.G=u,te}function Dt(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;xe||x(),_e||(xe(),_e=!0),P.add(m,u),u.A=0}}function $n(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Or(v(u.Da,u),Rs(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,qr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Or(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),tn(this),qr(this))};function Mi(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function qr(u){u.g=new fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=dn(u.na);Oe(m,"RID","rpc"),Oe(m,"SID",u.M),Oe(m,"AID",u.K),Oe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Oe(m,"TO",u.ia),Oe(m,"TYPE","xmlhttp"),Bn(u,m),u.u&&u.o&&Ts(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=hr(dn(m)),y.u=null,y.R=!0,Co(y,u)}r.Va=function(){this.C!=null&&(this.C=null,tn(this),$n(this),nt(19))};function As(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Cs(u,m){var y=null;if(u.g==m){As(u),Mi(u),u.g=null;var T=2}else if(Po(u.h,m))y=m.G,ki(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var F=u.D;T=Mr(),it(T,new xo(T,y)),mr(u)}else Dt(u);else if(F=m.m,F==3||F==0&&m.X>0||!(T==1&&al(u,m)||T==2&&$n(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),F){case 1:nn(u,5);break;case 4:nn(u,10);break;case 3:nn(u,6);break;default:nn(u,2)}}}function Rs(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function nn(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const F=!T;T=new bn(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pi(T,"https"),hr(T),F?Fn(T.toString(),y):jn(T.toString(),y)}else nt(2);u.I=0,u.l&&u.l.pa(m),Oi(u),xs(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Oi(u){if(u.I=0,u.ja=[],u.l){const m=Jt(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,D(u.i),u.i.length=0),u.l.oa()}}function zo(u,m,y){var T=y instanceof bn?dn(y):new bn(y);if(T.g!="")m&&(T.g=m+"."+T.g),Ln(T,T.u);else{var F=h.location;T=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;const $=new bn(null);T&&Pi($,T),m&&($.g=m),F&&Ln($,F),y&&($.h=y),T=$}return y=u.G,m=u.wa,y&&m&&Oe(T,y,m),Oe(T,"VER",u.ka),Bn(u,T),T}function ll(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Be(new fr({ab:y})):new Be(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ul(){}r=ul.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new xt(u,m)};function xt(u,m){lt.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wr(this)}E(xt,lt),xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){Ss(this.g)},xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Vr(u),u=y);m.i.push(new oc(m.Ya++,u)),m.I==3&&mr(m)},xt.prototype.N=function(){this.g.l=null,delete this.j,Ss(this.g),delete this.g,xt.Z.N.call(this)};function cl(u){ds.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}E(cl,ds);function hl(){So.call(this),this.status=1}E(hl,So);function Wr(u){this.g=u}E(Wr,ul),Wr.prototype.ra=function(){it(this.g,"a")},Wr.prototype.qa=function(u){it(this.g,new cl(u))},Wr.prototype.pa=function(u){it(this.g,new hl)},Wr.prototype.oa=function(){it(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,pv=function(){return new ks},dv=function(){return Mr()},fv=Tn,of={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,pu=jr,Ur.COMPLETE="complete",hv=Ur,Wa.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",lt.prototype.listen=lt.prototype.J,ga=Wa,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,cv=Be}).apply(typeof ou<"u"?ou:typeof self<"u"?self:typeof window<"u"?window:{});const dg="@firebase/firestore",pg="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Mf("@firebase/firestore");function Js(){return ns.logLevel}function se(r,...e){if(ns.logLevel<=Ve.DEBUG){const t=e.map(Hf);ns.debug(`Firestore (${mo}): ${r}`,...t)}}function kr(r,...e){if(ns.logLevel<=Ve.ERROR){const t=e.map(Hf);ns.error(`Firestore (${mo}): ${r}`,...t)}}function so(r,...e){if(ns.logLevel<=Ve.WARN){const t=e.map(Hf);ns.warn(`Firestore (${mo}): ${r}`,...t)}}function Hf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,mv(r,s,t)}function mv(r,e,t){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw kr(s),new Error(s)}function je(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||mv(e,a,s)}function Te(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ft.UNAUTHENTICATED)))}shutdown(){}}class qI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class WI{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hi,e.enqueueRetryable((()=>a(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},d=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hi)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new gv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class KI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ft.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,aT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const s=l=>{l.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=YI(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function af(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const a=r.charAt(s),l=e.charAt(s);if(a!==l)return Hh(a)===Hh(l)?ke(a,l):Hh(a)?1:-1}return ke(r.length,e.length)}const XI=55296,JI=57343;function Hh(r){const e=r.charCodeAt(0);return e>=XI&&e<=JI}function oo(r,e,t){return r.length===e.length&&r.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="__name__";class Xn{constructor(e,t,s){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ye(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Xn.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const s=Xn.isNumericId(e),a=Xn.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Xn.extractNumericId(e).compare(Xn.extractNumericId(t)):af(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class et extends Xn{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new et(t)}static emptyPath(){return new et([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Xn{construct(e,t,s){return new kt(e,t,s)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gg}static keyField(){return new kt([gg])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(s+=d,a++):(l(),a++)}if(l(),h)throw new he(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(t)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(r,e,t){if(!t)throw new he(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tS(r,e,t,s){if(e===!0&&s===!0)throw new he(Q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function yg(r){if(!me.isDocumentKey(r))throw new he(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function rs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wf(r);throw new he(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r,e){const t={typeString:r};return e&&(t.value=e),t}function Oa(r,e){if(!yv(r))throw new he(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(a&&typeof h!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new he(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-62135596800,_g=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*_g);return new Ge(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vg)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_g}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oa(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:ft("string",Ge._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ge(0,0))}static max(){return new we(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=-1;function nS(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new Ge(t+1,0):new Ge(t,s));return new di(a,me.empty(),e)}function rS(r){return new di(r.readTime,r.key,Ra)}class di{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new di(we.min(),me.empty(),Ra)}static max(){return new di(we.max(),me.empty(),Ra)}}function iS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==sS)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new W(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof W?t:W.resolve(t)}catch(t){return W.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):W.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):W.reject(t)}static resolve(e){return new W(((t,s)=>{t(e)}))}static reject(e){return new W(((t,s)=>{s(e)}))}static waitFor(e){return new W(((t,s)=>{let a=0,l=0,h=!1;e.forEach((d=>{++a,d.next((()=>{++l,h&&l===a&&t()}),(g=>s(g)))})),h=!0,l===a&&t()}))}static or(e){let t=W.resolve(!1);for(const s of e)t=t.next((a=>a?W.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new W(((s,a)=>{const l=e.length,h=new Array(l);let d=0;for(let g=0;g<l;g++){const v=g;t(e[v]).next((w=>{h[v]=w,++d,d===l&&s(h)}),(w=>a(w)))}}))}static doWhile(e,t){return new W(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function aS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$u.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=-1;function Hu(r){return r==null}function xu(r){return r===0&&1/r==-1/0}function lS(r){return typeof r=="number"&&Number.isInteger(r)&&!xu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="";function uS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=wg(e)),e=cS(r.get(t),e);return wg(e)}function cS(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case vv:t+="";break;default:t+=l}}return t}function wg(r){return r+vv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ei(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function _v(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t){this.comparator=e,this.root=t||Rt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new au(this.root,e,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new au(this.root,e,this.comparator,!0)}}class au{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=l??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Rt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new Rt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tg(this.data.getIterator())}getIteratorFrom(e){return new Tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new vt(this.comparator);return t.data=e,t}}class Tg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new ln([])}unionWith(e){let t=new vt(kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wv("Invalid base64 string: "+l):l}})(e);return new Pt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l})(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const hS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(r){if(je(!!r,39018),typeof r=="string"){let e=0;const t=hS.exec(r);if(je(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(r.seconds),nanos:at(r.nanos)}}function at(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function mi(r){return typeof r=="string"?Pt.fromBase64String(r):Pt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="server_timestamp",Tv="__type__",Iv="__previous_value__",Sv="__local_write_time__";function Gf(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Tv])==null?void 0:s.stringValue)===Ev}function qu(r){const e=r.mapValue.fields[Iv];return Gf(e)?qu(e):e}function ka(r){const e=pi(r.mapValue.fields[Sv].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t,s,a,l,h,d,g,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=w}}const Au="(default)";class Pa{constructor(e,t){this.projectId=e,this.database=t||Au}static empty(){return new Pa("","")}get isDefaultDatabase(){return this.database===Au}isEqual(e){return e instanceof Pa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__type__",dS="__max__",lu={mapValue:{}},Av="__vector__",Cu="value";function gi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gf(r)?4:mS(r)?9007199254740991:pS(r)?10:11:ye(28295,{value:r})}function sr(r,e){if(r===e)return!0;const t=gi(r);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ka(r).isEqual(ka(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=pi(a.timestampValue),d=pi(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return mi(a.bytesValue).isEqual(mi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return at(a.geoPointValue.latitude)===at(l.geoPointValue.latitude)&&at(a.geoPointValue.longitude)===at(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return at(a.integerValue)===at(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=at(a.doubleValue),d=at(l.doubleValue);return h===d?xu(h)===xu(d):isNaN(h)&&isNaN(d)}return!1})(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(a,l){const h=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Eg(h)!==Eg(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!sr(h[g],d[g])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Na(r,e){return(r.values||[]).find((t=>sr(t,e)))!==void 0}function ao(r,e){if(r===e)return 0;const t=gi(r),s=gi(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const d=at(l.integerValue||l.doubleValue),g=at(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(r,e);case 3:return Ig(r.timestampValue,e.timestampValue);case 4:return Ig(ka(r),ka(e));case 5:return af(r.stringValue,e.stringValue);case 6:return(function(l,h){const d=mi(l),g=mi(h);return d.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const d=l.split("/"),g=h.split("/");for(let v=0;v<d.length&&v<g.length;v++){const w=ke(d[v],g[v]);if(w!==0)return w}return ke(d.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const d=ke(at(l.latitude),at(h.latitude));return d!==0?d:ke(at(l.longitude),at(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Sg(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var I,D,H,q;const d=l.fields||{},g=h.fields||{},v=(I=d[Cu])==null?void 0:I.arrayValue,w=(D=g[Cu])==null?void 0:D.arrayValue,E=ke(((H=v==null?void 0:v.values)==null?void 0:H.length)||0,((q=w==null?void 0:w.values)==null?void 0:q.length)||0);return E!==0?E:Sg(v,w)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===lu.mapValue&&h===lu.mapValue)return 0;if(l===lu.mapValue)return 1;if(h===lu.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let E=0;E<g.length&&E<w.length;++E){const I=af(g[E],w[E]);if(I!==0)return I;const D=ao(d[g[E]],v[w[E]]);if(D!==0)return D}return ke(g.length,w.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function Ig(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=pi(r),s=pi(e),a=ke(t.seconds,s.seconds);return a!==0?a:ke(t.nanos,s.nanos)}function Sg(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=ao(t[a],s[a]);if(l)return l}return ke(t.length,s.length)}function lo(r){return lf(r)}function lf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=pi(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return mi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return me.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=lf(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const h of s)l?l=!1:a+=",",a+=`${h}:${lf(t.fields[h])}`;return a+"}"})(r.mapValue):ye(61005,{value:r})}function mu(r){switch(gi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qu(r);return e?16+mu(e):16;case 5:return 2*r.stringValue.length;case 6:return mi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+mu(l)),0)})(r.arrayValue);case 10:case 11:return(function(s){let a=0;return Ei(s.fields,((l,h)=>{a+=l.length+mu(h)})),a})(r.mapValue);default:throw ye(13486,{value:r})}}function uf(r){return!!r&&"integerValue"in r}function Qf(r){return!!r&&"arrayValue"in r}function xg(r){return!!r&&"nullValue"in r}function Ag(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gu(r){return!!r&&"mapValue"in r}function pS(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[xv])==null?void 0:s.stringValue)===Av}function Ea(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ei(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ea(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ea(r.arrayValue.values[t]);return e}return{...r}}function mS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!gu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(t)}setAll(e){let t=kt.emptyPath(),s={},a=[];e.forEach(((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,a),s={},a=[],t=d.popLast()}h?s[d.lastSegment()]=Ea(h):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());gu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];gu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ei(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Xt(Ea(this.value))}}function Cv(r){const e=[];return Ei(r.fields,((t,s)=>{const a=new kt([t]);if(gu(s)){const l=Cv(s.mapValue).fields;if(l.length===0)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)})),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t,s,a,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new jt(e,0,we.min(),we.min(),we.min(),Xt.empty(),0)}static newFoundDocument(e,t,s,a){return new jt(e,1,t,we.min(),s,a,0)}static newNoDocument(e,t){return new jt(e,2,t,we.min(),we.min(),Xt.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,we.min(),we.min(),Xt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.position=e,this.inclusive=t}}function Cg(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],h=r.position[a];if(l.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),t.key):s=ao(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!sr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function gS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{}class gt extends Rv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new vS(e,t,s):t==="array-contains"?new ES(e,s):t==="in"?new TS(e,s):t==="not-in"?new IS(e,s):t==="array-contains-any"?new SS(e,s):new gt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new _S(e,s):new wS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ao(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends Rv{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new or(e,t)}matches(e){return kv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kv(r){return r.op==="and"}function Pv(r){return yS(r)&&kv(r)}function yS(r){for(const e of r.filters)if(e instanceof or)return!1;return!0}function cf(r){if(r instanceof gt)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(Pv(r))return r.filters.map((e=>cf(e))).join(",");{const e=r.filters.map((t=>cf(t))).join(",");return`${r.op}(${e})`}}function Nv(r,e){return r instanceof gt?(function(s,a){return a instanceof gt&&s.op===a.op&&s.field.isEqual(a.field)&&sr(s.value,a.value)})(r,e):r instanceof or?(function(s,a){return a instanceof or&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,h,d)=>l&&Nv(h,a.filters[d])),!0):!1})(r,e):void ye(19439)}function Dv(r){return r instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${lo(t.value)}`})(r):r instanceof or?(function(t){return t.op.toString()+" {"+t.getFilters().map(Dv).join(" ,")+"}"})(r):"Filter"}class vS extends gt{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class _S extends gt{constructor(e,t){super(e,"in",t),this.keys=Vv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class wS extends gt{constructor(e,t){super(e,"not-in",t),this.keys=Vv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Vv(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>me.fromName(s.referenceValue)))}class ES extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qf(t)&&Na(t.arrayValue,this.value)}}class TS extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Na(this.value.arrayValue,t)}}class IS extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Na(this.value.arrayValue,t)}}class SS extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Na(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t=null,s=[],a=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=d,this.Te=null}}function kg(r,e=null,t=[],s=[],a=null,l=null,h=null){return new xS(r,e,t,s,a,l,h)}function Yf(r){const e=Te(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>cf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Hu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>lo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>lo(s))).join(",")),e.Te=t}return e.Te}function Xf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!gS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Nv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Rg(r.startAt,e.startAt)&&Rg(r.endAt,e.endAt)}function hf(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t=null,s=[],a=[],l=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AS(r,e,t,s,a,l,h,d){return new Wu(r,e,t,s,a,l,h,d)}function Jf(r){return new Wu(r)}function Pg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CS(r){return r.collectionGroup!==null}function Ta(r){const e=Te(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new vt(kt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(d=d.add(v.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ku(l,s))})),t.has(kt.keyField().canonicalString())||e.Ie.push(new ku(kt.keyField(),s))}return e.Ie}function Zn(r){const e=Te(r);return e.Ee||(e.Ee=RS(e,Ta(r))),e.Ee}function RS(r,e){if(r.limitType==="F")return kg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ku(a.field,l)}));const t=r.endAt?new Ru(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ru(r.startAt.position,r.startAt.inclusive):null;return kg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function ff(r,e,t){return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ku(r,e){return Xf(Zn(r),Zn(e))&&r.limitType===e.limitType}function bv(r){return`${Yf(Zn(r))}|lt:${r.limitType}`}function Zs(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>Dv(a))).join(", ")}]`),Hu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>lo(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>lo(a))).join(",")),`Target(${s})`})(Zn(r))}; limitType=${r.limitType})`}function Gu(r,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,a){for(const l of Ta(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(s,a){return!(s.startAt&&!(function(h,d,g){const v=Cg(h,d,g);return h.inclusive?v<=0:v<0})(s.startAt,Ta(s),a)||s.endAt&&!(function(h,d,g){const v=Cg(h,d,g);return h.inclusive?v>=0:v>0})(s.endAt,Ta(s),a))})(r,e)}function kS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Lv(r){return(e,t)=>{let s=!1;for(const a of Ta(r)){const l=PS(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function PS(r,e,t){const s=r.field.isKeyField()?me.comparator(e.key,t.key):(function(l,h,d){const g=h.data.field(l),v=d.data.field(l);return g!==null&&v!==null?ao(g,v):ye(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return _v(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new tt(me.comparator);function Pr(){return NS}const Mv=new tt(me.comparator);function ya(...r){let e=Mv;for(const t of r)e=e.insert(t.key,t);return e}function Ov(r){let e=Mv;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ji(){return Ia()}function Fv(){return Ia()}function Ia(){return new as((r=>r.toString()),((r,e)=>r.isEqual(e)))}const DS=new tt(me.comparator),VS=new vt(me.comparator);function Pe(...r){let e=VS;for(const t of r)e=e.add(t);return e}const bS=new vt(ke);function LS(){return bS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function jv(r){return{integerValue:""+r}}function MS(r,e){return lS(e)?jv(e):Zf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this._=void 0}}function OS(r,e,t){return r instanceof Pu?(function(a,l){const h={fields:{[Tv]:{stringValue:Ev},[Sv]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Gf(l)&&(l=qu(l)),l&&(h.fields[Iv]=l),{mapValue:h}})(t,e):r instanceof uo?zv(r,e):r instanceof Da?Bv(r,e):(function(a,l){const h=Uv(a,l),d=Ng(h)+Ng(a.Ae);return uf(h)&&uf(a.Ae)?jv(d):Zf(a.serializer,d)})(r,e)}function FS(r,e,t){return r instanceof uo?zv(r,e):r instanceof Da?Bv(r,e):t}function Uv(r,e){return r instanceof Nu?(function(s){return uf(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Pu extends Qu{}class uo extends Qu{constructor(e){super(),this.elements=e}}function zv(r,e){const t=$v(e);for(const s of r.elements)t.some((a=>sr(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Da extends Qu{constructor(e){super(),this.elements=e}}function Bv(r,e){let t=$v(e);for(const s of r.elements)t=t.filter((a=>!sr(a,s)));return{arrayValue:{values:t}}}class Nu extends Qu{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ng(r){return at(r.integerValue||r.doubleValue)}function $v(r){return Qf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t){this.field=e,this.transform=t}}function US(r,e){return r.field.isEqual(e.field)&&(function(s,a){return s instanceof uo&&a instanceof uo||s instanceof Da&&a instanceof Da?oo(s.elements,a.elements,sr):s instanceof Nu&&a instanceof Nu?sr(s.Ae,a.Ae):s instanceof Pu&&a instanceof Pu})(r.transform,e.transform)}class zS{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Yu{}function Hv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wv(r.key,er.none()):new Fa(r.key,r.data,er.none());{const t=r.data,s=Xt.empty();let a=new vt(kt.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),a=a.add(l)}return new Ti(r.key,s,new ln(a.toArray()),er.none())}}function BS(r,e,t){r instanceof Fa?(function(a,l,h){const d=a.value.clone(),g=Vg(a.fieldTransforms,l,h.transformResults);d.setAll(g),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ti?(function(a,l,h){if(!yu(a.precondition,l))return void l.convertToUnknownDocument(h.version);const d=Vg(a.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(qv(a)),g.setAll(d),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(a,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Sa(r,e,t,s){return r instanceof Fa?(function(l,h,d,g){if(!yu(l.precondition,h))return d;const v=l.value.clone(),w=bg(l.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(r,e,t,s):r instanceof Ti?(function(l,h,d,g){if(!yu(l.precondition,h))return d;const v=bg(l.fieldTransforms,g,h),w=h.data;return w.setAll(qv(l)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(r,e,t,s):(function(l,h,d){return yu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d})(r,e,t)}function $S(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=Uv(s.transform,a||null);l!=null&&(t===null&&(t=Xt.empty()),t.set(s.field,l))}return t||null}function Dg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&oo(s,a,((l,h)=>US(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fa extends Yu{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ti extends Yu{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function qv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Vg(r,e,t){const s=new Map;je(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],h=l.transform,d=e.data.field(l.field);s.set(l.field,FS(h,d,t[a]))}return s}function bg(r,e,t){const s=new Map;for(const a of r){const l=a.transform,h=t.data.field(a.field);s.set(a.field,OS(l,h,e))}return s}class Wv extends Yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends Yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&BS(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Sa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Sa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Fv();return this.mutations.forEach((a=>{const l=e.get(a.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(a.key)?null:d;const g=Hv(h,d);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((t,s)=>Dg(t,s)))&&oo(this.baseMutations,e.baseMutations,((t,s)=>Dg(t,s)))}}class ed{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return DS})();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new ed(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,De;function GS(r){switch(r){case Q.OK:return ye(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function Kv(r){if(r===void 0)return kr("GRPC error has no .code"),Q.UNKNOWN;switch(r){case ht.OK:return Q.OK;case ht.CANCELLED:return Q.CANCELLED;case ht.UNKNOWN:return Q.UNKNOWN;case ht.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ht.INTERNAL:return Q.INTERNAL;case ht.UNAVAILABLE:return Q.UNAVAILABLE;case ht.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ht.NOT_FOUND:return Q.NOT_FOUND;case ht.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ht.ABORTED:return Q.ABORTED;case ht.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ht.DATA_LOSS:return Q.DATA_LOSS;default:return ye(39323,{code:r})}}(De=ht||(ht={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new ci([4294967295,4294967295],0);function Lg(r){const e=QS().encode(r),t=new uv;return t.update(e),new Uint8Array(t.digest())}function Mg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ci([t,s],0),new ci([a,l],0)]}class td{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new va(`Invalid padding: ${t}`);if(s<0)throw new va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new va(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ci.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(ci.fromNumber(s)));return a.compare(YS)===1&&(a=new ci([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Lg(e),[s,a]=Mg(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,a,l);if(!this.we(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new td(l,a,t);return s.forEach((d=>h.insert(d))),h}insert(e){if(this.ge===0)return;const t=Lg(e),[s,a]=Mg(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,a,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,ja.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Xu(we.min(),a,new tt(ke),Pr(),Pe())}}class ja{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ja(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class Gv{constructor(e,t){this.targetId=e,this.Ce=t}}class Qv{constructor(e,t,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Og{constructor(){this.ve=0,this.Fe=Fg(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),t=Pe(),s=Pe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ye(38017,{changeType:l})}})),new ja(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Fg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class XS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pr(),this.Je=uu(),this.He=uu(),this.Ye=new tt(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(hf(l))if(s===0){const h=new me(l.path);this.et(t,h,jt.newNoDocument(h,we.min()))}else je(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const d=this.ut(e),g=d?this.ct(d,e,h):1;if(g!==0){this.it(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let h,d;try{h=mi(s).toUint8Array()}catch(g){if(g instanceof wv)return so("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new td(h,a,l)}catch(g){return so(g instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const h=this.Ge.ht(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const d=this.ot(h);if(d){if(l.current&&hf(d.target)){const g=new me(d.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,jt.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let s=Pe();this.He.forEach(((l,h)=>{let d=!0;h.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const a=new Xu(e,t,this.Ye,this.je,s);return this.je=Pr(),this.Je=uu(),this.He=uu(),this.Ye=new tt(ke),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Og,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new vt(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new vt(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Og),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function uu(){return new tt(me.comparator)}function Fg(){return new tt(me.comparator)}const JS={asc:"ASCENDING",desc:"DESCENDING"},ZS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ex={and:"AND",or:"OR"};class tx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function df(r,e){return r.useProto3Json||Hu(e)?e:{value:e}}function Du(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nx(r,e){return Du(r,e.toTimestamp())}function tr(r){return je(!!r,49232),we.fromTimestamp((function(t){const s=pi(t);return new Ge(s.seconds,s.nanos)})(r))}function nd(r,e){return pf(r,e).canonicalString()}function pf(r,e){const t=(function(a){return new et(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Xv(r){const e=et.fromString(r);return je(n_(e),10190,{key:e.toString()}),e}function mf(r,e){return nd(r.databaseId,e.path)}function qh(r,e){const t=Xv(e);if(t.get(1)!==r.databaseId.projectId)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new me(Zv(t))}function Jv(r,e){return nd(r.databaseId,e)}function rx(r){const e=Xv(r);return e.length===4?et.emptyPath():Zv(e)}function gf(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zv(r){return je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jg(r,e,t){return{name:mf(r,e),fields:t.value.mapValue.fields}}function ix(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ye(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(je(w===void 0||typeof w=="string",58123),Pt.fromBase64String(w||"")):(je(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Pt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&(function(v){const w=v.code===void 0?Q.UNKNOWN:Kv(v.code);return new he(w,v.message||"")})(h);t=new Qv(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=qh(r,s.document.name),l=tr(s.document.updateTime),h=s.document.createTime?tr(s.document.createTime):we.min(),d=new Xt({mapValue:{fields:s.document.fields}}),g=jt.newFoundDocument(a,l,h,d),v=s.targetIds||[],w=s.removedTargetIds||[];t=new vu(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=qh(r,s.document),l=s.readTime?tr(s.readTime):we.min(),h=jt.newNoDocument(a,l),d=s.removedTargetIds||[];t=new vu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=qh(r,s.document),l=s.removedTargetIds||[];t=new vu([],l,a,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,h=new KS(a,l),d=s.targetId;t=new Gv(d,h)}}return t}function sx(r,e){let t;if(e instanceof Fa)t={update:jg(r,e.key,e.value)};else if(e instanceof Wv)t={delete:mf(r,e.key)};else if(e instanceof Ti)t={update:jg(r,e.key,e.data),updateMask:px(e.fieldMask)};else{if(!(e instanceof HS))return ye(16599,{Vt:e.type});t={verify:mf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const d=h.transform;if(d instanceof Pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Da)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nu)return{fieldPath:h.field.canonicalString(),increment:d.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:nx(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ye(27497)})(r,e.precondition)),t}function ox(r,e){return r&&r.length>0?(je(e!==void 0,14353),r.map((t=>(function(a,l){let h=a.updateTime?tr(a.updateTime):tr(l);return h.isEqual(we.min())&&(h=tr(l)),new zS(h,a.transformResults||[])})(t,e)))):[]}function ax(r,e){return{documents:[Jv(r,e.path)]}}function lx(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Jv(r,a);const l=(function(v){if(v.length!==0)return t_(or.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:eo(I.field),direction:hx(I.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=df(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:a}}function ux(r){let e=rx(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){je(s===1,65062);const w=t.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(E){const I=e_(E);return I instanceof or&&Pv(I)?I.getFilters():[I]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((I=>(function(H){return new ku(to(H.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let I;return I=typeof E=="object"?E.value:E,Hu(I)?null:I})(t.limit));let g=null;t.startAt&&(g=(function(E){const I=!!E.before,D=E.values||[];return new Ru(D,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const I=!E.before,D=E.values||[];return new Ru(D,I)})(t.endAt)),AS(e,a,h,l,d,"F",g,v)}function cx(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function e_(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=to(t.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=to(t.unaryFilter.field);return gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=to(t.unaryFilter.field);return gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=to(t.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(t){return gt.create(to(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return or.create(t.compositeFilter.filters.map((s=>e_(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(r):ye(30097,{filter:r})}function hx(r){return JS[r]}function fx(r){return ZS[r]}function dx(r){return ex[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return kt.fromServerFormat(r.fieldPath)}function t_(r){return r instanceof gt?(function(t){if(t.op==="=="){if(Ag(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NAN"}};if(xg(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ag(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NOT_NAN"}};if(xg(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(t.field),op:fx(t.op),value:t.value}}})(r):r instanceof or?(function(t){const s=t.getFilters().map((a=>t_(a)));return s.length===1?s[0]:{compositeFilter:{op:dx(t.op),filters:s}}})(r):ye(54877,{filter:r})}function px(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function n_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,t,s,a,l=we.min(),h=we.min(),d=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.yt=e}}function gx(r){const e=ux({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.Cn=new vx}addToCollectionParentIndex(e,t){return this.Cn.add(t),W.resolve()}getCollectionParents(e,t){return W.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return W.resolve()}deleteFieldIndex(e,t){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,t){return W.resolve()}getDocumentsMatchingTarget(e,t){return W.resolve(null)}getIndexType(e,t){return W.resolve(0)}getFieldIndexes(e,t){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,t){return W.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return W.resolve(di.min())}updateCollectionGroup(e,t,s){return W.resolve()}updateIndexEntries(e,t){return W.resolve()}}class vx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new vt(et.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new vt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r_=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(r_,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LruGarbageCollector",_x=1048576;function Bg([r,e],[t,s]){const a=ke(r,t);return a===0?ke(e,s):a}class wx{constructor(e){this.Ir=e,this.buffer=new vt(Bg),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Bg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ex{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(zg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yo(t)?se(zg,"Ignoring IndexedDB error during garbage collection: ",t):await go(t)}await this.Vr(3e5)}))}}class Tx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return W.resolve($u.ce);const s=new wx(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Ug)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ug):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,h,d,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,h=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(s=E,d=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),Js()<=Ve.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(d-h)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${E} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function Ix(r,e){return new Tx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.changes=new as((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?W.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Sa(s.mutation,a,ln.empty(),Ge.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Pe()){const a=Ji();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let h=ya();return l.forEach(((d,g)=>{h=h.insert(d,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=Ji();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Pe())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((h,d)=>{t.set(h,d)}))}))}computeViews(e,t,s,a){let l=Pr();const h=Ia(),d=(function(){return Ia()})();return t.forEach(((g,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof Ti)?l=l.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Sa(w.mutation,v,w.mutation.getFieldMask(),Ge.now())):h.set(v.key,ln.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>d.set(v,new xx(w,h.get(v)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=Ia();let a=new tt(((h,d)=>h-d)),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const d of h)d.keys().forEach((g=>{const v=t.get(g);if(v===null)return;let w=s.get(g)||ln.empty();w=d.applyToLocalView(v,w),s.set(g,w);const E=(a.get(d.batchId)||Pe()).add(g);a=a.insert(d.batchId,E)}))})).next((()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),v=g.key,w=g.value,E=Fv();w.forEach((I=>{if(!l.has(I)){const D=Hv(t.get(I),s.get(I));D!==null&&E.set(I,D),l=l.add(I)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,E))}return W.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):W.resolve(Ji());let d=Ra,g=l;return h.next((v=>W.forEach(v,((w,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{g=g.insert(w,I)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,g,v,Pe()))).next((w=>({batchId:d,changes:Ov(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((s=>{let a=ya();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let h=ya();return this.indexManager.getCollectionParents(e,l).next((d=>W.forEach(d,(g=>{const v=(function(E,I){return new Wu(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next((w=>{w.forEach(((E,I)=>{h=h.insert(E,I)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((h=>{l.forEach(((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,jt.newInvalidDocument(w)))}));let d=ya();return h.forEach(((g,v)=>{const w=l.get(g);w!==void 0&&Sa(w.mutation,v,ln.empty(),Ge.now()),Gu(t,v)&&(d=d.insert(g,v))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return W.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:tr(a.createTime)}})(t)),W.resolve()}getNamedQuery(e,t){return W.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:gx(a.bundledQuery),readTime:tr(a.readTime)}})(t)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.overlays=new tt(me.comparator),this.qr=new Map}getOverlay(e,t){return W.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ji();return W.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.St(e,t,l)})),W.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,t,s){const a=Ji(),l=t.length+1,h=new me(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&g.largestBatchId>s&&a.set(g.getKey(),g)}return W.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new tt(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=Ji(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const d=Ji(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,w)=>d.set(v,w))),!(d.size()>=a)););return W.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new WS(t,s));let l=this.qr.get(t);l===void 0&&(l=Pe(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.Qr=new vt(It.$r),this.Ur=new vt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new It(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new It(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new me(new et([])),s=new It(t,e),a=new It(t,e+1),l=[];return this.Ur.forEachInRange([s,a],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new et([])),s=new It(t,e),a=new It(t,e+1);let l=Pe();return this.Ur.forEachInRange([s,a],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new It(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new vt(It.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qS(l,t,s,a);this.mutationQueue.push(h);for(const d of a)this.Zr=this.Zr.add(new It(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,t){return W.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return W.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Kf:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new It(t,0),a=new It(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(h=>{const d=this.Xr(h.Yr);l.push(d)})),W.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new vt(ke);return t.forEach((a=>{const l=new It(a,0),h=new It(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(d=>{s=s.add(d.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;me.isDocumentKey(l)||(l=l.child(""));const h=new It(new me(l),0);let d=new vt(ke);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(d=d.add(g.Yr)),!0)}),h),W.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(t.mutations,(a=>{const l=new It(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new It(t,0),a=this.Zr.firstAfterOrEqual(s);return W.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.ri=e,this.docs=(function(){return new tt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return W.resolve(s?s.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let s=Pr();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():jt.newInvalidDocument(a))})),W.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Pr();const h=t.path,d=new me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||iS(rS(w),s)<=0||(a.has(w.key)||Gu(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return W.resolve(l)}getAllFromCollectionGroup(e,t,s,a){ye(9500)}ii(e,t){return W.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Dx(this)}getSize(e){return W.resolve(this.size)}}class Dx extends Sx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),W.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.persistence=e,this.si=new as((t=>Yf(t)),Xf),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new rd,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),W.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new co(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,W.resolve()}updateTargetData(e,t){return this.Pr(t),W.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach(((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),W.waitFor(l).next((()=>a))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return W.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),W.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((h=>{l.push(a.markPotentiallyOrphaned(e,h))})),W.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),W.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return W.resolve(s)}containsKey(e,t){return W.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t){this.ui={},this.overlays={},this.ci=new $u(0),this.li=!1,this.li=!0,this.hi=new kx,this.referenceDelegate=e(this),this.Pi=new Vx(this),this.indexManager=new yx,this.remoteDocumentCache=(function(a){return new Nx(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new mx(t),this.Ii=new Cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new Px(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){se("MemoryPersistence","Starting transaction:",e);const a=new bx(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class bx extends oS{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.Ri=new rd,this.Vi=null}static mi(e){return new id(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),W.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),W.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const a=me.fromPath(s);return this.gi(e,a).next((l=>{l||t.removeEntry(a,we.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return W.or([()=>W.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Vu{constructor(e,t){this.persistence=e,this.pi=new as((s=>uS(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Ix(this,t)}static mi(e,t){return new Vu(e,t)}Ei(){}di(e){return W.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return W.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?W.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(h=>this.br(e,h,t).next((d=>{d||(s++,l.removeEntry(h,we.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),W.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mu(e.data.value)),t}br(e,t,s){return W.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Pe(),a=Pe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new sd(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return r1()?8:aS(e1())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,a,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new Lx;return this.Ss(e,t,h).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,h,d.size)}))})).next((()=>l.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(Js()<=Ve.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Zs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Js()<=Ve.DEBUG&&se("QueryEngine","Query:",Zs(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Js()<=Ve.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Zs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):W.resolve())}ys(e,t){if(Pg(t))return W.resolve(null);let s=Zn(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=ff(t,null,"F"),s=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=Pe(...l);return this.ps.getDocuments(e,h).next((d=>this.indexManager.getMinOffset(e,s).next((g=>{const v=this.Ds(t,d);return this.Cs(t,v,h,g.readTime)?this.ys(e,ff(t,null,"F")):this.vs(e,v,t,g)}))))})))))}ws(e,t,s,a){return Pg(t)||a.isEqual(we.min())?W.resolve(null):this.ps.getDocuments(e,s).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,s,a)?W.resolve(null):(Js()<=Ve.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zs(t)),this.vs(e,h,t,nS(a,Ra)).next((d=>d)))}))}Ds(e,t){let s=new vt(Lv(e));return t.forEach(((a,l)=>{Gu(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Js()<=Ve.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Zs(t)),this.ps.getDocumentsMatchingQuery(e,t,di.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="LocalStore",Ox=3e8;class Fx{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new tt(ke),this.xs=new as((l=>Yf(l)),Xf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ax(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function jx(r,e,t,s){return new Fx(r,e,t,s)}async function s_(r,e){const t=Te(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],d=[];let g=Pe();for(const v of a){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of l){d.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((v=>({Ls:v,removedBatchIds:h,addedBatchIds:d})))}))}))}function Ux(r,e){const t=Te(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,g,v,w){const E=v.batch,I=E.keys();let D=W.resolve();return I.forEach((H=>{D=D.next((()=>w.getEntry(g,H))).next((q=>{const U=v.docVersions.get(H);je(U!==null,48541),q.version.compareTo(U)<0&&(E.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),w.addEntry(q)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(g,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let g=Pe();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(g=g.add(d.batch.mutations[v].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function o_(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function zx(r,e){const t=Te(r),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((w,E)=>{const I=a.get(E);if(!I)return;d.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,E))));let D=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?D=D.withResumeToken(Pt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):w.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(w.resumeToken,s)),a=a.insert(E,D),(function(q,U,ee){return q.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=Ox?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(I,D,w)&&d.push(t.Pi.updateTargetData(l,D))}));let g=Pr(),v=Pe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),d.push(Bx(l,h,e.documentUpdates).next((w=>{g=w.ks,v=w.qs}))),!s.isEqual(we.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(w)}return W.waitFor(d).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,v))).next((()=>g))})).then((l=>(t.Ms=a,l)))}function Bx(r,e,t){let s=Pe(),a=Pe();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let h=Pr();return t.forEach(((d,g)=>{const v=l.get(d);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):se(od,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)})),{ks:h,qs:a}}))}function $x(r,e){const t=Te(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Kf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Hx(r,e){const t=Te(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((l=>l?(a=l,W.resolve(a)):t.Pi.allocateTargetId(s).next((h=>(a=new ai(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function yf(r,e,t){const s=Te(r),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!yo(h))throw h;se(od,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function $g(r,e,t){const s=Te(r);let a=we.min(),l=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,v,w){const E=Te(g),I=E.xs.get(w);return I!==void 0?W.resolve(E.Ms.get(I)):E.Pi.getTargetData(v,w)})(s,h,Zn(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,d.targetId).next((g=>{l=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?a:we.min(),t?l:Pe()))).next((d=>(qx(s,kS(e),d),{documents:d,Qs:l})))))}function qx(r,e,t){let s=r.Os.get(e)||we.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.Os.set(e,s)}class Hg{constructor(){this.activeTargetIds=LS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wx{constructor(){this.Mo=new Hg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="ConnectivityMonitor";class Wg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(qg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(qg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=null;function vf(){return cu===null?cu=(function(){return 268435456+Math.round(2147483648*Math.random())})():cu++,"0x"+cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="RestConnection",Gx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Au?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const h=vf(),d=this.zo(e,t.toUriEncodedString());se(Wh,`Sending RPC '${e}' ${h}:`,d,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,l);const{host:v}=new URL(d),w=Lf(v);return this.Jo(e,d,g,s,w).then((E=>(se(Wh,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw so(Wh,`RPC '${e}' ${h} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(e,t,s,a,l,h){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const s=Gx[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class Xx extends Qx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const h=vf();return new Promise(((d,g)=>{const v=new cv;v.setWithCredentials(!0),v.listenOnce(hv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case pu.NO_ERROR:const E=v.getResponseJson();se(Ot,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),d(E);break;case pu.TIMEOUT:se(Ot,`RPC '${e}' ${h} timed out`),g(new he(Q.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:const I=v.getStatus();if(se(Ot,`RPC '${e}' ${h} failed with status:`,I,"response text:",v.getResponseText()),I>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const H=D==null?void 0:D.error;if(H&&H.status&&H.message){const q=(function(ee){const re=ee.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(re)>=0?re:Q.UNKNOWN})(H.status);g(new he(q,H.message))}else g(new he(Q.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new he(Q.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{se(Ot,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(a);se(Ot,`RPC '${e}' ${h} sending request:`,a),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const a=vf(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=pv(),d=dv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=l.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const E=h.createWebChannel(w,g);this.I_(E);let I=!1,D=!1;const H=new Yx({Yo:U=>{D?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(I||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),E.open(),I=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,U),E.send(U))},Zo:()=>E.close()}),q=(U,ee,re)=>{U.listen(ee,(J=>{try{re(J)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return q(E,ga.EventType.OPEN,(()=>{D||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),H.o_())})),q(E,ga.EventType.CLOSE,(()=>{D||(D=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),H.a_(),this.E_(E))})),q(E,ga.EventType.ERROR,(U=>{D||(D=!0,so(Ot,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),H.a_(new he(Q.UNAVAILABLE,"The operation could not be completed")))})),q(E,ga.EventType.MESSAGE,(U=>{var ee;if(!D){const re=U.data[0];je(!!re,16349);const J=re,ge=(J==null?void 0:J.error)||((ee=J[0])==null?void 0:ee.error);if(ge){se(Ot,`RPC '${e}' stream ${a} received error:`,ge);const xe=ge.status;let _e=(function(R){const V=ht[R];if(V!==void 0)return Kv(V)})(xe),P=ge.message;_e===void 0&&(_e=Q.INTERNAL,P="Unknown error status: "+xe+" with message "+ge.message),D=!0,H.a_(new he(_e,P)),E.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,re),H.u_(re)}})),q(d,fv.STAT_EVENT,(U=>{U.stat===of.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===of.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(r){return new tx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="PersistentStream";class l_{constructor(e,t,s,a,l,h,d,g){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new he(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(Kg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(se(Kg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jx extends l_{constructor(e,t,s,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ix(this.serializer,e),s=(function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?tr(h.readTime):we.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=gf(this.serializer),t.addTarget=(function(l,h){let d;const g=h.target;if(d=hf(g)?{documents:ax(l,g)}:{query:lx(l,g).ft},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Yv(l,h.resumeToken);const v=df(l,h.expectedCount);v!==null&&(d.expectedCount=v)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=Du(l,h.snapshotVersion.toTimestamp());const v=df(l,h.expectedCount);v!==null&&(d.expectedCount=v)}return d})(this.serializer,e);const s=cx(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=gf(this.serializer),t.removeTarget=e,this.q_(t)}}class Zx extends l_{constructor(e,t,s,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ox(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=gf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>sx(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{}class tA extends eA{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,pf(t,s),a,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Q.UNKNOWN,l.toString())}))}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Ho(e,pf(t,s),a,h,d,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(Q.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(t),this.aa=!1):se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="RemoteStore";class rA{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ls(this)&&(se(is,"Restarting streams for network reachability change."),await(async function(g){const v=Te(g);v.Ea.add(4),await Ua(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Zu(v)})(this))}))})),this.Ra=new nA(s,a)}}async function Zu(r){if(ls(r))for(const e of r.da)await e(!0)}async function Ua(r){for(const e of r.da)await e(!1)}function u_(r,e){const t=Te(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),cd(t)?ud(t):vo(t).O_()&&ld(t,e))}function ad(r,e){const t=Te(r),s=vo(t);t.Ia.delete(e),s.O_()&&c_(t,e),t.Ia.size===0&&(s.O_()?s.L_():ls(t)&&t.Ra.set("Unknown"))}function ld(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vo(r).Y_(e)}function c_(r,e){r.Va.Ue(e),vo(r).Z_(e)}function ud(r){r.Va=new XS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function cd(r){return ls(r)&&!vo(r).x_()&&r.Ia.size>0}function ls(r){return Te(r).Ea.size===0}function h_(r){r.Va=void 0}async function iA(r){r.Ra.set("Online")}async function sA(r){r.Ia.forEach(((e,t)=>{ld(r,e)}))}async function oA(r,e){h_(r),cd(r)?(r.Ra.ha(e),ud(r)):r.Ra.set("Unknown")}async function aA(r,e,t){if(r.Ra.set("Online"),e instanceof Qv&&e.state===2&&e.cause)try{await(async function(a,l){const h=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(s){se(is,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bu(r,s)}else if(e instanceof vu?r.Va.Ze(e):e instanceof Gv?r.Va.st(e):r.Va.tt(e),!t.isEqual(we.min()))try{const s=await o_(r.localStore);t.compareTo(s)>=0&&await(function(l,h){const d=l.Va.Tt(h);return d.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(g.resumeToken,h))}})),d.targetMismatches.forEach(((g,v)=>{const w=l.Ia.get(g);if(!w)return;l.Ia.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),c_(l,g);const E=new ai(w.target,g,v,w.sequenceNumber);ld(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(s){se(is,"Failed to raise snapshot:",s),await bu(r,s)}}async function bu(r,e,t){if(!yo(e))throw e;r.Ea.add(1),await Ua(r),r.Ra.set("Offline"),t||(t=()=>o_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(is,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Zu(r)}))}function f_(r,e){return e().catch((t=>bu(r,t,e)))}async function ec(r){const e=Te(r),t=yi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kf;for(;lA(e);)try{const a=await $x(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,uA(e,a)}catch(a){await bu(e,a)}d_(e)&&p_(e)}function lA(r){return ls(r)&&r.Ta.length<10}function uA(r,e){r.Ta.push(e);const t=yi(r);t.O_()&&t.X_&&t.ea(e.mutations)}function d_(r){return ls(r)&&!yi(r).x_()&&r.Ta.length>0}function p_(r){yi(r).start()}async function cA(r){yi(r).ra()}async function hA(r){const e=yi(r);for(const t of r.Ta)e.ea(t.mutations)}async function fA(r,e,t){const s=r.Ta.shift(),a=ed.from(s,e,t);await f_(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await ec(r)}async function dA(r,e){e&&yi(r).X_&&await(async function(s,a){if((function(h){return GS(h)&&h!==Q.ABORTED})(a.code)){const l=s.Ta.shift();yi(s).B_(),await f_(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await ec(s)}})(r,e),d_(r)&&p_(r)}async function Gg(r,e){const t=Te(r);t.asyncQueue.verifyOperationInProgress(),se(is,"RemoteStore received new credentials");const s=ls(t);t.Ea.add(3),await Ua(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zu(t)}async function pA(r,e){const t=Te(r);e?(t.Ea.delete(2),await Zu(t)):e||(t.Ea.add(2),await Ua(t),t.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(t,s,a){const l=Te(t);return l.sa(),new Jx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:iA.bind(null,r),t_:sA.bind(null,r),r_:oA.bind(null,r),H_:aA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),cd(r)?ud(r):r.Ra.set("Unknown")):(await r.ma.stop(),h_(r))}))),r.ma}function yi(r){return r.fa||(r.fa=(function(t,s,a){const l=Te(t);return l.sa(),new Zx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cA.bind(null,r),r_:dA.bind(null,r),ta:hA.bind(null,r),na:fA.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ec(r)):(await r.fa.stop(),r.Ta.length>0&&(se(is,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const h=Date.now()+s,d=new hd(e,t,h,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(r,e){if(kr("AsyncQueue",`${e}: ${r}`),yo(r))return new he(Q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=ya(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.ga=new tt(me.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ho{constructor(e,t,s,a,l,h,d,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,a,l){const h=[];return t.forEach((d=>{h.push({type:0,doc:d})})),new ho(e,t,ro.emptySet(t),h,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gA{constructor(){this.queries=Yg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Te(t),l=a.queries;a.queries=Yg(),l.forEach(((h,d)=>{for(const g of d.Sa)g.onError(s)}))})(this,new he(Q.ABORTED,"Firestore shutting down"))}}function Yg(){return new as((r=>bv(r)),Ku)}async function yA(r,e){const t=Te(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new mA,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const d=fd(h,`Initialization of query '${Zs(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&dd(t)}async function vA(r,e){const t=Te(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function _A(r,e){const t=Te(r);let s=!1;for(const a of e){const l=a.query,h=t.queries.get(l);if(h){for(const d of h.Sa)d.Fa(a)&&(s=!0);h.wa=a}}s&&dd(t)}function wA(r,e,t){const s=Te(r),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function dd(r){r.Ca.forEach((e=>{e.next()}))}var _f,Xg;(Xg=_f||(_f={})).Ma="default",Xg.Cache="cache";class EA{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.key=e}}class g_{constructor(e){this.key=e}}class TA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=Lv(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Qg,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((w,E)=>{const I=a.get(w),D=Gu(this.query,E)?E:null,H=!!I&&this.mutatedKeys.has(I.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;I&&D?I.data.isEqual(D.data)?H!==q&&(s.track({type:3,doc:D}),U=!0):this.su(I,D)||(s.track({type:2,doc:D}),U=!0,(g&&this.eu(D,g)>0||v&&this.eu(D,v)<0)&&(d=!0)):!I&&D?(s.track({type:0,doc:D}),U=!0):I&&!D&&(s.track({type:1,doc:I}),U=!0,(g||v)&&(d=!0)),U&&(D?(h=h.add(D),l=q?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{tu:h,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,E)=>(function(D,H){const q=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:U})}};return q(D)-q(H)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),a=a??!1;const d=t&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,v=g!==this.Za;return this.Za=g,h.length!==0||v?{snapshot:new ho(this.query,e.tu,l,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new g_(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new m_(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Pe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pd="SyncEngine";class IA{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class SA{constructor(e){this.key=e,this.hu=!1}}class xA{constructor(e,t,s,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new as((d=>bv(d)),Ku),this.Iu=new Map,this.Eu=new Set,this.du=new tt(me.comparator),this.Au=new Map,this.Ru=new rd,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AA(r,e,t=!0){const s=T_(r);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await y_(s,e,t,!0),a}async function CA(r,e){const t=T_(r);await y_(t,e,!0,!1)}async function y_(r,e,t,s){const a=await Hx(r.localStore,Zn(e)),l=a.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await RA(r,e,l,h==="current",a.resumeToken)),r.isPrimaryClient&&t&&u_(r.remoteStore,a),d}async function RA(r,e,t,s,a){r.pu=(E,I,D)=>(async function(q,U,ee,re){let J=U.view.ru(ee);J.Cs&&(J=await $g(q.localStore,U.query,!1).then((({documents:P})=>U.view.ru(P,J))));const ge=re&&re.targetChanges.get(U.targetId),xe=re&&re.targetMismatches.get(U.targetId)!=null,_e=U.view.applyChanges(J,q.isPrimaryClient,ge,xe);return Zg(q,U.targetId,_e.au),_e.snapshot})(r,E,I,D);const l=await $g(r.localStore,e,!0),h=new TA(e,l.Qs),d=h.ru(l.documents),g=ja.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),v=h.applyChanges(d,r.isPrimaryClient,g);Zg(r,t,v.au);const w=new IA(e,t,h);return r.Tu.set(e,w),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),v.snapshot}async function kA(r,e,t){const s=Te(r),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((h=>!Ku(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await yf(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&ad(s.remoteStore,a.targetId),wf(s,a.targetId)})).catch(go)):(wf(s,a.targetId),await yf(s.localStore,a.targetId,!0))}async function PA(r,e){const t=Te(r),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ad(t.remoteStore,s.targetId))}async function NA(r,e,t){const s=FA(r);try{const a=await(function(h,d){const g=Te(h),v=Ge.now(),w=d.reduce(((D,H)=>D.add(H.key)),Pe());let E,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let H=Pr(),q=Pe();return g.Ns.getEntries(D,w).next((U=>{H=U,H.forEach(((ee,re)=>{re.isValidDocument()||(q=q.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,H))).next((U=>{E=U;const ee=[];for(const re of d){const J=$S(re,E.get(re.key).overlayedDocument);J!=null&&ee.push(new Ti(re.key,J,Cv(J.value.mapValue),er.exists(!0)))}return g.mutationQueue.addMutationBatch(D,v,ee,d)})).next((U=>{I=U;const ee=U.applyToLocalDocumentSet(E,q);return g.documentOverlayCache.saveOverlays(D,U.batchId,ee)}))})).then((()=>({batchId:I.batchId,changes:Ov(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(h,d,g){let v=h.Vu[h.currentUser.toKey()];v||(v=new tt(ke)),v=v.insert(d,g),h.Vu[h.currentUser.toKey()]=v})(s,a.batchId,t),await za(s,a.changes),await ec(s.remoteStore)}catch(a){const l=fd(a,"Failed to persist write");t.reject(l)}}async function v_(r,e){const t=Te(r);try{const s=await zx(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const h=t.Au.get(l);h&&(je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.hu=!0:a.modifiedDocuments.size>0?je(h.hu,14607):a.removedDocuments.size>0&&(je(h.hu,42227),h.hu=!1))})),await za(t,s,e)}catch(s){await go(s)}}function Jg(r,e,t){const s=Te(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,h)=>{const d=h.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(h,d){const g=Te(h);g.onlineState=d;let v=!1;g.queries.forEach(((w,E)=>{for(const I of E.Sa)I.va(d)&&(v=!0)})),v&&dd(g)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function DA(r,e,t){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let h=new tt(me.comparator);h=h.insert(l,jt.newNoDocument(l,we.min()));const d=Pe().add(l),g=new Xu(we.min(),new Map,new tt(ke),h,d);await v_(s,g),s.du=s.du.remove(l),s.Au.delete(e),md(s)}else await yf(s.localStore,e,!1).then((()=>wf(s,e,t))).catch(go)}async function VA(r,e){const t=Te(r),s=e.batch.batchId;try{const a=await Ux(t.localStore,e);w_(t,s,null),__(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await za(t,a)}catch(a){await go(a)}}async function bA(r,e,t){const s=Te(r);try{const a=await(function(h,d){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return g.mutationQueue.lookupMutationBatch(v,d).next((E=>(je(E!==null,37113),w=E.keys(),g.mutationQueue.removeMutationBatch(v,E)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>g.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);w_(s,e,t),__(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await za(s,a)}catch(a){await go(a)}}function __(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function w_(r,e,t){const s=Te(r);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function wf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||E_(r,s)}))}function E_(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(ad(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),md(r))}function Zg(r,e,t){for(const s of t)s instanceof m_?(r.Ru.addReference(s.key,e),LA(r,s)):s instanceof g_?(se(pd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||E_(r,s.key)):ye(19791,{wu:s})}function LA(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(se(pd,"New document in limbo: "+t),r.Eu.add(s),md(r))}function md(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new me(et.fromString(e)),s=r.fu.next();r.Au.set(s,new SA(t)),r.du=r.du.insert(t,s),u_(r.remoteStore,new ai(Zn(Jf(t.path)),s,"TargetPurposeLimboResolution",$u.ce))}}async function za(r,e,t){const s=Te(r),a=[],l=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,g)=>{h.push(s.pu(g,e,t).then((v=>{var w;if((v||t)&&s.isPrimaryClient){const E=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(v){a.push(v);const E=sd.As(g.targetId,v);l.push(E)}})))})),await Promise.all(h),s.Pu.H_(a),await(async function(g,v){const w=Te(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>W.forEach(v,(I=>W.forEach(I.Es,(D=>w.persistence.referenceDelegate.addReference(E,I.targetId,D))).next((()=>W.forEach(I.ds,(D=>w.persistence.referenceDelegate.removeReference(E,I.targetId,D)))))))))}catch(E){if(!yo(E))throw E;se(od,"Failed to update sequence numbers: "+E)}for(const E of v){const I=E.targetId;if(!E.fromCache){const D=w.Ms.get(I),H=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(H);w.Ms=w.Ms.insert(I,q)}}})(s.localStore,l))}async function MA(r,e){const t=Te(r);if(!t.currentUser.isEqual(e)){se(pd,"User change. New user:",e.toKey());const s=await s_(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new he(Q.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await za(t,s.Ls)}}function OA(r,e){const t=Te(r),s=t.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let a=Pe();const l=t.Iu.get(e);if(!l)return a;for(const h of l){const d=t.Tu.get(h);a=a.unionWith(d.view.nu)}return a}}function T_(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=v_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DA.bind(null,e),e.Pu.H_=_A.bind(null,e.eventManager),e.Pu.yu=wA.bind(null,e.eventManager),e}function FA(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bA.bind(null,e),e}class Lu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jx(this.persistence,new Mx,e.initialUser,this.serializer)}Cu(e){return new i_(id.mi,this.serializer)}Du(e){return new Wx}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lu.provider={build:()=>new Lu};class jA extends Lu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){je(this.persistence.referenceDelegate instanceof Vu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ex(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new i_((s=>Vu.mi(s,t)),this.serializer)}}class Ef{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Jg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MA.bind(null,this.syncEngine),await pA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gA})()}createDatastore(e){const t=Ju(e.databaseInfo.databaseId),s=(function(l){return new Xx(l)})(e.databaseInfo);return(function(l,h,d,g){return new tA(l,h,d,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,h,d){return new rA(s,a,l,h,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Jg(this.syncEngine,t,0)),(function(){return Wg.v()?new Wg:new Kx})())}createSyncEngine(e,t){return(function(a,l,h,d,g,v,w){const E=new xA(a,l,h,d,g,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Te(a);se(is,"RemoteStore shutting down."),l.Ea.add(5),await Ua(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Ef.provider={build:()=>new Ef};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="FirestoreClient";class zA{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ft.UNAUTHENTICATED,this.clientId=qf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{se(vi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(se(vi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=fd(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Gh(r,e){r.asyncQueue.verifyOperationInProgress(),se(vi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async a=>{s.isEqual(a)||(await s_(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ey(r,e){r.asyncQueue.verifyOperationInProgress();const t=await BA(r);se(vi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>Gg(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,a)=>Gg(e.remoteStore,a))),r._onlineComponents=e}async function BA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(vi,"Using user provided OfflineComponentProvider");try{await Gh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;so("Error using user provided cache. Falling back to memory cache: "+t),await Gh(r,new Lu)}}else se(vi,"Using default OfflineComponentProvider"),await Gh(r,new jA(void 0));return r._offlineComponents}async function I_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(vi,"Using user provided OnlineComponentProvider"),await ey(r,r._uninitializedComponentsProvider._online)):(se(vi,"Using default OnlineComponentProvider"),await ey(r,new Ef))),r._onlineComponents}function $A(r){return I_(r).then((e=>e.syncEngine))}async function HA(r){const e=await I_(r),t=e.eventManager;return t.onListen=AA.bind(null,e.syncEngine),t.onUnlisten=kA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PA.bind(null,e.syncEngine),t}function qA(r,e,t={}){const s=new hi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,d,g,v){const w=new UA({next:I=>{w.Nu(),h.enqueueAndForget((()=>vA(l,E)));const D=I.docs.has(d);!D&&I.fromCache?v.reject(new he(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&I.fromCache&&g&&g.source==="server"?v.reject(new he(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),E=new EA(Jf(d.path),w,{includeMetadataChanges:!0,qa:!0});return yA(l,E)})(await HA(r),r.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="firestore.googleapis.com",ny=!0;class ry{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x_,this.ssl=ny}else this.host=e.host,this.ssl=e.ssl??ny;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_x)throw new he(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ry({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ry(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HI;switch(s.type){case"firstParty":return new GI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=ty.get(t);s&&(se("ComponentProvider","Removing Datastore"),ty.delete(t),s.terminate())})(this),Promise.resolve()}}function WA(r,e,t,s={}){var v;r=rs(r,gd);const a=Lf(e),l=r._getSettings(),h={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(QE(`https://${d}`),ZE("Firestore",!0)),l.host!==x_&&l.host!==d&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:d,ssl:a,emulatorOptions:s};if(!io(g,h)&&(r._setSettings(g),s.mockUserToken)){let w,E;if(typeof s.mockUserToken=="string")w=s.mockUserToken,E=Ft.MOCK_USER;else{w=YE(s.mockUserToken,(v=r._app)==null?void 0:v.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new he(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ft(I)}r._authCredentials=new qI(new gv(w,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yd(this.firestore,e,this._query)}}class yt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Oa(t,yt._jsonSchema))return new yt(e,s||null,new me(et.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:ft("string",yt._jsonSchemaVersion),referencePath:ft("string")};class Va extends yd{constructor(e,t,s){super(e,t,Jf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new me(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Qh(r,e,...t){if(r=ir(r),arguments.length===1&&(e=qf.newId()),eS("doc","path",e),r instanceof gd){const s=et.fromString(e,...t);return yg(s),new yt(r,null,new me(s))}{if(!(r instanceof yt||r instanceof Va))throw new he(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return yg(s),new yt(r.firestore,r instanceof Va?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="AsyncQueue";class sy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a_(this,"async_queue_retry"),this._c=()=>{const s=Kh();s&&se(iy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Kh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Kh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new hi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;se(iy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",oy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=hd.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ye(47125,{Pc:oy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function oy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class tc extends gd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new sy,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sy(e),this._firestoreClient=void 0,await e}}}function KA(r,e){const t=typeof r=="object"?r:jy(),s=typeof r=="string"?r:Au,a=Ma(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=KE("firestore");l&&WA(a,...l)}return a}function A_(r){if(r._terminated)throw new he(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GA(r),r._firestoreClient}function GA(r){var s,a,l;const e=r._freezeSettings(),t=(function(d,g,v,w){return new fS(d,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,S_(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new zA(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(Pt.fromBase64String(e))}catch(t){throw new he(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wn(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oa(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:ft("string",wn._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Oa(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:ft("string",nr._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oa(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rr(e.vectorValues);throw new he(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:ft("string",rr._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=/^__.*__$/;class YA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)}}class C_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function R_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class ic{constructor(e,t,s,a,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ic({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(R_(this.Ac)&&QA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XA{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ju(e)}Cc(e,t,s,a=!1){return new ic({Ac:e,methodName:t,Dc:s,path:kt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k_(r){const e=r._freezeSettings(),t=Ju(r._databaseId);return new XA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function JA(r,e,t,s,a,l={}){const h=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);_d("Data must be an object, but it was:",h,s);const d=P_(s,h);let g,v;if(l.merge)g=new ln(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const E of l.mergeFields){const I=Tf(e,E,t);if(!h.contains(I))throw new he(Q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);D_(w,I)||w.push(I)}g=new ln(w),v=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,v=h.fieldTransforms;return new YA(new Xt(d),g,v)}class sc extends rc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sc}}function ZA(r,e,t){return new ic({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vd extends rc{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=ZA(this,e,!0),s=this.vc.map((l=>Ba(l,t))),a=new uo(s);return new jS(e.path,a)}isEqual(e){return e instanceof vd&&io(this.vc,e.vc)}}function eC(r,e,t,s){const a=r.Cc(1,e,t);_d("Data must be an object, but it was:",a,s);const l=[],h=Xt.empty();Ei(s,((g,v)=>{const w=wd(e,g,t);v=ir(v);const E=a.yc(w);if(v instanceof sc)l.push(w);else{const I=Ba(v,E);I!=null&&(l.push(w),h.set(w,I))}}));const d=new ln(l);return new C_(h,d,a.fieldTransforms)}function tC(r,e,t,s,a,l){const h=r.Cc(1,e,t),d=[Tf(e,s,t)],g=[a];if(l.length%2!=0)throw new he(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(Tf(e,l[I])),g.push(l[I+1]);const v=[],w=Xt.empty();for(let I=d.length-1;I>=0;--I)if(!D_(v,d[I])){const D=d[I];let H=g[I];H=ir(H);const q=h.yc(D);if(H instanceof sc)v.push(D);else{const U=Ba(H,q);U!=null&&(v.push(D),w.set(D,U))}}const E=new ln(v);return new C_(w,E,h.fieldTransforms)}function Ba(r,e){if(N_(r=ir(r)))return _d("Unsupported field value:",e,r),P_(r,e);if(r instanceof rc)return(function(s,a){if(!R_(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let h=0;for(const d of s){let g=Ba(d,a.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(s,a){if((s=ir(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ge.fromDate(s);return{timestampValue:Du(a.serializer,l)}}if(s instanceof Ge){const l=new Ge(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Du(a.serializer,l)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wn)return{bytesValue:Yv(a.serializer,s._byteString)};if(s instanceof yt){const l=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw a.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:nd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof rr)return(function(h,d){return{mapValue:{fields:{[xv]:{stringValue:Av},[Cu]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw d.Sc("VectorValues must only contain numeric values.");return Zf(d.serializer,v)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Wf(s)}`)})(r,e)}function P_(r,e){const t={};return _v(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(r,((s,a)=>{const l=Ba(a,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function N_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ge||r instanceof nr||r instanceof wn||r instanceof yt||r instanceof rc||r instanceof rr)}function _d(r,e,t){if(!N_(t)||!yv(t)){const s=Wf(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Tf(r,e,t){if((e=ir(e))instanceof nc)return e._internalPath;if(typeof e=="string")return wd(r,e);throw Mu("Field path arguments must be of type string or ",r,!1,void 0,t)}const nC=new RegExp("[~\\*/\\[\\]]");function wd(r,e,t){if(e.search(nC)>=0)throw Mu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new nc(...e.split("."))._internalPath}catch{throw Mu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Mu(r,e,t,s,a){const l=s&&!s.isEmpty(),h=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new he(Q.INVALID_ARGUMENT,d+r+g)}function D_(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(b_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rC extends V_{data(){return super.data()}}function b_(r,e){return typeof e=="string"?wd(r,e):e instanceof nc?e._internalPath:e._delegate._internalPath}class iC{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ei(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){var s,a,l;const t=(l=(a=(s=e.fields)==null?void 0:s[Cu].arrayValue)==null?void 0:a.values)==null?void 0:l.map((h=>at(h.doubleValue)));return new rr(t)}convertGeoPoint(e){return new nr(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=qu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ka(e));default:return null}}convertTimestamp(e){const t=pi(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);je(n_(s),9688,{name:e});const a=new Pa(s.get(1),s.get(3)),l=new me(s.popFirst(5));return a.isEqual(t)||kr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class _a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zi extends V_{constructor(e,t,s,a,l,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(b_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Zi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Zi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zi._jsonSchema={type:ft("string",Zi._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class _u extends Zi{data(e={}){return super.data(e)}}class xa{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new _a(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new _u(this._firestore,this._userDataWriter,s.key,s,new _a(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map((d=>{const g=new _u(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _a(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new _u(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _a(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return d.type!==0&&(v=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),w=h.indexOf(d.doc.key)),{type:oC(d.type),doc:g,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){r=rs(r,yt);const e=rs(r.firestore,tc);return qA(A_(e),r._key).then((t=>cC(e,r,t)))}xa._jsonSchemaVersion="firestore/querySnapshot/1.0",xa._jsonSchema={type:ft("string",xa._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};class lC extends iC{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function uC(r,e,t){r=rs(r,yt);const s=rs(r.firestore,tc),a=sC(r.converter,e);return L_(s,[JA(k_(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,er.none())])}function ay(r,e,t,...s){r=rs(r,yt);const a=rs(r.firestore,tc),l=k_(a);let h;return h=typeof(e=ir(e))=="string"||e instanceof nc?tC(l,"updateDoc",r._key,e,t,s):eC(l,"updateDoc",r._key,e),L_(a,[h.toMutation(r._key,er.exists(!0))])}function L_(r,e){return(function(s,a){const l=new hi;return s.asyncQueue.enqueueAndForget((async()=>NA(await $A(s),a,l))),l.promise})(A_(r),e)}function cC(r,e,t){const s=t.docs.get(e._key),a=new lC(r);return new Zi(r,a,e._key,s,new _a(t.hasPendingWrites,t.fromCache),e.converter)}function hC(...r){return new vd("arrayUnion",r)}(function(e,t=!0){(function(a){mo=a})(cT),fi(new Cr("firestore",((s,{instanceIdentifier:a,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new tc(new WI(s.getProvider("auth-internal")),new QI(h,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new he(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(v.options.projectId,w)})(h,a),h);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Jn(dg,pg,e),Jn(dg,pg,"esm2020")})();const fC={apiKey:"AIzaSyBBAE8k0c7nScVMzkzsx-v8AgNQbl25TsA",authDomain:"my-portfolio-2d377.firebaseapp.com",projectId:"my-portfolio-2d377",storageBucket:"my-portfolio-2d377.firebasestorage.app",messagingSenderId:"726904277634",appId:"1:726904277634:web:3297183ca92cbee73c429b",measurementId:"G-RRGS1J5R9P"},M_=Fy(fC);jI(M_);const Xs=KA(M_),Ed="portfolio_db_v1",Ou={profile:{name:"Ravindra Khillare",title:"Computer Teacher & Tech Enthusiast",location:"Phulambri, Chhatrapati Sambhaji Nagar",bio:"I am a passionate educator and technologist with expertise in software, hardware, robotoics, and coding. I focus on creating digital assets for kids education.",social:{email:"contact@example.com",phone:"+91 1234567890"},image:"https://placehold.co/400x400?text=RK"},services:[{id:1,title:"Software & Hardware",description:"Comprehensive solutions and troubleshooting.",icon:"Cpu"},{id:2,title:"Teaching & Coding",description:"Expert guidance in programming and computer science.",icon:"Code"},{id:3,title:"Robotics",description:"Hands-on robotics training and workshop.",icon:"Bot"},{id:4,title:"Digital Education",description:"Creating engaging online games, videos, and ebooks for kids.",icon:"BookOpen"}],slider:[{id:1,title:"Digital Skills",text:"Empowering Students with Digital Skills for the Future.",image:"https://images.unsplash.com/photo-1571260899304-425eee4c7efc?w=800&q=80",link:"#",active:!0},{id:2,title:"Robotics",text:"Building the Future with Hands-on Robotics & Code.",image:"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=800&q=80",link:"#",active:!0}],ads:[{id:1,title:"Local Book Store",content:"Get 20% off on all coding books!",startDate:"2024-01-01",endDate:"2025-12-31",active:!0}],messages:[],settings:{password:"admin123"}},hu=()=>{const r=localStorage.getItem(Ed);return r?JSON.parse(r):Ou},If=r=>localStorage.setItem(Ed,JSON.stringify(r));localStorage.getItem(Ed)||If(Ou);const ss={get:async()=>{if(Xs)try{const r=Qh(Xs,"portfolio","main"),e=await aC(r);return e.exists()?e.data():(await uC(r,Ou),Ou)}catch(r){return console.error("Error fetching from Firebase",r),hu()}else return hu()},update:async(r,e)=>{const t=hu();if(t[r]=e,If(t),Xs)try{const s=Qh(Xs,"portfolio","main");await ay(s,{[r]:e})}catch(s){console.error("Error updating Firebase",s)}return t},addMessage:async r=>{const e={id:Date.now(),...r,date:new Date().toISOString()},t=hu();if(t.messages.push(e),If(t),Xs)try{const s=Qh(Xs,"portfolio","main");await ay(s,{messages:hC(e)})}catch(s){console.error("Error sending message to Firebase",s)}return e},checkPassword:async r=>{var s;const t=((s=(await ss.get()).settings)==null?void 0:s.password)||"admin123";return r===t},changeSettings:async r=>await ss.update("settings",r)};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O_=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:h,...d},g)=>z.createElement("svg",{ref:g,...pC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:O_("lucide",a),...d},[...h.map(([v,w])=>z.createElement(v,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(r,e)=>{const t=z.forwardRef(({className:s,...a},l)=>z.createElement(mC,{ref:l,iconNode:e,className:O_(`lucide-${dC(r)}`,s),...a}));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=dt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=dt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=dt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=dt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=dt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=dt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=dt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=dt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function PC({slides:r}){const[e,t]=z.useState(0);if(z.useEffect(()=>{if(!r||r.length===0)return;const h=setInterval(()=>{t(d=>(d+1)%r.length)},6e3);return()=>clearInterval(h)},[r]),!r||r.length===0)return null;const s=()=>t(h=>(h+1)%r.length),a=()=>t(h=>(h-1+r.length)%r.length),l=r[e];return A.jsxs("div",{className:"relative w-full h-[500px] rounded-2xl overflow-hidden shadow-2xl group",children:[A.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-700 ease-in-out transform hover:scale-105",style:{backgroundImage:`url(${l.image||"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=1200&q=80"})`},children:A.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-slate-900/40"})}),A.jsx("div",{className:"absolute inset-0 flex items-center px-4 md:px-16",children:A.jsxs("div",{className:"max-w-2xl text-white space-y-6 animate-in slide-in-from-bottom-10 duration-700 fade-in",children:[A.jsx("span",{className:"inline-block px-3 py-1 bg-primary/20 border border-primary/50 rounded-full text-primary-foreground text-xs font-bold tracking-wider uppercase backdrop-blur-sm",children:"Featured"}),A.jsx("h2",{className:"text-4xl md:text-6xl font-extrabold tracking-tight leading-tight",children:l.title||"Welcome"}),A.jsx("p",{className:"text-lg md:text-xl text-slate-200 leading-relaxed max-w-lg",children:l.text}),l.link&&A.jsxs("a",{href:l.link,className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-white px-8 py-3 rounded-lg font-semibold transition group-hover:translate-x-1",children:["Learn More ",A.jsx(gC,{size:18})]})]})}),A.jsxs("div",{className:"absolute bottom-8 right-8 flex gap-2",children:[A.jsx("button",{onClick:a,className:"p-3 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur border border-white/20 text-white transition",children:A.jsx(_C,{size:24})}),A.jsx("button",{onClick:s,className:"p-3 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur border border-white/20 text-white transition",children:A.jsx(wC,{size:24})})]}),A.jsx("div",{className:"absolute bottom-8 left-8 md:left-16 flex gap-2",children:r.map((h,d)=>A.jsx("button",{onClick:()=>t(d),className:`h-1.5 rounded-full transition-all duration-300 ${d===e?"w-8 bg-primary":"w-2 bg-white/30 hover:bg-white/50"}`},d))})]})}function NC({ads:r}){const[e,t]=z.useState(0),s=new Date().toISOString().split("T")[0],a=r.filter(h=>h.active&&h.startDate<=s&&h.endDate>=s);if(z.useEffect(()=>{if(a.length<=1)return;const h=setInterval(()=>{t(d=>(d+1)%a.length)},8e3);return()=>clearInterval(h)},[a.length]),a.length===0)return null;const l=a[e];return A.jsx("div",{className:"space-y-8",children:A.jsxs("div",{className:"w-full bg-gradient-to-r from-amber-50 to-orange-50 border border-orange-200 rounded-xl p-6 shadow-sm flex flex-col md:flex-row items-center justify-between gap-4 animate-in fade-in duration-700",children:[A.jsxs("div",{className:"flex-1",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("span",{className:"text-xs font-bold text-white bg-orange-500 px-2 py-0.5 rounded uppercase tracking-wider",children:"Local Partner"}),A.jsxs("span",{className:"text-xs text-orange-400",children:["Expires: ",l.endDate]})]}),A.jsx("h3",{className:"text-xl font-bold text-slate-800",children:l.title}),A.jsx("p",{className:"text-slate-600 mt-1",children:l.content})]}),A.jsx("button",{className:"px-6 py-2.5 bg-orange-500 text-white font-semibold rounded-lg hover:bg-orange-600 transition shadow-orange-200 shadow-lg whitespace-nowrap",children:"View Offer"})]})})}function DC(){const[r,e]=z.useState(!1),[t,s]=z.useState(""),[a,l]=z.useState(!1),h=async d=>{d.preventDefault(),t.trim()&&(await ss.addMessage({text:t,sender:"Guest User"}),l(!0),s(""),setTimeout(()=>{l(!1),e(!1)},2e3))};return A.jsxs("div",{className:"fixed bottom-6 right-6 z-50",children:[!r&&A.jsx("button",{onClick:()=>e(!0),className:"bg-primary hover:bg-secondary text-white p-4 rounded-full shadow-lg transition-transform hover:scale-110 flex items-center justify-center",children:A.jsx(AC,{size:28})}),r&&A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-80 overflow-hidden border border-slate-200 animate-in slide-in-from-bottom-5 fade-in duration-300",children:[A.jsxs("div",{className:"bg-primary p-4 flex justify-between items-center text-white",children:[A.jsx("h3",{className:"font-semibold",children:"Chat with Us"}),A.jsx("button",{onClick:()=>e(!1),className:"hover:bg-white/20 rounded-full p-1",children:A.jsx(j_,{size:20})})]}),A.jsx("div",{className:"p-4 h-64 flex flex-col justify-between bg-slate-50",children:a?A.jsx("div",{className:"flex-1 flex items-center justify-center text-center text-green-600 animate-in zoom-in",children:A.jsxs("div",{children:[A.jsx("div",{className:"text-4xl mb-2",children:""}),A.jsx("p",{className:"font-medium",children:"Message sent!"}),A.jsx("p",{className:"text-sm text-slate-500",children:"We'll get back to you soon."})]})}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"flex-1 overflow-y-auto mb-4 space-y-3",children:A.jsx("div",{className:"bg-slate-200 rounded-lg p-3 rounded-tl-none max-w-[85%] text-sm text-slate-700",children:"Hi! I'm Ravindra's automated assistant. How can I help you regarding coding, robotics, or education?"})}),A.jsxs("form",{onSubmit:h,className:"relative",children:[A.jsx("input",{type:"text",value:t,onChange:d=>s(d.target.value),placeholder:"Type your message...",className:"w-full pl-4 pr-10 py-3 rounded-full border border-slate-300 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary text-sm"}),A.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 text-primary p-1.5 hover:bg-slate-100 rounded-full",children:A.jsx(kC,{size:18})})]})]})})]})]})}const VC={Cpu:EC,Code:F_,Bot:vC,BookOpen:yC,GraduationCap:TC};function bC(){const[r,e]=z.useState(null);return z.useEffect(()=>{const t=async()=>{const s=await ss.get();e(s)};return t(),window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]),r?A.jsxs("div",{className:"pb-20",children:[A.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:A.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12",children:[A.jsxs("div",{className:"flex-1 space-y-6",children:[A.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-slate-900 tracking-tight",children:["Hello, I'm ",A.jsx("span",{className:"text-primary",children:r.profile.name})]}),A.jsx("p",{className:"text-xl text-slate-600 leading-relaxed",children:r.profile.title}),A.jsx("p",{className:"text-slate-500 max-w-lg",children:r.profile.bio}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{className:"bg-primary text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary/90 transition shadow-lg shadow-primary/30",children:"Contact Me"}),A.jsx("button",{className:"bg-white text-slate-700 border border-slate-200 px-8 py-3 rounded-lg font-semibold hover:bg-slate-50 transition",children:"View Projects"})]})]}),A.jsx("div",{className:"flex-1 flex justify-center",children:A.jsxs("div",{className:"relative w-72 h-72 md:w-96 md:h-96",children:[A.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-3xl animate-pulse"}),A.jsx("img",{src:r.profile.image,alt:"Ravindra Khillare",className:"relative w-full h-full object-cover rounded-full border-4 border-white shadow-2xl"})]})})]})}),A.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:A.jsx(PC,{slides:r.slider.filter(t=>t.active)})}),A.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsx(NC,{ads:r.ads})}),A.jsx("section",{id:"services",className:"bg-white py-16",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"What I Do"}),A.jsx("p",{className:"mt-4 text-slate-500",children:"Expertise in Technology and Education"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.services.map(t=>{const s=VC[t.icon]||F_;return A.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl hover:shadow-lg transition duration-300 border border-slate-100 group",children:[A.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center text-primary shadow-sm mb-4 group-hover:bg-primary group-hover:text-white transition",children:A.jsx(s,{size:24})}),A.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:t.title}),A.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:t.description})]},t.id)})})]})}),A.jsx(DC,{})]}):A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."})}const U_=z.createContext(null),LC=({children:r})=>{const[e,t]=z.useState(!1),[s,a]=z.useState(!0);z.useEffect(()=>{localStorage.getItem("portfolio_auth")==="true"&&t(!0),a(!1)},[]);const l=async d=>await ss.checkPassword(d)?(localStorage.setItem("portfolio_auth","true"),t(!0),!0):!1,h=()=>{localStorage.removeItem("portfolio_auth"),t(!1)};return A.jsx(U_.Provider,{value:{isAuthenticated:e,login:l,logout:h,loading:s},children:!s&&r})},Td=()=>z.useContext(U_);function MC(){const{logout:r}=Td(),[e,t]=z.useState(null),[s,a]=z.useState("profile"),[l,h]=z.useState("");z.useEffect(()=>{(async()=>{const E=await ss.get();t(E)})()},[]);const d=async(w,E)=>{t(I=>({...I,[w]:E})),await ss.update(w,E),g("Saved successfully!")},g=w=>{h(w),setTimeout(()=>h(""),3e3)};if(!e)return A.jsx("div",{children:"Loading..."});const v=[{id:"profile",label:"Profile",icon:cy},{id:"slider",label:"Slider",icon:IC},{id:"ads",label:"Ads",icon:RC},{id:"messages",label:"Messages",icon:CC},{id:"settings",label:"Security",icon:cy}];return A.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),A.jsx("button",{onClick:r,className:"text-red-500 hover:text-red-700 font-medium",children:"Logout"})]}),A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden min-h-[600px] flex flex-col md:flex-row",children:[A.jsx("div",{className:"w-full md:w-64 bg-slate-50 border-r border-slate-200 p-4",children:A.jsx("nav",{className:"space-y-2",children:v.map(w=>{const E=w.icon;return A.jsxs("button",{onClick:()=>a(w.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition ${s===w.id?"bg-white text-primary shadow-sm ring-1 ring-slate-200":"text-slate-600 hover:bg-slate-100"}`,children:[A.jsx(E,{size:20}),A.jsx("span",{className:"font-medium",children:w.label})]},w.id)})})}),A.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[l&&A.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg animate-in slide-in-from-right fade-in z-50",children:l}),s==="profile"&&A.jsxs("div",{className:"space-y-6 max-w-2xl",children:[A.jsx("h2",{className:"text-xl font-bold mb-6",children:"Edit Profile"}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),A.jsx("input",{className:"w-full border p-2 rounded",value:e.profile.name,onChange:w=>t({...e,profile:{...e.profile,name:w.target.value}})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),A.jsx("input",{className:"w-full border p-2 rounded",value:e.profile.title,onChange:w=>t({...e,profile:{...e.profile,title:w.target.value}})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bio"}),A.jsx("textarea",{className:"w-full border p-2 rounded h-24",value:e.profile.bio,onChange:w=>t({...e,profile:{...e.profile,bio:w.target.value}})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),A.jsx("input",{className:"w-full border p-2 rounded",value:e.profile.image,onChange:w=>t({...e,profile:{...e.profile,image:w.target.value}})})]}),A.jsxs("button",{onClick:()=>d("profile",e.profile),className:"bg-primary text-white px-6 py-2 rounded-lg flex items-center gap-2 hover:bg-primary/90",children:[A.jsx(Yh,{size:18})," Save Changes"]})]}),s==="slider"&&A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Manage Slider"}),A.jsxs("button",{onClick:()=>{const w=[...e.slider];d("slider",w)},className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:[A.jsx(ly,{size:16})," Add Slide"]})]}),A.jsxs("div",{className:"space-y-6",children:[e.slider.map((w,E)=>A.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border space-y-4",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("h3",{className:"font-semibold text-slate-700",children:["Slide #",E+1]}),A.jsx("button",{onClick:()=>{const I=e.slider.filter(D=>D.id!==w.id);d("slider",I)},className:"text-red-500 hover:text-red-700",children:A.jsx(uy,{size:18})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Title"}),A.jsx("input",{className:"w-full border p-2 rounded mt-1",value:w.title||"",onChange:I=>{const D=[...e.slider];D[E].title=I.target.value,t({...e,slider:D})}})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Description"}),A.jsx("textarea",{className:"w-full border p-2 rounded mt-1 h-20",value:w.text,onChange:I=>{const D=[...e.slider];D[E].text=I.target.value,t({...e,slider:D})}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Image URL"}),A.jsx("input",{className:"w-full border p-2 rounded mt-1",value:w.image||"",placeholder:"https://...",onChange:I=>{const D=[...e.slider];D[E].image=I.target.value,t({...e,slider:D})}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Link URL"}),A.jsx("input",{className:"w-full border p-2 rounded mt-1",value:w.link||"",placeholder:"#",onChange:I=>{const D=[...e.slider];D[E].link=I.target.value,t({...e,slider:D})}})]})]}),A.jsx("div",{children:A.jsx("button",{onClick:()=>{const I=[...e.slider];I[E].active=!I[E].active,d("slider",I)},className:`px-3 py-1 rounded text-sm ${w.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:w.active?"Active":"Hidden"})})]},w.id)),A.jsxs("button",{onClick:()=>d("slider",e.slider),className:"mt-4 bg-primary text-white px-6 py-2 rounded-lg flex items-center gap-2",children:[A.jsx(Yh,{size:18})," Update Slider"]})]})]}),s==="ads"&&A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Ad Management"}),A.jsxs("button",{onClick:()=>{const w={id:Date.now(),title:"New Ad",content:"Ad Content",startDate:new Date().toISOString().split("T")[0],endDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],active:!0},E=[...e.ads,w];d("ads",E)},className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:[A.jsx(ly,{size:16})," Create Ad"]})]}),A.jsxs("div",{className:"grid gap-6",children:[e.ads.map((w,E)=>A.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border space-y-4",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsxs("h3",{className:"font-semibold text-slate-700",children:["Ad #",E+1]}),A.jsx("button",{onClick:()=>{const I=e.ads.filter(D=>D.id!==w.id);d("ads",I)},className:"text-red-500 hover:text-red-700",children:A.jsx(uy,{size:18})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Title"}),A.jsx("input",{className:"w-full border p-2 rounded mt-1",value:w.title,onChange:I=>{const D=[...e.ads];D[E].title=I.target.value,t({...e,ads:D})}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Status"}),A.jsxs("select",{className:"w-full border p-2 rounded mt-1",value:w.active,onChange:I=>{const D=[...e.ads];D[E].active=I.target.value==="true",t({...e,ads:D})},children:[A.jsx("option",{value:"true",children:"Active"}),A.jsx("option",{value:"false",children:"Inactive"})]})]}),A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Content"}),A.jsx("input",{className:"w-full border p-2 rounded mt-1",value:w.content,onChange:I=>{const D=[...e.ads];D[E].content=I.target.value,t({...e,ads:D})}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Start Date"}),A.jsx("input",{type:"date",className:"w-full border p-2 rounded mt-1",value:w.startDate,onChange:I=>{const D=[...e.ads];D[E].startDate=I.target.value,t({...e,ads:D})}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"End Date"}),A.jsx("input",{type:"date",className:"w-full border p-2 rounded mt-1",value:w.endDate,onChange:I=>{const D=[...e.ads];D[E].endDate=I.target.value,t({...e,ads:D})}})]})]})]},w.id)),A.jsxs("button",{onClick:()=>d("ads",e.ads),className:"bg-primary text-white px-6 py-2 rounded-lg flex items-center gap-2 w-max",children:[A.jsx(Yh,{size:18})," Update Ads"]})]})]}),s==="messages"&&A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-bold mb-6",children:"Inbox"}),e.messages.length===0?A.jsx("div",{className:"text-center py-12 text-slate-400 bg-slate-50 rounded-lg border border-dashed",children:"No messages yet."}):A.jsx("div",{className:"space-y-4",children:[...e.messages].reverse().map((w,E)=>A.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200 shadow-sm",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("span",{className:"font-bold text-slate-800",children:w.sender}),A.jsx("span",{className:"text-xs text-slate-500",children:new Date(w.date).toLocaleString()})]}),A.jsx("p",{className:"text-slate-600",children:w.text})]},E))})]}),s==="settings"&&A.jsxs("div",{className:"max-w-md",children:[A.jsx("h2",{className:"text-xl font-bold mb-6",children:"Security Settings"}),A.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Password"}),A.jsx("input",{type:"password",className:"w-full border p-2 rounded mb-4",placeholder:"Enter new password",id:"new-password"}),A.jsx("button",{onClick:()=>{const w=document.getElementById("new-password").value;w&&d("settings",{...e.settings,password:w})},className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700",children:"Update Password"})]}),A.jsxs("div",{className:"mt-8",children:[A.jsx("h3",{className:"font-bold mb-2",children:"Build Information"}),A.jsx("p",{className:"text-sm text-slate-500",children:"Version: 2.0.0 (Production Ready)"}),A.jsx("p",{className:"text-sm text-slate-500",children:"Backend: Hybrid (Firebase / LocalStorage)"})]})]})]})]})]})}function OC(){const[r,e]=z.useState(""),[t,s]=z.useState(""),{login:a,isAuthenticated:l}=Td(),h=kf();xf.useEffect(()=>{l&&h("/admin")},[l,h]);const d=async g=>{g.preventDefault(),await a(r)?h("/admin"):s("Invalid password")};return A.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4",children:A.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 border border-slate-100",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-primary",children:A.jsx(SC,{size:32})}),A.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Admin Access"}),A.jsx("p",{className:"text-slate-500 mt-2",children:"Enter your secure PIN to continue"})]}),A.jsxs("form",{onSubmit:d,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),A.jsx("input",{type:"password",value:r,onChange:g=>e(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none transition",placeholder:""}),t&&A.jsx("p",{className:"text-red-500 text-sm mt-2",children:t})]}),A.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary/90 transition shadow-lg shadow-primary/20",children:"Unlock Dashboard"})]})]})})}function FC(){const[r,e]=xf.useState(!1);return A.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[A.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:[A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex justify-between h-16 items-center",children:[A.jsx("div",{className:"flex-shrink-0 flex items-center",children:A.jsx(Yn,{to:"/",className:"text-2xl font-bold text-primary",children:"RK Portfolio"})}),A.jsxs("nav",{className:"hidden md:flex space-x-8",children:[A.jsx(Yn,{to:"/",className:"text-gray-700 hover:text-primary px-3 py-2 rounded-md font-medium",children:"Home"}),A.jsx(Yn,{to:"/#services",className:"text-gray-700 hover:text-primary px-3 py-2 rounded-md font-medium",children:"Services"}),A.jsx(Yn,{to:"/#about",className:"text-gray-700 hover:text-primary px-3 py-2 rounded-md font-medium",children:"About"}),A.jsx(Yn,{to:"/login",className:"text-gray-500 hover:text-primary px-3 py-2 rounded-md text-sm",children:"Admin"})]}),A.jsx("div",{className:"md:hidden",children:A.jsx("button",{onClick:()=>e(!r),className:"text-gray-700 hover:text-primary",children:r?A.jsx(j_,{size:24}):A.jsx(xC,{size:24})})})]})}),r&&A.jsx("div",{className:"md:hidden bg-white border-t",children:A.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[A.jsx(Yn,{to:"/",onClick:()=>e(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50",children:"Home"}),A.jsx(Yn,{to:"/#services",onClick:()=>e(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50",children:"Services"}),A.jsx(Yn,{to:"/login",onClick:()=>e(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-500 hover:bg-gray-50",children:"Admin Panel"})]})})]}),A.jsx("main",{className:"flex-grow",children:A.jsx(tE,{})}),A.jsx("footer",{className:"bg-slate-900 text-white py-8",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[A.jsxs("p",{children:[" ",new Date().getFullYear()," Ravindra Khillare. All rights reserved."]}),A.jsx("div",{className:"mt-4 flex justify-center space-x-4",children:A.jsx("span",{className:"text-slate-400",children:"Digital Education & Technology"})})]})})]})}function jC({children:r}){const{isAuthenticated:e}=Td();return e?r:A.jsx(eE,{to:"/login",replace:!0})}function UC(){return A.jsx(LC,{children:A.jsx(CE,{children:A.jsx(rE,{children:A.jsxs(ma,{path:"/",element:A.jsx(FC,{}),children:[A.jsx(ma,{index:!0,element:A.jsx(bC,{})}),A.jsx(ma,{path:"login",element:A.jsx(OC,{})}),A.jsx(ma,{path:"admin/*",element:A.jsx(jC,{children:A.jsx(MC,{})})})]})})})})}nw.createRoot(document.getElementById("root")).render(A.jsx(xf.StrictMode,{children:A.jsx(UC,{})}));
